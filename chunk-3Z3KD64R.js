import{c as Nn,d as Lt,g as Pt,h as Nt,j as $t}from"./chunk-4N6BO7AP.js";import{d as Ge,j as N,l as _e,m as Ee,n as Ie,r as Ue,s as oe,t as Bn,v as pt,w as Ln,x as Ke,z as Pn}from"./chunk-2FEP6AZJ.js";import{$a as In,$b as O,Aa as Me,Ac as zt,B as $e,Ba as J,Bb as ge,C as Cn,Ca as fe,Cb as Ce,D as Tn,Da as ee,E as le,Ea as lt,Eb as ct,G as te,Hc as Q,Ic as He,Jc as G,Kc as ut,La as Oe,Lc as Wn,Ma as E,Mb as I,Mc as Wt,N as En,Na as k,Nb as ue,Nc as Fn,Ob as m,Oc as An,Pb as Ve,Pc as Ft,Q as be,Qa as Vn,Qb as re,Qc as P,Rc as At,Sa as Hn,Sc as pe,T as kn,Tc as we,Uc as ae,Va as ie,Wa as M,Y as Sn,_ as je,_b as b,aa as de,ac as X,c as Te,dc as zn,ea as ot,ec as Z,f as q,fa as bn,g as yn,ga as xn,gd as Xe,h as wn,ha as ce,id as Bt,ja as Mn,mb as dt,nc as L,pc as h,q as _n,qa as xe,ra as ve,ta as On,u as j,ub as y,v as Dn,va as st,vb as _,w as Ne,xc as Y,yc as ye,zb as Rn,zc as Ye}from"./chunk-GCPY7ULT.js";import{a as K,b as at,d as gn}from"./chunk-FFXK657A.js";function Vi(t,i){return typeof t>"u"?typeof i>"u"?t:i:t}function Gt(t,i){return t=Vi(t,i),typeof t=="function"?function(){for(var n=arguments,r=arguments.length,a=Array(r),o=0;o<r;o++)a[o]=n[o];return!!t.apply(this,a)}:t?function(){return!0}:function(){return!1}}var jt=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol?"symbol":typeof t},jn=function(t){return t!=null&&(typeof t>"u"?"undefined":jt(t))==="object"&&t.nodeType===1&&jt(t.style)==="object"&&jt(t.ownerDocument)==="object"};function Yn(t,i){if(i=qt(i,!0),!jn(i))return-1;for(var e=0;e<t.length;e++)if(t[e]===i)return e;return-1}function Ut(t,i){return Yn(t,i)!==-1}function Hi(t,i){for(var e=0;e<i.length;e++)Ut(t,i[e])||t.push(i[e]);return i}function Ii(t){for(var i=arguments,e=[],n=arguments.length-1;n-- >0;)e[n]=i[n+1];return e=e.map(qt),Hi(t,e)}function Ri(t){for(var i=arguments,e=[],n=arguments.length-1;n-- >0;)e[n]=i[n+1];return e.map(qt).reduce(function(r,a){var o=Yn(t,a);return o!==-1?r.concat(t.splice(o,1)):r},[])}function qt(t,i){if(typeof t=="string")try{return document.querySelector(t)}catch(e){throw e}if(!jn(t)&&!i)throw new TypeError(t+" is not a DOM element.");return t}function zi(t,i){i=i||{};var e=Gt(i.allowUpdate,!0);return function(r){if(r=r||window.event,t.target=r.target||r.srcElement||r.originalTarget,t.element=this,t.type=r.type,!!e(r)){if(r.targetTouches)t.x=r.targetTouches[0].clientX,t.y=r.targetTouches[0].clientY,t.pageX=r.targetTouches[0].pageX,t.pageY=r.targetTouches[0].pageY,t.screenX=r.targetTouches[0].screenX,t.screenY=r.targetTouches[0].screenY;else{if(r.pageX===null&&r.clientX!==null){var a=r.target&&r.target.ownerDocument||document,o=a.documentElement,s=a.body;t.pageX=r.clientX+(o&&o.scrollLeft||s&&s.scrollLeft||0)-(o&&o.clientLeft||s&&s.clientLeft||0),t.pageY=r.clientY+(o&&o.scrollTop||s&&s.scrollTop||0)-(o&&o.clientTop||s&&s.clientTop||0)}else t.pageX=r.pageX,t.pageY=r.pageY;t.x=r.clientX,t.y=r.clientY,t.screenX=r.screenX,t.screenY=r.screenY}t.clientX=t.x,t.clientY=t.y}}}function Wi(){var t={top:{value:0,enumerable:!0},left:{value:0,enumerable:!0},right:{value:window.innerWidth,enumerable:!0},bottom:{value:window.innerHeight,enumerable:!0},width:{value:window.innerWidth,enumerable:!0},height:{value:window.innerHeight,enumerable:!0},x:{value:0,enumerable:!0},y:{value:0,enumerable:!0}};if(Object.create)return Object.create({},t);var i={};return Object.defineProperties(i,t),i}function Xn(t){if(t===window)return Wi();try{var i=t.getBoundingClientRect();return i.x===void 0&&(i.x=i.left,i.y=i.top),i}catch{throw new TypeError("Can't call getBoundingClientRect on "+t)}}function Fi(t,i){var e=Xn(i);return t.y>e.top&&t.y<e.bottom&&t.x>e.left&&t.x<e.right}var Kt=void 0;typeof Object.create!="function"?Kt=function(t){var i=function(){};return function(e,n){if(e!==Object(e)&&e!==null)throw TypeError("Argument must be an object, or null");i.prototype=e||{};var r=new i;return i.prototype=null,n!==t&&Object.defineProperties(r,n),e===null&&(r.__proto__=null),r}}():Kt=Object.create;var Ai=Kt,Re=["altKey","button","buttons","clientX","clientY","ctrlKey","metaKey","movementX","movementY","offsetX","offsetY","pageX","pageY","region","relatedTarget","screenX","screenY","shiftKey","which","x","y"];function Bi(t){var i={screenX:0,screenY:0,clientX:0,clientY:0,ctrlKey:!1,shiftKey:!1,altKey:!1,metaKey:!1,button:0,buttons:1,relatedTarget:null,region:null};t!==void 0&&t.addEventListener("mousemove",e);function e(a){for(var o=0;o<Re.length;o++)i[Re[o]]=a[Re[o]]}var n=function(){if(MouseEvent)return function(o,s,d){var l=new MouseEvent("mousemove",Yt(i,s));return Xt(l,d),o.dispatchEvent(l)};if(typeof document.createEvent=="function")return function(o,s,d){var l=Yt(i,s),c=document.createEvent("MouseEvents");return c.initMouseEvent("mousemove",!0,!0,window,0,l.screenX,l.screenY,l.clientX,l.clientY,l.ctrlKey,l.altKey,l.shiftKey,l.metaKey,l.button,l.relatedTarget),Xt(c,d),o.dispatchEvent(c)};if(typeof document.createEventObject=="function")return function(o,s,d){var l=document.createEventObject(),c=Yt(i,s);for(var p in c)l[p]=c[p];return Xt(l,d),o.dispatchEvent(l)}}();function r(){t&&t.removeEventListener("mousemove",e,!1),i=null}return{destroy:r,dispatch:n}}function Yt(t,i){i=i||{};for(var e=Ai(t),n=0;n<Re.length;n++)i[Re[n]]!==void 0&&(e[Re[n]]=i[Re[n]]);return e}function Xt(t,i){console.log("data ",i),t.data=i||{},t.dispatched="mousemove"}var Ze=["webkit","moz","ms","o"],qe=function(){if(typeof window>"u")return function(){};for(var t=0,i=Ze.length;t<i&&!window.requestAnimationFrame;++t)window.requestAnimationFrame=window[Ze[t]+"RequestAnimationFrame"];if(!window.requestAnimationFrame){var e=0;window.requestAnimationFrame=function(n){var r=new Date().getTime(),a=Math.max(0,16-r-e),o=window.setTimeout(function(){return n(r+a)},a);return e=r+a,o}}return window.requestAnimationFrame.bind(window)}(),Be=function(){if(typeof window>"u")return function(){};for(var t=0,i=Ze.length;t<i&&!window.cancelAnimationFrame;++t)window.cancelAnimationFrame=window[Ze[t]+"CancelAnimationFrame"]||window[Ze[t]+"CancelRequestAnimationFrame"];return window.cancelAnimationFrame||(window.cancelAnimationFrame=function(e){window.clearTimeout(e)}),window.cancelAnimationFrame.bind(window)}();function Li(t,i){i===void 0&&(i={});var e=this,n=4,r=!1;if(typeof i.margin!="object"){var a=i.margin||-1;this.margin={left:a,right:a,top:a,bottom:a}}else this.margin=i.margin;this.scrollWhenOutside=i.scrollWhenOutside||!1;var o={},s=zi(o),d=Bi(),l=!1;window.addEventListener("mousemove",s,!1),window.addEventListener("touchmove",s,!1),isNaN(i.maxSpeed)||(n=i.maxSpeed),typeof n!="object"&&(n={left:n,right:n,top:n,bottom:n}),this.autoScroll=Gt(i.autoScroll),this.syncMove=Gt(i.syncMove,!1),this.destroy=function(f){window.removeEventListener("mousemove",s,!1),window.removeEventListener("touchmove",s,!1),window.removeEventListener("mousedown",T,!1),window.removeEventListener("touchstart",T,!1),window.removeEventListener("mouseup",D,!1),window.removeEventListener("touchend",D,!1),window.removeEventListener("pointerup",D,!1),window.removeEventListener("mouseleave",x,!1),window.removeEventListener("mousemove",W,!1),window.removeEventListener("touchmove",W,!1),window.removeEventListener("scroll",g,!0),t=[],f&&S()},this.add=function(){for(var f=[],v=arguments.length;v--;)f[v]=arguments[v];return Ii.apply(void 0,[t].concat(f)),this},this.remove=function(){for(var f=[],v=arguments.length;v--;)f[v]=arguments[v];return Ri.apply(void 0,[t].concat(f))};var c=null,p;Object.prototype.toString.call(t)!=="[object Array]"&&(t=[t]),function(f){t=[],f.forEach(function(v){v===window?c=window:e.add(v)})}(t),Object.defineProperties(this,{down:{get:function(){return l}},maxSpeed:{get:function(){return n}},point:{get:function(){return o}},scrolling:{get:function(){return r}}});var w=null,u;window.addEventListener("mousedown",T,!1),window.addEventListener("touchstart",T,!1),window.addEventListener("mouseup",D,!1),window.addEventListener("touchend",D,!1),window.addEventListener("pointerup",D,!1),window.addEventListener("mousemove",W,!1),window.addEventListener("touchmove",W,!1),window.addEventListener("mouseleave",x,!1),window.addEventListener("scroll",g,!0);function g(f){for(var v=0;v<t.length;v++)if(t[v]===f.target){r=!0;break}r&&qe(function(){return r=!1})}function T(){l=!0}function D(){l=!1,S()}function S(){Be(u),Be(p)}function x(){l=!1}function C(f){if(!f)return null;if(w===f||Ut(t,f))return f;for(;f=f.parentNode;)if(Ut(t,f))return f;return null}function H(){for(var f=null,v=0;v<t.length;v++)$n(o,t[v])&&(f=t[v]);return f}function W(f){if(e.autoScroll()&&!f.dispatched){var v=f.target,B=document.body;w&&!$n(o,w)&&(e.scrollWhenOutside||(w=null)),v&&v.parentNode===B?v=H():(v=C(v),v||(v=H())),v&&v!==w&&(w=v),c&&(Be(p),p=qe(A)),w&&(Be(u),u=qe($))}}function A(){z(c),Be(p),p=qe(A)}function $(){w&&(z(w),Be(u),u=qe($))}function z(f){var v=Xn(f),B,F;o.x<v.left+e.margin.left?B=Math.floor(Math.max(-1,(o.x-v.left)/e.margin.left-1)*e.maxSpeed.left):o.x>v.right-e.margin.right?B=Math.ceil(Math.min(1,(o.x-v.right)/e.margin.right+1)*e.maxSpeed.right):B=0,o.y<v.top+e.margin.top?F=Math.floor(Math.max(-1,(o.y-v.top)/e.margin.top-1)*e.maxSpeed.top):o.y>v.bottom-e.margin.bottom?F=Math.ceil(Math.min(1,(o.y-v.bottom)/e.margin.bottom+1)*e.maxSpeed.bottom):F=0,e.syncMove()&&d.dispatch(f,{pageX:o.pageX+B,pageY:o.pageY+F,clientX:o.x+B,clientY:o.y+F}),setTimeout(function(){F&&V(f,F),B&&R(f,B)})}function V(f,v){f===window?window.scrollTo(f.pageXOffset,f.pageYOffset+v):f.scrollTop+=v}function R(f,v){f===window?window.scrollTo(f.pageXOffset+v,f.pageYOffset):f.scrollLeft+=v}}function Pi(t,i){return new Li(t,i)}function $n(t,i,e){return e?t.y>e.top&&t.y<e.bottom&&t.x>e.left&&t.x<e.right:Fi(t,i)}var Gn=Pi;function Zt(t,i,e){e&&e.split(" ").forEach(n=>t.addClass(i.nativeElement,n))}function mt(t,i,e){e&&e.split(" ").forEach(n=>t.removeClass(i.nativeElement,n))}var qn=(()=>{class t{constructor(){this.currentDrag=new q}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275prov=xe({token:t,factory:t.\u0275fac,providedIn:"root"}),t})(),Zn=(()=>{class t{constructor(e){this.elementRef=e}}return t.\u0275fac=function(e){return new(e||t)(_(ie))},t.\u0275dir=ee({type:t,selectors:[["","mwlDraggableScrollContainer",""]]}),t})(),ht=(()=>{class t{constructor(e,n,r,a,o,s,d){this.element=e,this.renderer=n,this.draggableHelper=r,this.zone=a,this.vcr=o,this.scrollContainer=s,this.document=d,this.dragAxis={x:!0,y:!0},this.dragSnapGrid={},this.ghostDragEnabled=!0,this.showOriginalElementWhileDragging=!1,this.dragCursor="",this.autoScroll={margin:20},this.dragPointerDown=new M,this.dragStart=new M,this.ghostElementCreated=new M,this.dragging=new M,this.dragEnd=new M,this.pointerDown$=new q,this.pointerMove$=new q,this.pointerUp$=new q,this.eventListenerSubscriptions={},this.destroy$=new q,this.timeLongPress={timerBegin:0,timerEnd:0}}ngOnInit(){this.checkEventListeners();let e=this.pointerDown$.pipe(te(()=>this.canDrag()),Ne(n=>{n.event.stopPropagation&&!this.scrollContainer&&n.event.stopPropagation();let r=this.renderer.createElement("style");this.renderer.setAttribute(r,"type","text/css"),this.renderer.appendChild(r,this.renderer.createText(`
          body * {
           -moz-user-select: none;
           -ms-user-select: none;
           -webkit-user-select: none;
           user-select: none;
          }
        `)),requestAnimationFrame(()=>{this.document.head.appendChild(r)});let a=this.getScrollPosition(),o=new Te(u=>{let g=this.scrollContainer?this.scrollContainer.elementRef.nativeElement:"window";return this.renderer.listen(g,"scroll",T=>u.next(T))}).pipe(ot(a),j(()=>this.getScrollPosition())),s=new q,d=new wn;this.dragPointerDown.observers.length>0&&this.zone.run(()=>{this.dragPointerDown.next({x:0,y:0})});let l=le(this.pointerUp$,this.pointerDown$,d,this.destroy$).pipe(de()),c=Dn([this.pointerMove$,o]).pipe(j(([u,g])=>({currentDrag$:s,transformX:u.clientX-n.clientX,transformY:u.clientY-n.clientY,clientX:u.clientX,clientY:u.clientY,scrollLeft:g.left,scrollTop:g.top,target:u.event.target})),j(u=>(this.dragSnapGrid.x&&(u.transformX=Math.round(u.transformX/this.dragSnapGrid.x)*this.dragSnapGrid.x),this.dragSnapGrid.y&&(u.transformY=Math.round(u.transformY/this.dragSnapGrid.y)*this.dragSnapGrid.y),u)),j(u=>(this.dragAxis.x||(u.transformX=0),this.dragAxis.y||(u.transformY=0),u)),j(u=>{let g=u.scrollLeft-a.left,T=u.scrollTop-a.top;return at(K({},u),{x:u.transformX+g,y:u.transformY+T})}),te(({x:u,y:g,transformX:T,transformY:D})=>!this.validateDrag||this.validateDrag({x:u,y:g,transform:{x:T,y:D}})),ce(l),de()),p=c.pipe(be(1),de()),w=c.pipe(Sn(1),de());return p.subscribe(({clientX:u,clientY:g,x:T,y:D})=>{if(this.dragStart.observers.length>0&&this.zone.run(()=>{this.dragStart.next({cancelDrag$:d})}),this.scroller=Gn([this.scrollContainer?this.scrollContainer.elementRef.nativeElement:this.document.defaultView],at(K({},this.autoScroll),{autoScroll(){return!0}})),Zt(this.renderer,this.element,this.dragActiveClass),this.ghostDragEnabled){let S=this.element.nativeElement.getBoundingClientRect(),x=this.element.nativeElement.cloneNode(!0);if(this.showOriginalElementWhileDragging||this.renderer.setStyle(this.element.nativeElement,"visibility","hidden"),this.ghostElementAppendTo?this.ghostElementAppendTo.appendChild(x):this.element.nativeElement.parentNode.insertBefore(x,this.element.nativeElement.nextSibling),this.ghostElement=x,this.document.body.style.cursor=this.dragCursor,this.setElementStyles(x,{position:"fixed",top:`${S.top}px`,left:`${S.left}px`,width:`${S.width}px`,height:`${S.height}px`,cursor:this.dragCursor,margin:"0",willChange:"transform",pointerEvents:"none"}),this.ghostElementTemplate){let C=this.vcr.createEmbeddedView(this.ghostElementTemplate);x.innerHTML="",C.rootNodes.filter(H=>H instanceof Node).forEach(H=>{x.appendChild(H)}),w.subscribe(()=>{this.vcr.remove(this.vcr.indexOf(C))})}this.ghostElementCreated.observers.length>0&&this.zone.run(()=>{this.ghostElementCreated.emit({clientX:u-T,clientY:g-D,element:x})}),w.subscribe(()=>{x.parentElement.removeChild(x),this.ghostElement=null,this.renderer.setStyle(this.element.nativeElement,"visibility","")})}this.draggableHelper.currentDrag.next(s)}),w.pipe(Ne(u=>{let g=d.pipe(En(),be(1),j(T=>at(K({},u),{dragCancelled:T>0})));return d.complete(),g})).subscribe(({x:u,y:g,dragCancelled:T})=>{this.scroller.destroy(),this.dragEnd.observers.length>0&&this.zone.run(()=>{this.dragEnd.next({x:u,y:g,dragCancelled:T})}),mt(this.renderer,this.element,this.dragActiveClass),s.complete()}),le(l,w).pipe(be(1)).subscribe(()=>{requestAnimationFrame(()=>{this.document.head.removeChild(r)})}),c}),de());le(e.pipe(be(1),j(n=>[,n])),e.pipe(je())).pipe(te(([n,r])=>n?n.x!==r.x||n.y!==r.y:!0),j(([n,r])=>r)).subscribe(({x:n,y:r,currentDrag$:a,clientX:o,clientY:s,transformX:d,transformY:l,target:c})=>{this.dragging.observers.length>0&&this.zone.run(()=>{this.dragging.next({x:n,y:r})}),requestAnimationFrame(()=>{if(this.ghostElement){let p=`translate3d(${d}px, ${l}px, 0px)`;this.setElementStyles(this.ghostElement,{transform:p,"-webkit-transform":p,"-ms-transform":p,"-moz-transform":p,"-o-transform":p})}}),a.next({clientX:o,clientY:s,dropData:this.dropData,target:c})})}ngOnChanges(e){e.dragAxis&&this.checkEventListeners()}ngOnDestroy(){this.unsubscribeEventListeners(),this.pointerDown$.complete(),this.pointerMove$.complete(),this.pointerUp$.complete(),this.destroy$.next()}checkEventListeners(){let e=this.canDrag(),n=Object.keys(this.eventListenerSubscriptions).length>0;e&&!n?this.zone.runOutsideAngular(()=>{this.eventListenerSubscriptions.mousedown=this.renderer.listen(this.element.nativeElement,"mousedown",r=>{this.onMouseDown(r)}),this.eventListenerSubscriptions.mouseup=this.renderer.listen("document","mouseup",r=>{this.onMouseUp(r)}),this.eventListenerSubscriptions.touchstart=this.renderer.listen(this.element.nativeElement,"touchstart",r=>{this.onTouchStart(r)}),this.eventListenerSubscriptions.touchend=this.renderer.listen("document","touchend",r=>{this.onTouchEnd(r)}),this.eventListenerSubscriptions.touchcancel=this.renderer.listen("document","touchcancel",r=>{this.onTouchEnd(r)}),this.eventListenerSubscriptions.mouseenter=this.renderer.listen(this.element.nativeElement,"mouseenter",()=>{this.onMouseEnter()}),this.eventListenerSubscriptions.mouseleave=this.renderer.listen(this.element.nativeElement,"mouseleave",()=>{this.onMouseLeave()})}):!e&&n&&this.unsubscribeEventListeners()}onMouseDown(e){e.button===0&&(this.eventListenerSubscriptions.mousemove||(this.eventListenerSubscriptions.mousemove=this.renderer.listen("document","mousemove",n=>{this.pointerMove$.next({event:n,clientX:n.clientX,clientY:n.clientY})})),this.pointerDown$.next({event:e,clientX:e.clientX,clientY:e.clientY}))}onMouseUp(e){e.button===0&&(this.eventListenerSubscriptions.mousemove&&(this.eventListenerSubscriptions.mousemove(),delete this.eventListenerSubscriptions.mousemove),this.pointerUp$.next({event:e,clientX:e.clientX,clientY:e.clientY}))}onTouchStart(e){let n,r,a;if(this.touchStartLongPress&&(this.timeLongPress.timerBegin=Date.now(),r=!1,a=this.hasScrollbar(),n=this.getScrollPosition()),!this.eventListenerSubscriptions.touchmove){let o=$e(this.document,"contextmenu").subscribe(d=>{d.preventDefault()}),s=$e(this.document,"touchmove",{passive:!1}).subscribe(d=>{this.touchStartLongPress&&!r&&a&&(r=this.shouldBeginDrag(e,d,n)),(!this.touchStartLongPress||!a||r)&&(d.preventDefault(),this.pointerMove$.next({event:d,clientX:d.targetTouches[0].clientX,clientY:d.targetTouches[0].clientY}))});this.eventListenerSubscriptions.touchmove=()=>{o.unsubscribe(),s.unsubscribe()}}this.pointerDown$.next({event:e,clientX:e.touches[0].clientX,clientY:e.touches[0].clientY})}onTouchEnd(e){this.eventListenerSubscriptions.touchmove&&(this.eventListenerSubscriptions.touchmove(),delete this.eventListenerSubscriptions.touchmove,this.touchStartLongPress&&this.enableScroll()),this.pointerUp$.next({event:e,clientX:e.changedTouches[0].clientX,clientY:e.changedTouches[0].clientY})}onMouseEnter(){this.setCursor(this.dragCursor)}onMouseLeave(){this.setCursor("")}canDrag(){return this.dragAxis.x||this.dragAxis.y}setCursor(e){this.eventListenerSubscriptions.mousemove||this.renderer.setStyle(this.element.nativeElement,"cursor",e)}unsubscribeEventListeners(){Object.keys(this.eventListenerSubscriptions).forEach(e=>{this.eventListenerSubscriptions[e](),delete this.eventListenerSubscriptions[e]})}setElementStyles(e,n){Object.keys(n).forEach(r=>{this.renderer.setStyle(e,r,n[r])})}getScrollElement(){return this.scrollContainer?this.scrollContainer.elementRef.nativeElement:this.document.body}getScrollPosition(){return this.scrollContainer?{top:this.scrollContainer.elementRef.nativeElement.scrollTop,left:this.scrollContainer.elementRef.nativeElement.scrollLeft}:{top:window.pageYOffset||this.document.documentElement.scrollTop,left:window.pageXOffset||this.document.documentElement.scrollLeft}}shouldBeginDrag(e,n,r){let a=this.getScrollPosition(),o={top:Math.abs(a.top-r.top),left:Math.abs(a.left-r.left)},s=Math.abs(n.targetTouches[0].clientX-e.touches[0].clientX)-o.left,d=Math.abs(n.targetTouches[0].clientY-e.touches[0].clientY)-o.top,l=s+d,c=this.touchStartLongPress;return(l>c.delta||o.top>0||o.left>0)&&(this.timeLongPress.timerBegin=Date.now()),this.timeLongPress.timerEnd=Date.now(),this.timeLongPress.timerEnd-this.timeLongPress.timerBegin>=c.delay?(this.disableScroll(),!0):!1}enableScroll(){this.scrollContainer&&this.renderer.setStyle(this.scrollContainer.elementRef.nativeElement,"overflow",""),this.renderer.setStyle(this.document.body,"overflow","")}disableScroll(){this.scrollContainer&&this.renderer.setStyle(this.scrollContainer.elementRef.nativeElement,"overflow","hidden"),this.renderer.setStyle(this.document.body,"overflow","hidden")}hasScrollbar(){let e=this.getScrollElement(),n=e.scrollWidth>e.clientWidth,r=e.scrollHeight>e.clientHeight;return n||r}}return t.\u0275fac=function(e){return new(e||t)(_(ie),_(ge),_(qn),_(Ce),_(ct),_(Zn,8),_(Ge))},t.\u0275dir=ee({type:t,selectors:[["","mwlDraggable",""]],inputs:{dropData:"dropData",dragAxis:"dragAxis",dragSnapGrid:"dragSnapGrid",ghostDragEnabled:"ghostDragEnabled",showOriginalElementWhileDragging:"showOriginalElementWhileDragging",validateDrag:"validateDrag",dragCursor:"dragCursor",dragActiveClass:"dragActiveClass",ghostElementAppendTo:"ghostElementAppendTo",ghostElementTemplate:"ghostElementTemplate",touchStartLongPress:"touchStartLongPress",autoScroll:"autoScroll"},outputs:{dragPointerDown:"dragPointerDown",dragStart:"dragStart",ghostElementCreated:"ghostElementCreated",dragging:"dragging",dragEnd:"dragEnd"},features:[Oe]}),t})();function Un(t,i,e){return t>=e.left&&t<=e.right&&i>=e.top&&i<=e.bottom}var vt=(()=>{class t{constructor(e,n,r,a,o){this.element=e,this.draggableHelper=n,this.zone=r,this.renderer=a,this.scrollContainer=o,this.dragEnter=new M,this.dragLeave=new M,this.dragOver=new M,this.drop=new M}ngOnInit(){this.currentDragSubscription=this.draggableHelper.currentDrag.subscribe(e=>{Zt(this.renderer,this.element,this.dragActiveClass);let n={updateCache:!0},r=this.renderer.listen(this.scrollContainer?this.scrollContainer.elementRef.nativeElement:"window","scroll",()=>{n.updateCache=!0}),a,o=e.pipe(j(({clientX:l,clientY:c,dropData:p,target:w})=>{a={clientX:l,clientY:c,dropData:p,target:w},n.updateCache&&(n.rect=this.element.nativeElement.getBoundingClientRect(),this.scrollContainer&&(n.scrollContainerRect=this.scrollContainer.elementRef.nativeElement.getBoundingClientRect()),n.updateCache=!1);let u=Un(l,c,n.rect),g=!this.validateDrop||this.validateDrop({clientX:l,clientY:c,target:w,dropData:p});return n.scrollContainerRect?u&&g&&Un(l,c,n.scrollContainerRect):u&&g})),s=o.pipe(kn()),d;s.pipe(te(l=>l)).subscribe(()=>{d=!0,Zt(this.renderer,this.element,this.dragOverClass),this.dragEnter.observers.length>0&&this.zone.run(()=>{this.dragEnter.next(a)})}),o.pipe(te(l=>l)).subscribe(()=>{this.dragOver.observers.length>0&&this.zone.run(()=>{this.dragOver.next(a)})}),s.pipe(je(),te(([l,c])=>l&&!c)).subscribe(()=>{d=!1,mt(this.renderer,this.element,this.dragOverClass),this.dragLeave.observers.length>0&&this.zone.run(()=>{this.dragLeave.next(a)})}),e.subscribe({complete:()=>{r(),mt(this.renderer,this.element,this.dragActiveClass),d&&(mt(this.renderer,this.element,this.dragOverClass),this.drop.observers.length>0&&this.zone.run(()=>{this.drop.next(a)}))}})})}ngOnDestroy(){this.currentDragSubscription&&this.currentDragSubscription.unsubscribe()}}return t.\u0275fac=function(e){return new(e||t)(_(ie),_(qn),_(Ce),_(ge),_(Zn,8))},t.\u0275dir=ee({type:t,selectors:[["","mwlDroppable",""]],inputs:{dragOverClass:"dragOverClass",dragActiveClass:"dragActiveClass",validateDrop:"validateDrop"},outputs:{dragEnter:"dragEnter",dragLeave:"dragLeave",dragOver:"dragOver",drop:"drop"}}),t})(),Qe=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=fe({type:t}),t.\u0275inj=ve({}),t})();var $i=function(){function t(){}return t.prototype.getAllStyles=function(i){return window.getComputedStyle(i)},t.prototype.getStyle=function(i,e){return this.getAllStyles(i)[e]},t.prototype.isStaticPositioned=function(i){return(this.getStyle(i,"position")||"static")==="static"},t.prototype.offsetParent=function(i){for(var e=i.offsetParent||document.documentElement;e&&e!==document.documentElement&&this.isStaticPositioned(e);)e=e.offsetParent;return e||document.documentElement},t.prototype.position=function(i,e){e===void 0&&(e=!0);var n,r={width:0,height:0,top:0,bottom:0,left:0,right:0};if(this.getStyle(i,"position")==="fixed")n=i.getBoundingClientRect(),n={top:n.top,bottom:n.bottom,left:n.left,right:n.right,height:n.height,width:n.width};else{var a=this.offsetParent(i);n=this.offset(i,!1),a!==document.documentElement&&(r=this.offset(a,!1)),r.top+=a.clientTop,r.left+=a.clientLeft}return n.top-=r.top,n.bottom-=r.top,n.left-=r.left,n.right-=r.left,e&&(n.top=Math.round(n.top),n.bottom=Math.round(n.bottom),n.left=Math.round(n.left),n.right=Math.round(n.right)),n},t.prototype.offset=function(i,e){e===void 0&&(e=!0);var n=i.getBoundingClientRect(),r={top:window.pageYOffset-document.documentElement.clientTop,left:window.pageXOffset-document.documentElement.clientLeft},a={height:n.height||i.offsetHeight,width:n.width||i.offsetWidth,top:n.top+r.top,bottom:n.bottom+r.top,left:n.left+r.left,right:n.right+r.left};return e&&(a.height=Math.round(a.height),a.width=Math.round(a.width),a.top=Math.round(a.top),a.bottom=Math.round(a.bottom),a.left=Math.round(a.left),a.right=Math.round(a.right)),a},t.prototype.positionElements=function(i,e,n,r){var a=n.split("-"),o=a[0],s=o===void 0?"top":o,d=a[1],l=d===void 0?"center":d,c=r?this.offset(i,!1):this.position(i,!1),p=this.getAllStyles(e),w=parseFloat(p.marginTop),u=parseFloat(p.marginBottom),g=parseFloat(p.marginLeft),T=parseFloat(p.marginRight),D=0,S=0;switch(s){case"top":D=c.top-(e.offsetHeight+w+u);break;case"bottom":D=c.top+c.height;break;case"left":S=c.left-(e.offsetWidth+g+T);break;case"right":S=c.left+c.width;break}switch(l){case"top":D=c.top;break;case"bottom":D=c.top+c.height-e.offsetHeight;break;case"left":S=c.left;break;case"right":S=c.left+c.width-e.offsetWidth;break;case"center":s==="top"||s==="bottom"?S=c.left+c.width/2-e.offsetWidth/2:D=c.top+c.height/2-e.offsetHeight/2;break}e.style.transform="translate("+Math.round(S)+"px, "+Math.round(D)+"px)";var x=e.getBoundingClientRect(),C=document.documentElement,H=window.innerHeight||C.clientHeight,W=window.innerWidth||C.clientWidth;return x.left>=0&&x.top>=0&&x.right<=W&&x.bottom<=H},t}();var ji=/\s+/,Qn=new $i;function Qt(t,i,e,n,r){var a=Array.isArray(e)?e:e.split(ji),o=["top","bottom","left","right","top-left","top-right","bottom-left","bottom-right","left-top","left-bottom","right-top","right-bottom"],s=i.classList,d=function(D){var S=D.split("-"),x=S[0],C=S[1],H=[];return r&&(H.push(r+"-"+x),C&&H.push(r+"-"+x+"-"+C),H.forEach(function(W){s.add(W)})),H};r&&o.forEach(function(D){s.remove(r+"-"+D)});var l=a.findIndex(function(D){return D==="auto"});l>=0&&o.forEach(function(D){a.find(function(S){return S.search("^"+D)!==-1})==null&&a.splice(l++,1,D)});var c=i.style;c.position="absolute",c.top="0",c.left="0",c["will-change"]="transform";for(var p,w=!1,u=0,g=a;u<g.length;u++){p=g[u];var T=d(p);if(Qn.positionElements(t,i,p,n)){w=!0;break}r&&T.forEach(function(D){s.remove(D)})}return w||(p=a[0],d(p),Qn.positionElements(t,i,p,n)),p}var me=function(){return me=Object.assign||function(t){for(var i,e=1,n=arguments.length;e<n;e++){i=arguments[e];for(var r in i)Object.prototype.hasOwnProperty.call(i,r)&&(t[r]=i[r])}return t},me.apply(this,arguments)},Jt=function(t,i,e){if(e||arguments.length===2)for(var n=0,r=i.length,a;n<r;n++)(a||!(n in i))&&(a||(a=Array.prototype.slice.call(i,0,n)),a[n]=i[n]);return t.concat(a||Array.prototype.slice.call(i))},yt=function(t){return t[t.SUNDAY=0]="SUNDAY",t[t.MONDAY=1]="MONDAY",t[t.TUESDAY=2]="TUESDAY",t[t.WEDNESDAY=3]="WEDNESDAY",t[t.THURSDAY=4]="THURSDAY",t[t.FRIDAY=5]="FRIDAY",t[t.SATURDAY=6]="SATURDAY",t}(yt||{}),Yi=[yt.SUNDAY,yt.SATURDAY],en=7,tn=24,ft=60,ke=60*60*24;function Jn(t,i){var e=i.startDate,n=i.seconds,r=i.excluded,a=i.precision;if(r.length<1)return 0;for(var o=t.addSeconds,s=t.getDay,d=t.addDays,l=o(e,n-1),c=s(e),p=s(l),w=0,u=e,g=function(){var T=s(u);r.some(function(D){return D===T})&&(w+=Xi(t,{dayStart:c,dayEnd:p,day:T,precision:a,startDate:e,endDate:l})),u=d(u,1)};u<l;)g();return w}function Xi(t,i){var e=i.precision,n=i.day,r=i.dayStart,a=i.dayEnd,o=i.startDate,s=i.endDate,d=t.differenceInSeconds,l=t.endOfDay,c=t.startOfDay;if(e==="minutes"){if(n===r)return d(l(o),o)+1;if(n===a)return d(s,c(s))+1}return ke}function Gi(t,i){var e=i.event,n=i.offset,r=i.startOfWeekDate,a=i.excluded,o=i.precision,s=i.totalDaysInView,d=t.max,l=t.differenceInSeconds,c=t.addDays,p=t.endOfDay,w=t.differenceInDays,u=ke,g=d([e.start,r]);if(e.end)switch(o){case"minutes":u=l(e.end,g);break;default:u=w(c(p(e.end),1),g)*ke;break}var T=n*ke,D=T+u,S=s*ke;return D>S&&(u=S-T),u-=Jn(t,{startDate:g,seconds:u,excluded:a,precision:o}),u/ke}function Ui(t,i){var e=i.event,n=i.startOfWeek,r=i.excluded,a=i.precision,o=t.differenceInDays,s=t.startOfDay,d=t.differenceInSeconds;if(e.start<n)return 0;var l=0;switch(a){case"days":l=o(s(e.start),n)*ke;break;case"minutes":l=d(e.start,n);break}return l-=Jn(t,{startDate:n,seconds:l,excluded:r,precision:a}),Math.abs(l/ke)}function Ki(t,i){var e=i.event,n=i.periodStart,r=i.periodEnd,a=t.isSameSecond,o=e.start,s=e.end||e.start;return!!(o>n&&o<r||s>n&&s<r||o<n&&s>r||a(o,n)||a(o,r)||a(s,n)||a(s,r))}function Je(t,i){var e=i.events,n=i.periodStart,r=i.periodEnd;return e.filter(function(a){return Ki(t,{event:a,periodStart:n,periodEnd:r})})}function ei(t,i){var e=i.date,n=i.weekendDays,r=n===void 0?Yi:n,a=t.startOfDay,o=t.isSameDay,s=t.getDay,d=a(new Date),l=s(e);return{date:e,day:l,isPast:e<d,isToday:o(e,d),isFuture:e>d,isWeekend:r.indexOf(l)>-1}}function Dt(t,i){for(var e=i.viewDate,n=i.weekStartsOn,r=i.excluded,a=r===void 0?[]:r,o=i.weekendDays,s=i.viewStart,d=s===void 0?t.startOfWeek(e,{weekStartsOn:n}):s,l=i.viewEnd,c=l===void 0?t.addDays(d,en):l,p=t.addDays,w=t.getDay,u=[],g=d;g<c;)a.some(function(T){return w(g)===T})||u.push(ei(t,{date:g,weekendDays:o})),g=p(g,1);return u}function qi(t,i){for(var e=i.date1,n=i.date2,r=i.excluded,a=e,o=0;a<n;)r.indexOf(t.getDay(a))===-1&&o++,a=t.addDays(a,1);return o}function Zi(t,i){var e=i.events,n=e===void 0?[]:e,r=i.excluded,a=r===void 0?[]:r,o=i.precision,s=o===void 0?"days":o,d=i.absolutePositionedEvents,l=d===void 0?!1:d,c=i.viewStart,p=i.viewEnd;c=t.startOfDay(c),p=t.endOfDay(p);var w=t.differenceInSeconds,u=t.differenceInDays,g=qi(t,{date1:c,date2:p,excluded:a}),T=u(p,c)+1,D=n.filter(function(C){return C.allDay}).map(function(C){var H=Ui(t,{event:C,startOfWeek:c,excluded:a,precision:s}),W=Gi(t,{event:C,offset:H,startOfWeekDate:c,excluded:a,precision:s,totalDaysInView:T});return{event:C,offset:H,span:W}}).filter(function(C){return C.offset<g}).filter(function(C){return C.span>0}).map(function(C){return{event:C.event,offset:C.offset,span:C.span,startsBeforeWeek:C.event.start<c,endsAfterWeek:(C.event.end||C.event.start)>p}}).sort(function(C,H){var W=w(C.event.start,H.event.start);return W===0?w(H.event.end||H.event.start,C.event.end||C.event.start):W}),S=[],x=[];return D.forEach(function(C,H){if(x.indexOf(C)===-1){x.push(C);var W=C.span+C.offset,A=D.slice(H+1).filter(function(V){if(V.offset>=W&&W+V.span<=T&&x.indexOf(V)===-1){var R=V.offset-W;return l||(V.offset=R),W+=V.span+R,x.push(V),!0}}),$=Jt([C],A,!0),z=$.filter(function(V){return V.event.id}).map(function(V){return V.event.id}).join("-");S.push(me({row:$},z?{id:z}:{}))}}),S}function Qi(t,i){var e=i.events,n=i.viewDate,r=i.hourSegments,a=i.hourDuration,o=i.dayStart,s=i.dayEnd,d=i.weekStartsOn,l=i.excluded,c=i.weekendDays,p=i.segmentHeight,w=i.viewStart,u=i.viewEnd,g=i.minimumEventHeight,T=er(t,{viewDate:n,hourSegments:r,hourDuration:a,dayStart:o,dayEnd:s}),D=Dt(t,{viewDate:n,weekStartsOn:d,excluded:l,weekendDays:c,viewStart:w,viewEnd:u}),S=t.setHours,x=t.setMinutes,C=t.getHours,H=t.getMinutes;return D.map(function(W){var A=Ji(t,{events:e,viewDate:W.date,hourSegments:r,dayStart:o,dayEnd:s,segmentHeight:p,eventWidth:1,hourDuration:a,minimumEventHeight:g}),$=T.map(function(R){var f=R.segments.map(function(v){var B=x(S(W.date,C(v.date)),H(v.date));return me(me({},v),{date:B})});return me(me({},R),{segments:f})});function z(R,f){var v=Math.max.apply(Math,f.map(function(F){return F.left+1})),B=R.filter(function(F){return F.left>=v}).filter(function(F){return gt(f,F.top,F.top+F.height).length>0});return B.length>0?z(R,B):v}var V=A.events.map(function(R){var f=z(A.events,gt(A.events,R.top,R.top+R.height)),v=100/f;return me(me({},R),{left:R.left*v,width:v})});return{hours:$,date:W.date,events:V.map(function(R){var f=gt(V.filter(function(v){return v.left>R.left}),R.top,R.top+R.height);return f.length>0?me(me({},R),{width:Math.min.apply(Math,f.map(function(v){return v.left}))-R.left}):R})}})}function ti(t,i){var e=i.events,n=e===void 0?[]:e,r=i.viewDate,a=i.weekStartsOn,o=i.excluded,s=o===void 0?[]:o,d=i.precision,l=d===void 0?"days":d,c=i.absolutePositionedEvents,p=c===void 0?!1:c,w=i.hourSegments,u=i.hourDuration,g=i.dayStart,T=i.dayEnd,D=i.weekendDays,S=i.segmentHeight,x=i.minimumEventHeight,C=i.viewStart,H=C===void 0?t.startOfWeek(r,{weekStartsOn:a}):C,W=i.viewEnd,A=W===void 0?t.endOfWeek(r,{weekStartsOn:a}):W;n||(n=[]);var $=t.startOfDay,z=t.endOfDay;H=$(H),A=z(A);var V=Je(t,{events:n,periodStart:H,periodEnd:A}),R=Dt(t,{viewDate:r,weekStartsOn:a,excluded:s,weekendDays:D,viewStart:H,viewEnd:A});return{allDayEventRows:Zi(t,{events:V,excluded:s,precision:l,absolutePositionedEvents:p,viewStart:H,viewEnd:A}),period:{events:V,start:R[0].date,end:z(R[R.length-1].date)},hourColumns:Qi(t,{events:n,viewDate:r,hourSegments:w,hourDuration:u,dayStart:g,dayEnd:T,weekStartsOn:a,excluded:s,weekendDays:D,segmentHeight:S,viewStart:H,viewEnd:A,minimumEventHeight:x})}}function ni(t,i){var e=i.events,n=e===void 0?[]:e,r=i.viewDate,a=i.weekStartsOn,o=i.excluded,s=o===void 0?[]:o,d=i.viewStart,l=d===void 0?t.startOfMonth(r):d,c=i.viewEnd,p=c===void 0?t.endOfMonth(r):c,w=i.weekendDays;n||(n=[]);for(var u=t.startOfWeek,g=t.endOfWeek,T=t.differenceInDays,D=t.startOfDay,S=t.addHours,x=t.endOfDay,C=t.isSameMonth,H=t.getDay,W=u(l,{weekStartsOn:a}),A=g(p,{weekStartsOn:a}),$=Je(t,{events:n,periodStart:W,periodEnd:A}),z=[],V,R=function(Ht){var U;if(V?(U=D(S(V,tn)),V.getTime()===U.getTime()&&(U=D(S(V,tn+1))),V=U):U=V=W,!s.some(function(It){return H(U)===It})){var Ae=ei(t,{date:U,weekendDays:w}),se=Je(t,{events:$,periodStart:D(U),periodEnd:x(U)});Ae.inMonth=C(U,r),Ae.events=se,Ae.badgeTotal=se.length,z.push(Ae)}},f=0;f<T(A,W)+1;f++)R(f);var v=[],B=en-s.length;if(B<en)for(var f=0;f<z.length;f+=B){var F=z.slice(f,f+B),Ot=F.some(function(U){return l<=U.date&&U.date<p});Ot&&(v=Jt(Jt([],v,!0),F,!0))}else v=z;for(var Vt=Math.floor(v.length/B),rt=[],f=0;f<Vt;f++)rt.push(f*B);return{rowOffsets:rt,totalDaysVisibleInWeek:B,days:v,period:{start:v[0].date,end:x(v[v.length-1].date),events:$}}}function gt(t,i,e){return t.filter(function(n){var r=n.top,a=n.top+n.height;return i<a&&a<e||i<r&&r<e?!0:r<=i&&e<=a})}function Ji(t,i){var e=i.events,n=i.viewDate,r=i.hourSegments,a=i.dayStart,o=i.dayEnd,s=i.eventWidth,d=i.segmentHeight,l=i.hourDuration,c=i.minimumEventHeight,p=t.setMinutes,w=t.setHours,u=t.startOfDay,g=t.startOfMinute,T=t.endOfDay,D=t.differenceInMinutes,S=p(w(u(n),wt(a.hour)),_t(a.minute)),x=p(w(g(T(n)),wt(o.hour)),_t(o.minute));x.setSeconds(59,999);var C=[],H=Je(t,{events:e.filter(function(z){return!z.allDay}),periodStart:S,periodEnd:x}),W=H.sort(function(z,V){return z.start.valueOf()-V.start.valueOf()}).map(function(z){var V=z.start,R=z.end||V,f=V<S,v=R>x,B=r*d/(l||ft),F=0;if(V>S){var Ot=t.getTimezoneOffset(V),Vt=t.getTimezoneOffset(S),rt=Vt-Ot;F+=D(V,S)+rt}F*=B,F=Math.floor(F);var Ht=f?S:V,U=v?x:R,Ae=t.getTimezoneOffset(Ht)-t.getTimezoneOffset(U),se=D(U,Ht)+Ae;z.end?se*=B:se=d,c&&se<c&&(se=c),se=Math.floor(se);for(var It=F+se,Mi=gt(C,F,It),Rt=0;Mi.some(function(Oi){return Oi.left===Rt});)Rt+=s;var fn={event:z,height:se,width:s,top:F,left:Rt,startsBeforeDay:f,endsAfterDay:v};return C.push(fn),fn}),A=Math.max.apply(Math,W.map(function(z){return z.left+z.width})),$=Je(t,{events:e.filter(function(z){return z.allDay}),periodStart:u(S),periodEnd:T(x)});return{events:W,width:A,allDayEvents:$,period:{events:H,start:S,end:x}}}function wt(t){return Math.max(Math.min(23,t),0)}function _t(t){return Math.max(Math.min(59,t),0)}function er(t,i){var e=i.viewDate,n=i.hourSegments,r=i.hourDuration,a=i.dayStart,o=i.dayEnd,s=t.setMinutes,d=t.setHours,l=t.startOfDay,c=t.startOfMinute,p=t.endOfDay,w=t.addMinutes,u=t.addDays,g=[],T=s(d(l(e),wt(a.hour)),_t(a.minute)),D=s(d(c(p(e)),wt(o.hour)),_t(o.minute)),S=(r||ft)/n,x=l(e),C=p(e),H=function(R){return R};t.getTimezoneOffset(x)!==t.getTimezoneOffset(C)&&(x=u(x,1),T=u(T,1),D=u(D,1),H=function(R){return u(R,-1)});for(var W=r?tn*60/r:ft,A=0;A<W;A++){for(var $=[],z=0;z<n;z++){var V=w(w(T,A*(r||ft)),z*S);V>=T&&V<D&&$.push({date:H(V),displayDate:V,isStart:z===0})}$.length>0&&g.push({segments:$})}return g}var Le=function(t){return t.NotArray="Events must be an array",t.StartPropertyMissing="Event is missing the `start` property",t.StartPropertyNotDate="Event `start` property should be a javascript date object. Do `new Date(event.start)` to fix it.",t.EndPropertyNotDate="Event `end` property should be a javascript date object. Do `new Date(event.end)` to fix it.",t.EndsBeforeStart="Event `start` property occurs after the `end`",t}(Le||{});function ii(t,i){var e=!0;function n(r,a){i(r,a),e=!1}return Array.isArray(t)?(t.forEach(function(r){r.start?r.start instanceof Date||n(Le.StartPropertyNotDate,r):n(Le.StartPropertyMissing,r),r.end&&(r.end instanceof Date||n(Le.EndPropertyNotDate,r),r.start>r.end&&n(Le.EndsBeforeStart,r))}),e):(i(Le.NotArray,t),!1)}var ze=typeof window>"u"?!1:"ontouchstart"in window||navigator.maxTouchPoints>0||navigator.msMaxTouchPoints>0;function tr(t){let i=t.cloneNode(!0),e=i.querySelectorAll("[id]"),n=t.nodeName.toLowerCase();return i.removeAttribute("id"),e.forEach(r=>{r.removeAttribute("id")}),n==="canvas"?oi(t,i):(n==="input"||n==="select"||n==="textarea")&&ai(t,i),ri("canvas",t,i,oi),ri("input, textarea, select",t,i,ai),i}function ri(t,i,e,n){let r=i.querySelectorAll(t);if(r.length){let a=e.querySelectorAll(t);for(let o=0;o<r.length;o++)n(r[o],a[o])}}var nr=0;function ai(t,i){i.type!=="file"&&(i.value=t.value),i.type==="radio"&&i.name&&(i.name=`mat-clone-${i.name}-${nr++}`)}function oi(t,i){let e=i.getContext("2d");if(e)try{e.drawImage(t,0,0)}catch{}}function si(t,i,e,n){let r={top:t.top,bottom:t.bottom,left:t.left,right:t.right};return i.top&&(r.top+=n),i.bottom&&(r.bottom+=n),i.left&&(r.left+=e),i.right&&(r.right+=e),r.height=r.bottom-r.top,r.width=r.right-r.left,r}function ir(t,i){let e=0,n=0,r=t.nativeElement.style,o=["transform","-ms-transform","-moz-transform","-o-transform"].map(s=>r[s]).find(s=>!!s);if(o&&o.includes("translate")&&(e=o.replace(/.*translate3?d?\((-?[0-9]*)px, (-?[0-9]*)px.*/,"$1"),n=o.replace(/.*translate3?d?\((-?[0-9]*)px, (-?[0-9]*)px.*/,"$2")),i==="absolute")return{height:t.nativeElement.offsetHeight,width:t.nativeElement.offsetWidth,top:t.nativeElement.offsetTop-n,bottom:t.nativeElement.offsetHeight+t.nativeElement.offsetTop-n,left:t.nativeElement.offsetLeft-e,right:t.nativeElement.offsetWidth+t.nativeElement.offsetLeft-e};{let s=t.nativeElement.getBoundingClientRect();return{height:s.height,width:s.width,top:s.top-n,bottom:s.bottom-n,left:s.left-e,right:s.right-e,scrollTop:t.nativeElement.scrollTop,scrollLeft:t.nativeElement.scrollLeft}}}var li=Object.freeze({topLeft:"nw-resize",topRight:"ne-resize",bottomLeft:"sw-resize",bottomRight:"se-resize",leftOrRight:"col-resize",topOrBottom:"row-resize"});function di(t,i){return t.left&&t.top?i.topLeft:t.right&&t.top?i.topRight:t.left&&t.bottom?i.bottomLeft:t.right&&t.bottom?i.bottomRight:t.left||t.right?i.leftOrRight:t.top||t.bottom?i.topOrBottom:""}function Ct({edges:t,initialRectangle:i,newRectangle:e}){let n={};return Object.keys(t).forEach(r=>{n[r]=(e[r]||0)-(i[r]||0)}),n}var ci="resize-active",rr="resize-ghost-element",ar=50,rn=(()=>{class t{constructor(e,n,r,a){this.platformId=e,this.renderer=n,this.elm=r,this.zone=a,this.enableGhostResize=!1,this.resizeSnapGrid={},this.resizeCursors=li,this.ghostElementPositioning="fixed",this.allowNegativeResizes=!1,this.mouseMoveThrottleMS=ar,this.resizeStart=new M,this.resizing=new M,this.resizeEnd=new M,this.mouseup=new q,this.mousedown=new q,this.mousemove=new q,this.destroy$=new q,this.pointerEventListeners=nn.getInstance(n,a)}ngOnInit(){let e=le(this.pointerEventListeners.pointerDown,this.mousedown),n=le(this.pointerEventListeners.pointerMove,this.mousemove).pipe(Mn(({event:l})=>{a&&l.cancelable&&l.preventDefault()}),de()),r=le(this.pointerEventListeners.pointerUp,this.mouseup),a,o=()=>{a&&a.clonedNode&&(this.elm.nativeElement.parentElement.removeChild(a.clonedNode),this.renderer.setStyle(this.elm.nativeElement,"visibility","inherit"))},s=()=>K(K({},li),this.resizeCursors);e.pipe(Ne(l=>{function c(u){return{clientX:u.clientX-l.clientX,clientY:u.clientY-l.clientY}}let p=()=>{let u={x:1,y:1};return a&&(this.resizeSnapGrid.left&&a.edges.left?u.x=+this.resizeSnapGrid.left:this.resizeSnapGrid.right&&a.edges.right&&(u.x=+this.resizeSnapGrid.right),this.resizeSnapGrid.top&&a.edges.top?u.y=+this.resizeSnapGrid.top:this.resizeSnapGrid.bottom&&a.edges.bottom&&(u.y=+this.resizeSnapGrid.bottom)),u};function w(u,g){return{x:Math.ceil(u.clientX/g.x),y:Math.ceil(u.clientY/g.y)}}return le(n.pipe(be(1)).pipe(j(u=>[,u])),n.pipe(je())).pipe(j(([u,g])=>[u&&c(u),c(g)])).pipe(te(([u,g])=>{if(!u)return!0;let T=p(),D=w(u,T),S=w(g,T);return D.x!==S.x||D.y!==S.y})).pipe(j(([,u])=>{let g=p();return{clientX:Math.round(u.clientX/g.x)*g.x,clientY:Math.round(u.clientY/g.y)*g.y}})).pipe(ce(le(r,e)))})).pipe(te(()=>!!a)).pipe(j(({clientX:l,clientY:c})=>si(a.startingRect,a.edges,l,c))).pipe(te(l=>this.allowNegativeResizes||!!(l.height&&l.width&&l.height>0&&l.width>0))).pipe(te(l=>this.validateResize?this.validateResize({rectangle:l,edges:Ct({edges:a.edges,initialRectangle:a.startingRect,newRectangle:l})}):!0),ce(this.destroy$)).subscribe(l=>{a&&a.clonedNode&&(this.renderer.setStyle(a.clonedNode,"height",`${l.height}px`),this.renderer.setStyle(a.clonedNode,"width",`${l.width}px`),this.renderer.setStyle(a.clonedNode,"top",`${l.top}px`),this.renderer.setStyle(a.clonedNode,"left",`${l.left}px`)),this.resizing.observers.length>0&&this.zone.run(()=>{this.resizing.emit({edges:Ct({edges:a.edges,initialRectangle:a.startingRect,newRectangle:l}),rectangle:l})}),a.currentRect=l}),e.pipe(j(({edges:l})=>l||{}),te(l=>Object.keys(l).length>0),ce(this.destroy$)).subscribe(l=>{a&&o();let c=ir(this.elm,this.ghostElementPositioning);a={edges:l,startingRect:c,currentRect:c};let p=s(),w=di(a.edges,p);this.renderer.setStyle(document.body,"cursor",w),this.setElementClass(this.elm,ci,!0),this.enableGhostResize&&(a.clonedNode=tr(this.elm.nativeElement),this.elm.nativeElement.parentElement.appendChild(a.clonedNode),this.renderer.setStyle(this.elm.nativeElement,"visibility","hidden"),this.renderer.setStyle(a.clonedNode,"position",this.ghostElementPositioning),this.renderer.setStyle(a.clonedNode,"left",`${a.startingRect.left}px`),this.renderer.setStyle(a.clonedNode,"top",`${a.startingRect.top}px`),this.renderer.setStyle(a.clonedNode,"height",`${a.startingRect.height}px`),this.renderer.setStyle(a.clonedNode,"width",`${a.startingRect.width}px`),this.renderer.setStyle(a.clonedNode,"cursor",di(a.edges,p)),this.renderer.addClass(a.clonedNode,rr),a.clonedNode.scrollTop=a.startingRect.scrollTop,a.clonedNode.scrollLeft=a.startingRect.scrollLeft),this.resizeStart.observers.length>0&&this.zone.run(()=>{this.resizeStart.emit({edges:Ct({edges:l,initialRectangle:c,newRectangle:c}),rectangle:si(c,{},0,0)})})}),r.pipe(ce(this.destroy$)).subscribe(()=>{a&&(this.renderer.removeClass(this.elm.nativeElement,ci),this.renderer.setStyle(document.body,"cursor",""),this.renderer.setStyle(this.elm.nativeElement,"cursor",""),this.resizeEnd.observers.length>0&&this.zone.run(()=>{this.resizeEnd.emit({edges:Ct({edges:a.edges,initialRectangle:a.startingRect,newRectangle:a.currentRect}),rectangle:a.currentRect})}),o(),a=null)})}ngOnDestroy(){Pn(this.platformId)&&this.renderer.setStyle(document.body,"cursor",""),this.mousedown.complete(),this.mouseup.complete(),this.mousemove.complete(),this.destroy$.next()}setElementClass(e,n,r){r?this.renderer.addClass(e.nativeElement,n):this.renderer.removeClass(e.nativeElement,n)}}return t.\u0275fac=function(e){return new(e||t)(_(In),_(ge),_(ie),_(Ce))},t.\u0275dir=ee({type:t,selectors:[["","mwlResizable",""]],inputs:{validateResize:"validateResize",enableGhostResize:"enableGhostResize",resizeSnapGrid:"resizeSnapGrid",resizeCursors:"resizeCursors",ghostElementPositioning:"ghostElementPositioning",allowNegativeResizes:"allowNegativeResizes",mouseMoveThrottleMS:"mouseMoveThrottleMS"},outputs:{resizeStart:"resizeStart",resizing:"resizing",resizeEnd:"resizeEnd"},exportAs:["mwlResizable"]}),t})(),nn=class t{constructor(i,e){this.pointerDown=new Te(n=>{let r,a;return e.runOutsideAngular(()=>{r=i.listen("document","mousedown",o=>{n.next({clientX:o.clientX,clientY:o.clientY,event:o})}),ze&&(a=i.listen("document","touchstart",o=>{n.next({clientX:o.touches[0].clientX,clientY:o.touches[0].clientY,event:o})}))}),()=>{r(),ze&&a()}}).pipe(de()),this.pointerMove=new Te(n=>{let r,a;return e.runOutsideAngular(()=>{r=i.listen("document","mousemove",o=>{n.next({clientX:o.clientX,clientY:o.clientY,event:o})}),ze&&(a=i.listen("document","touchmove",o=>{n.next({clientX:o.targetTouches[0].clientX,clientY:o.targetTouches[0].clientY,event:o})}))}),()=>{r(),ze&&a()}}).pipe(de()),this.pointerUp=new Te(n=>{let r,a,o;return e.runOutsideAngular(()=>{r=i.listen("document","mouseup",s=>{n.next({clientX:s.clientX,clientY:s.clientY,event:s})}),ze&&(a=i.listen("document","touchend",s=>{n.next({clientX:s.changedTouches[0].clientX,clientY:s.changedTouches[0].clientY,event:s})}),o=i.listen("document","touchcancel",s=>{n.next({clientX:s.changedTouches[0].clientX,clientY:s.changedTouches[0].clientY,event:s})}))}),()=>{r(),ze&&(a(),o())}}).pipe(de())}static getInstance(i,e){return t.instance||(t.instance=new t(i,e)),t.instance}},ui=(()=>{class t{constructor(e,n,r,a){this.renderer=e,this.element=n,this.zone=r,this.resizableDirective=a,this.resizeEdges={},this.eventListeners={},this.destroy$=new q}ngOnInit(){this.zone.runOutsideAngular(()=>{this.listenOnTheHost("mousedown").subscribe(e=>{this.onMousedown(e,e.clientX,e.clientY)}),this.listenOnTheHost("mouseup").subscribe(e=>{this.onMouseup(e.clientX,e.clientY)}),ze&&(this.listenOnTheHost("touchstart").subscribe(e=>{this.onMousedown(e,e.touches[0].clientX,e.touches[0].clientY)}),le(this.listenOnTheHost("touchend"),this.listenOnTheHost("touchcancel")).subscribe(e=>{this.onMouseup(e.changedTouches[0].clientX,e.changedTouches[0].clientY)}))})}ngOnDestroy(){this.destroy$.next(),this.unsubscribeEventListeners()}onMousedown(e,n,r){e.cancelable&&e.preventDefault(),this.eventListeners.touchmove||(this.eventListeners.touchmove=this.renderer.listen(this.element.nativeElement,"touchmove",a=>{this.onMousemove(a,a.targetTouches[0].clientX,a.targetTouches[0].clientY)})),this.eventListeners.mousemove||(this.eventListeners.mousemove=this.renderer.listen(this.element.nativeElement,"mousemove",a=>{this.onMousemove(a,a.clientX,a.clientY)})),this.resizable.mousedown.next({clientX:n,clientY:r,edges:this.resizeEdges})}onMouseup(e,n){this.unsubscribeEventListeners(),this.resizable.mouseup.next({clientX:e,clientY:n,edges:this.resizeEdges})}get resizable(){return this.resizableDirective||this.resizableContainer}onMousemove(e,n,r){this.resizable.mousemove.next({clientX:n,clientY:r,edges:this.resizeEdges,event:e})}unsubscribeEventListeners(){Object.keys(this.eventListeners).forEach(e=>{this.eventListeners[e](),delete this.eventListeners[e]})}listenOnTheHost(e){return $e(this.element.nativeElement,e).pipe(ce(this.destroy$))}}return t.\u0275fac=function(e){return new(e||t)(_(ge),_(ie),_(Ce),_(rn,8))},t.\u0275dir=ee({type:t,selectors:[["","mwlResizeHandle",""]],inputs:{resizeEdges:"resizeEdges",resizableContainer:"resizableContainer"}}),t})(),an=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=fe({type:t}),t.\u0275inj=ve({}),t})();var sr=(t,i)=>({event:t,trackByActionId:i}),lr=t=>({action:t});function dr(t,i){if(t&1){let e=Z();b(0,"a",5),P(1,"calendarA11y"),L("mwlClick",function(r){let a=E(e).$implicit,o=h(2).event;return k(a.onClick({event:o,sourceEvent:r}))})("mwlKeydownEnter",function(r){let a=E(e).$implicit,o=h(2).event;return k(a.onClick({event:o,sourceEvent:r}))}),O()}if(t&2){let e=i.$implicit;m("ngClass",e.cssClass)("innerHtml",e.label,dt),ue("aria-label",pe(1,3,He(6,lr,e),"actionButtonLabel"))}}function cr(t,i){if(t&1&&(b(0,"span",3),I(1,dr,2,8,"a",4),O()),t&2){let e=h(),n=e.event,r=e.trackByActionId;y(),m("ngForOf",n.actions)("ngForTrackBy",r)}}function ur(t,i){if(t&1&&I(0,cr,2,2,"span",2),t&2){let e=i.event;m("ngIf",e.actions)}}function pr(t,i){}var mr=(t,i)=>({event:t,view:i}),Pe=()=>({});function hr(t,i){if(t&1&&(X(0,"span",2),P(1,"calendarEventTitle"),P(2,"calendarA11y")),t&2){let e=i.event,n=i.view;m("innerHTML",we(1,2,e.title,n,e),dt),ue("aria-hidden",pe(2,6,Q(9,Pe),"hideEventTitle"))}}function vr(t,i){}var fr=(t,i,e)=>({contents:t,placement:i,event:e});function gr(t,i){if(t&1&&(b(0,"div",2),X(1,"div",3)(2,"div",4),O()),t&2){let e=i.contents,n=i.placement;m("ngClass","cal-tooltip-"+n),y(2),m("innerHtml",e,dt)}}function yr(t,i){}var wr=(t,i,e,n,r,a,o,s,d,l,c,p)=>({day:t,openDay:i,locale:e,tooltipPlacement:n,highlightDay:r,unhighlightDay:a,eventClicked:o,tooltipTemplate:s,tooltipAppendToBody:d,tooltipDelay:l,trackByEventId:c,validateDrag:p}),_r=(t,i)=>({day:t,locale:i}),un=t=>({backgroundColor:t}),Dr=(t,i)=>({event:t,draggedFrom:i}),et=(t,i)=>({x:t,y:i}),kt=()=>({delay:300,delta:30});function Cr(t,i){if(t&1&&(b(0,"span",7),ye(1),O()),t&2){let e=h().day;y(),Ye(e.badgeTotal)}}function Tr(t,i){if(t&1){let e=Z();b(0,"div",10),P(1,"calendarEventTitle"),P(2,"calendarA11y"),L("mouseenter",function(){let r=E(e).$implicit,a=h(2).highlightDay;return k(a.emit({event:r}))})("mouseleave",function(){let r=E(e).$implicit,a=h(2).unhighlightDay;return k(a.emit({event:r}))})("mwlClick",function(r){let a=E(e).$implicit,o=h(2).eventClicked;return k(o.emit({event:a,sourceEvent:r}))}),O()}if(t&2){let e=i.$implicit,n=h(2),r=n.day,a=n.tooltipPlacement,o=n.tooltipTemplate,s=n.tooltipAppendToBody,d=n.tooltipDelay,l=n.validateDrag;re("cal-draggable",e.draggable),m("ngStyle",He(22,un,e.color==null?null:e.color.primary))("ngClass",e==null?null:e.cssClass)("mwlCalendarTooltip",we(1,15,e.title,"monthTooltip",e))("tooltipPlacement",a)("tooltipEvent",e)("tooltipTemplate",o)("tooltipAppendToBody",s)("tooltipDelay",d)("dropData",G(24,Dr,e,r))("dragAxis",G(27,et,e.draggable,e.draggable))("validateDrag",l)("touchStartLongPress",Q(30,kt)),ue("aria-hidden",pe(2,19,Q(31,Pe),"hideMonthCellEvents"))}}function Er(t,i){if(t&1&&(b(0,"div",8),I(1,Tr,3,32,"div",9),O()),t&2){let e=h(),n=e.day,r=e.trackByEventId;y(),m("ngForOf",n.events)("ngForTrackBy",r)}}function kr(t,i){if(t&1&&(b(0,"div",2),P(1,"calendarA11y"),b(2,"span",3),I(3,Cr,2,1,"span",4),b(4,"span",5),ye(5),P(6,"calendarDate"),O()()(),I(7,Er,2,2,"div",6)),t&2){let e=i.day,n=i.locale;ue("aria-label",pe(1,4,G(11,_r,e,n),"monthCell")),y(3),m("ngIf",e.badgeTotal>0),y(2),Ye(we(6,7,e.date,"monthViewDayNumber",n)),y(2),m("ngIf",e.events.length>0)}}function Sr(t,i){}var br=(t,i,e,n,r)=>({events:t,eventClicked:i,isOpen:e,trackByEventId:n,validateDrag:r}),pi=(t,i)=>({date:t,locale:i}),xr=t=>({event:t}),fi=(t,i)=>({event:t,locale:i});function Mr(t,i){if(t&1){let e=Z();b(0,"div",7),X(1,"span",8),ye(2," "),b(3,"mwl-calendar-event-title",9),P(4,"calendarA11y"),L("mwlClick",function(r){let a=E(e).$implicit,o=h(2).eventClicked;return k(o.emit({event:a,sourceEvent:r}))})("mwlKeydownEnter",function(r){let a=E(e).$implicit,o=h(2).eventClicked;return k(o.emit({event:a,sourceEvent:r}))}),O(),ye(5," "),X(6,"mwl-calendar-event-actions",10),O()}if(t&2){let e=i.$implicit,n=h(2).validateDrag,r=h();re("cal-draggable",e.draggable),m("ngClass",e==null?null:e.cssClass)("dropData",He(16,xr,e))("dragAxis",G(18,et,e.draggable,e.draggable))("validateDrag",n)("touchStartLongPress",Q(21,kt)),y(),m("ngStyle",He(22,un,e.color==null?null:e.color.primary)),y(2),m("event",e)("customTemplate",r.eventTitleTemplate),ue("aria-label",pe(4,13,G(24,fi,e,r.locale),"eventDescription")),y(3),m("event",e)("customTemplate",r.eventActionsTemplate)}}function Or(t,i){if(t&1&&(b(0,"div",3),X(1,"span",4),P(2,"calendarA11y"),X(3,"span",5),P(4,"calendarA11y"),I(5,Mr,7,27,"div",6),O()),t&2){let e=h(),n=e.events,r=e.trackByEventId,a=h();m("@collapse",void 0),y(),ue("aria-label",pe(2,5,G(11,pi,a.date,a.locale),"openDayEventsAlert")),y(2),ue("aria-label",pe(4,8,G(14,pi,a.date,a.locale),"openDayEventsLandmark")),y(2),m("ngForOf",n)("ngForTrackBy",r)}}function Vr(t,i){if(t&1&&I(0,Or,6,17,"div",2),t&2){let e=i.isOpen;m("ngIf",e)}}function Hr(t,i){}var Ir=(t,i,e)=>({days:t,locale:i,trackByWeekDayHeaderDate:e});function Rr(t,i){if(t&1){let e=Z();b(0,"div",4),L("click",function(r){let a=E(e).$implicit,o=h(2);return k(o.columnHeaderClicked.emit({isoDayNumber:a.day,sourceEvent:r}))}),ye(1),P(2,"calendarDate"),O()}if(t&2){let e=i.$implicit,n=h().locale;re("cal-past",e.isPast)("cal-today",e.isToday)("cal-future",e.isFuture)("cal-weekend",e.isWeekend),m("ngClass",e.cssClass),y(),zt(" ",we(2,10,e.date,"monthViewColumnHeader",n)," ")}}function zr(t,i){if(t&1&&(b(0,"div",2),I(1,Rr,3,14,"div",3),O()),t&2){let e=i.days,n=i.trackByWeekDayHeaderDate;y(),m("ngForOf",e)("ngForTrackBy",n)}}function Wr(t,i){}function Fr(t,i){if(t&1){let e=Z();b(0,"mwl-calendar-month-cell",7),P(1,"calendarA11y"),L("mwlClick",function(r){let a=E(e).$implicit,o=h(2);return k(o.dayClicked.emit({day:a,sourceEvent:r}))})("mwlKeydownEnter",function(r){let a=E(e).$implicit,o=h(2);return k(o.dayClicked.emit({day:a,sourceEvent:r}))})("highlightDay",function(r){E(e);let a=h(2);return k(a.toggleDayHighlight(r.event,!0))})("unhighlightDay",function(r){E(e);let a=h(2);return k(a.toggleDayHighlight(r.event,!1))})("drop",function(r){let a=E(e).$implicit,o=h(2);return k(o.eventDropped(a,r.dropData.event,r.dropData.draggedFrom))})("eventClicked",function(r){E(e);let a=h(2);return k(a.eventClicked.emit({event:r.event,sourceEvent:r.sourceEvent}))}),O()}if(t&2){let e=i.$implicit,n=h(2);m("ngClass",e==null?null:e.cssClass)("day",e)("openDay",n.openDay)("locale",n.locale)("tooltipPlacement",n.tooltipPlacement)("tooltipAppendToBody",n.tooltipAppendToBody)("tooltipTemplate",n.tooltipTemplate)("tooltipDelay",n.tooltipDelay)("customTemplate",n.cellTemplate)("ngStyle",He(15,un,e.backgroundColor))("clickListenerDisabled",n.dayClicked.observers.length===0),ue("tabindex",pe(1,12,Q(17,Pe),"monthCellTabIndex"))}}function Ar(t,i){if(t&1){let e=Z();b(0,"div")(1,"div",4),I(2,Fr,2,18,"mwl-calendar-month-cell",5),P(3,"slice"),O(),b(4,"mwl-calendar-open-day-events",6),L("eventClicked",function(r){E(e);let a=h();return k(a.eventClicked.emit({event:r.event,sourceEvent:r.sourceEvent}))})("drop",function(r){E(e);let a=h();return k(a.eventDropped(a.openDay,r.dropData.event,r.dropData.draggedFrom))}),O()()}if(t&2){let e=i.$implicit,n=h();y(2),m("ngForOf",we(3,9,n.view.days,e,e+n.view.totalDaysVisibleInWeek))("ngForTrackBy",n.trackByDate),y(2),m("locale",n.locale)("isOpen",n.openRowIndex===e)("events",n.openDay==null?null:n.openDay.events)("date",n.openDay==null?null:n.openDay.date)("customTemplate",n.openDayEventsTemplate)("eventTitleTemplate",n.eventTitleTemplate)("eventActionsTemplate",n.eventActionsTemplate)}}var Br=(t,i,e,n,r,a)=>({days:t,locale:i,dayHeaderClicked:e,eventDropped:n,dragEnter:r,trackByWeekDayHeaderDate:a});function Lr(t,i){if(t&1){let e=Z();b(0,"div",4),L("mwlClick",function(r){let a=E(e).$implicit,o=h().dayHeaderClicked;return k(o.emit({day:a,sourceEvent:r}))})("drop",function(r){let a=E(e).$implicit,o=h().eventDropped;return k(o.emit({event:r.dropData.event,newStart:a.date}))})("dragEnter",function(){let r=E(e).$implicit,a=h().dragEnter;return k(a.emit({date:r.date}))}),b(1,"b"),ye(2),P(3,"calendarDate"),O(),X(4,"br"),b(5,"span"),ye(6),P(7,"calendarDate"),O()()}if(t&2){let e=i.$implicit,n=h().locale;re("cal-past",e.isPast)("cal-today",e.isToday)("cal-future",e.isFuture)("cal-weekend",e.isWeekend),m("ngClass",e.cssClass),y(2),Ye(we(3,11,e.date,"weekViewColumnHeader",n)),y(4),Ye(we(7,15,e.date,"weekViewColumnSubHeader",n))}}function Pr(t,i){if(t&1&&(b(0,"div",2),I(1,Lr,8,19,"div",3),O()),t&2){let e=i.days,n=i.trackByWeekDayHeaderDate;y(),m("ngForOf",e)("ngForTrackBy",n)}}function Nr(t,i){}var $r=(t,i,e,n,r,a,o,s,d)=>({weekEvent:t,tooltipPlacement:i,eventClicked:e,tooltipTemplate:n,tooltipAppendToBody:r,tooltipDisabled:a,tooltipDelay:o,column:s,daysInWeek:d}),jr=(t,i,e)=>({color:t,backgroundColor:i,borderColor:e});function Yr(t,i){if(t&1){let e=Z();b(0,"div",2),P(1,"calendarEventTitle"),P(2,"calendarA11y"),L("mwlClick",function(r){let a=E(e).eventClicked;return k(a.emit({sourceEvent:r}))})("mwlKeydownEnter",function(r){let a=E(e).eventClicked;return k(a.emit({sourceEvent:r}))}),X(3,"mwl-calendar-event-actions",3),ye(4," "),X(5,"mwl-calendar-event-title",4),O()}if(t&2){let e=i.weekEvent,n=i.tooltipPlacement,r=i.tooltipTemplate,a=i.tooltipAppendToBody,o=i.tooltipDisabled,s=i.tooltipDelay,d=i.daysInWeek,l=h();m("ngStyle",ut(20,jr,e.event.color==null?null:e.event.color.secondaryText,e.event.color==null?null:e.event.color.secondary,e.event.color==null?null:e.event.color.primary))("mwlCalendarTooltip",o?"":we(1,13,e.event.title,d===1?"dayTooltip":"weekTooltip",e.tempEvent||e.event))("tooltipPlacement",n)("tooltipEvent",e.tempEvent||e.event)("tooltipTemplate",r)("tooltipAppendToBody",a)("tooltipDelay",s),ue("aria-label",pe(2,17,G(24,fi,e.tempEvent||e.event,l.locale),"eventDescription")),y(3),m("event",e.tempEvent||e.event)("customTemplate",l.eventActionsTemplate),y(2),m("event",e.tempEvent||e.event)("customTemplate",l.eventTitleTemplate)("view",d===1?"day":"week")}}function Xr(t,i){}var Gr=(t,i,e,n,r)=>({segment:t,locale:i,segmentHeight:e,isTimeLabel:n,daysInWeek:r});function Ur(t,i){if(t&1&&(b(0,"div",4),ye(1),P(2,"calendarDate"),O()),t&2){let e=h(),n=e.segment,r=e.locale,a=e.daysInWeek;y(),zt(" ",we(2,1,n.displayDate,a===1?"dayViewHour":"weekViewHour",r)," ")}}function Kr(t,i){if(t&1&&(b(0,"div",2),P(1,"calendarA11y"),I(2,Ur,3,5,"div",3),O()),t&2){let e=i.segment,n=i.segmentHeight,r=i.isTimeLabel,a=i.daysInWeek;Ve("height",n,"px"),re("cal-hour-start",e.isStart)("cal-after-hour-start",!e.isStart),m("ngClass",e.cssClass),ue("aria-hidden",pe(1,9,Q(12,Pe),a===1?"hideDayHourSegment":"hideWeekHourSegment")),y(2),m("ngIf",r)}}function qr(t,i){}var Zr=(t,i,e,n,r,a,o)=>({columnDate:t,dayStartHour:i,dayStartMinute:e,dayEndHour:n,dayEndMinute:r,isVisible:a,topPx:o});function Qr(t,i){if(t&1&&X(0,"div",3),t&2){let e=h().topPx;Ve("top",e,"px")}}function Jr(t,i){if(t&1&&I(0,Qr,1,2,"div",2),t&2){let e=i.isVisible;m("ngIf",e)}}function ea(t,i){}var ta=(t,i)=>({left:t,right:i}),gi=(t,i)=>({event:t,calendarId:i}),na=t=>({x:t}),ia=()=>({left:!0}),ra=()=>({right:!0}),aa=(t,i,e,n)=>({left:t,right:i,top:e,bottom:n}),oa=()=>({left:!0,top:!0}),sa=()=>({right:!0,bottom:!0});function la(t,i){t&1&&zn(0)}function da(t,i){if(t&1){let e=Z();b(0,"div",17),L("drop",function(r){let a=E(e).$implicit,o=h(2);return k(o.eventDropped(r,a.date,!0))})("dragEnter",function(){let r=E(e).$implicit,a=h(2);return k(a.dateDragEnter(r.date))}),O()}}function ca(t,i){t&1&&X(0,"div",24),t&2&&m("resizeEdges",Q(1,ia))}function ua(t,i){t&1&&X(0,"div",25),t&2&&m("resizeEdges",Q(1,ra))}function pa(t,i){if(t&1){let e=Z();b(0,"div",20,3),L("resizeStart",function(r){let a=E(e).$implicit;h();let o=Y(1),s=h(2);return k(s.allDayEventResizeStarted(o,a,r))})("resizing",function(r){let a=E(e).$implicit,o=h(3);return k(o.allDayEventResizing(a,r,o.dayColumnWidth))})("resizeEnd",function(){let r=E(e).$implicit,a=h(3);return k(a.allDayEventResizeEnded(r))})("dragStart",function(){let r=E(e).$implicit,a=Y(1);h();let o=Y(1),s=h(2);return k(s.dragStarted(o,a,r,!1))})("dragging",function(){E(e);let r=h(3);return k(r.allDayEventDragMove())})("dragEnd",function(r){let a=E(e).$implicit,o=h(3);return k(o.dragEnded(a,r,o.dayColumnWidth))}),I(2,ca,1,2,"div",21),b(3,"mwl-calendar-week-view-event",22),L("eventClicked",function(r){let a=E(e).$implicit,o=h(3);return k(o.eventClicked.emit({event:a.event,sourceEvent:r.sourceEvent}))}),O(),I(4,ua,1,2,"div",23),O()}if(t&2){let e=i.$implicit,n=h(3);Ve("width",100/n.days.length*e.span,"%")("margin-left",n.rtl?null:100/n.days.length*e.offset,"%")("margin-right",n.rtl?100/n.days.length*e.offset:null,"%"),re("cal-draggable",e.event.draggable&&n.allDayEventResizes.size===0)("cal-starts-within-week",!e.startsBeforeWeek)("cal-ends-within-week",!e.endsAfterWeek),m("ngClass",e.event==null?null:e.event.cssClass)("resizeCursors",n.resizeCursors)("resizeSnapGrid",G(33,ta,n.dayColumnWidth,n.dayColumnWidth))("validateResize",n.validateResize)("dropData",G(36,gi,e.event,n.calendarId))("dragAxis",G(39,et,e.event.draggable&&n.allDayEventResizes.size===0,!n.snapDraggedEvents&&e.event.draggable&&n.allDayEventResizes.size===0))("dragSnapGrid",n.snapDraggedEvents?He(42,na,n.dayColumnWidth):Q(44,Pe))("validateDrag",n.validateDrag)("touchStartLongPress",Q(45,kt)),y(2),m("ngIf",(e.event==null||e.event.resizable==null?null:e.event.resizable.beforeStart)&&!e.startsBeforeWeek),y(),m("locale",n.locale)("weekEvent",e)("tooltipPlacement",n.tooltipPlacement)("tooltipTemplate",n.tooltipTemplate)("tooltipAppendToBody",n.tooltipAppendToBody)("tooltipDelay",n.tooltipDelay)("customTemplate",n.eventTemplate)("eventTitleTemplate",n.eventTitleTemplate)("eventActionsTemplate",n.eventActionsTemplate)("daysInWeek",n.daysInWeek),y(),m("ngIf",(e.event==null||e.event.resizable==null?null:e.event.resizable.afterEnd)&&!e.endsAfterWeek)}}function ma(t,i){if(t&1&&(b(0,"div",18,2),I(2,pa,5,46,"div",19),O()),t&2){let e=i.$implicit,n=h(2);y(2),m("ngForOf",e.row)("ngForTrackBy",n.trackByWeekAllDayEvent)}}function ha(t,i){if(t&1){let e=Z();b(0,"div",12,1),L("dragEnter",function(){E(e);let r=h();return k(r.dragEnter("allDay"))})("dragLeave",function(){E(e);let r=h();return k(r.dragLeave("allDay"))}),b(2,"div",10)(3,"div",13),I(4,la,1,0,"ng-container",14),O(),I(5,da,1,0,"div",15),O(),I(6,ma,3,2,"div",16),O()}if(t&2){let e=h();y(4),m("ngTemplateOutlet",e.allDayEventsLabelTemplate),y(),m("ngForOf",e.days)("ngForTrackBy",e.trackByWeekDayHeaderDate),y(),m("ngForOf",e.view.allDayEventRows)("ngForTrackBy",e.trackById)}}function va(t,i){if(t&1&&X(0,"mwl-calendar-week-view-hour-segment",29),t&2){let e=i.$implicit,n=h(3);Ve("height",n.hourSegmentHeight,"px"),m("segment",e)("segmentHeight",n.hourSegmentHeight)("locale",n.locale)("customTemplate",n.hourSegmentTemplate)("isTimeLabel",!0)("daysInWeek",n.daysInWeek)}}function fa(t,i){if(t&1&&(b(0,"div",27),I(1,va,1,8,"mwl-calendar-week-view-hour-segment",28),O()),t&2){let e=i.$implicit,n=i.odd,r=h(2);re("cal-hour-odd",n),y(),m("ngForOf",e.segments)("ngForTrackBy",r.trackByHourSegment)}}function ga(t,i){if(t&1&&(b(0,"div",13),I(1,fa,2,4,"div",26),O()),t&2){let e=h();y(),m("ngForOf",e.view.hourColumns[0].hours)("ngForTrackBy",e.trackByHour)}}function ya(t,i){t&1&&X(0,"div",24),t&2&&m("resizeEdges",Q(1,oa))}function wa(t,i){}function _a(t,i){if(t&1){let e=Z();b(0,"mwl-calendar-week-view-event",36),L("eventClicked",function(r){E(e);let a=h().$implicit,o=h(2);return k(o.eventClicked.emit({event:a.event,sourceEvent:r.sourceEvent}))}),O()}if(t&2){let e=h().$implicit,n=h().$implicit,r=h();m("locale",r.locale)("weekEvent",e)("tooltipPlacement",r.tooltipPlacement)("tooltipTemplate",r.tooltipTemplate)("tooltipAppendToBody",r.tooltipAppendToBody)("tooltipDisabled",r.dragActive||r.timeEventResizes.size>0)("tooltipDelay",r.tooltipDelay)("customTemplate",r.eventTemplate)("eventTitleTemplate",r.eventTitleTemplate)("eventActionsTemplate",r.eventActionsTemplate)("column",n)("daysInWeek",r.daysInWeek)}}function Da(t,i){t&1&&X(0,"div",25),t&2&&m("resizeEdges",Q(1,sa))}function Ca(t,i){if(t&1){let e=Z();b(0,"div",34,3),L("resizeStart",function(r){let a=E(e).$implicit,o=h(2),s=Y(6);return k(o.timeEventResizeStarted(s,a,r))})("resizing",function(r){let a=E(e).$implicit,o=h(2);return k(o.timeEventResizing(a,r))})("resizeEnd",function(){let r=E(e).$implicit,a=h(2);return k(a.timeEventResizeEnded(r))})("dragStart",function(){let r=E(e).$implicit,a=Y(1),o=h(2),s=Y(6);return k(o.dragStarted(s,a,r,!0))})("dragging",function(r){let a=E(e).$implicit,o=h(2);return k(o.dragMove(a,r))})("dragEnd",function(r){let a=E(e).$implicit,o=h(2);return k(o.dragEnded(a,r,o.dayColumnWidth,!0))}),I(2,ya,1,2,"div",21)(3,wa,0,0,"ng-template",35)(4,_a,1,12,"ng-template",null,4,ae)(6,Da,1,2,"div",23),O()}if(t&2){let e=i.$implicit,n=Y(5),r=h(2);Ve("top",e.top,"px")("height",e.height,"px")("left",e.left,"%")("width",e.width,"%"),re("cal-draggable",e.event.draggable&&r.timeEventResizes.size===0)("cal-starts-within-day",!e.startsBeforeDay)("cal-ends-within-day",!e.endsAfterDay),m("ngClass",e.event.cssClass)("hidden",e.height===0&&e.width===0)("resizeCursors",r.resizeCursors)("resizeSnapGrid",Wn(30,aa,r.dayColumnWidth,r.dayColumnWidth,r.eventSnapSize||r.hourSegmentHeight,r.eventSnapSize||r.hourSegmentHeight))("validateResize",r.validateResize)("allowNegativeResizes",!0)("dropData",G(35,gi,e.event,r.calendarId))("dragAxis",G(38,et,e.event.draggable&&r.timeEventResizes.size===0,e.event.draggable&&r.timeEventResizes.size===0))("dragSnapGrid",r.snapDraggedEvents?G(41,et,r.dayColumnWidth,r.eventSnapSize||r.hourSegmentHeight):Q(44,Pe))("touchStartLongPress",Q(45,kt))("ghostDragEnabled",!r.snapDraggedEvents)("ghostElementTemplate",n)("validateDrag",r.validateDrag),y(2),m("ngIf",(e.event==null||e.event.resizable==null?null:e.event.resizable.beforeStart)&&!e.startsBeforeDay),y(),m("ngTemplateOutlet",n),y(3),m("ngIf",(e.event==null||e.event.resizable==null?null:e.event.resizable.afterEnd)&&!e.endsAfterDay)}}function Ta(t,i){if(t&1){let e=Z();b(0,"mwl-calendar-week-view-hour-segment",38),L("mwlClick",function(r){let a=E(e).$implicit,o=h(3);return k(o.hourSegmentClicked.emit({date:a.date,sourceEvent:r}))})("drop",function(r){let a=E(e).$implicit,o=h(3);return k(o.eventDropped(r,a.date,!1))})("dragEnter",function(){let r=E(e).$implicit,a=h(3);return k(a.dateDragEnter(r.date))}),O()}if(t&2){let e=i.$implicit,n=h(3);Ve("height",n.hourSegmentHeight,"px"),m("segment",e)("segmentHeight",n.hourSegmentHeight)("locale",n.locale)("customTemplate",n.hourSegmentTemplate)("daysInWeek",n.daysInWeek)("clickListenerDisabled",n.hourSegmentClicked.observers.length===0)("dragOverClass",!n.dragActive||!n.snapDraggedEvents?"cal-drag-over":null)("isTimeLabel",n.daysInWeek===1)}}function Ea(t,i){if(t&1&&(b(0,"div",27),I(1,Ta,1,10,"mwl-calendar-week-view-hour-segment",37),O()),t&2){let e=i.$implicit,n=i.odd,r=h(2);re("cal-hour-odd",n),y(),m("ngForOf",e.segments)("ngForTrackBy",r.trackByHourSegment)}}function ka(t,i){if(t&1&&(b(0,"div",30),X(1,"mwl-calendar-week-view-current-time-marker",31),b(2,"div",32),I(3,Ca,7,46,"div",33),O(),I(4,Ea,2,4,"div",26),O()),t&2){let e=i.$implicit,n=h();y(),m("columnDate",e.date)("dayStartHour",n.dayStartHour)("dayStartMinute",n.dayStartMinute)("dayEndHour",n.dayEndHour)("dayEndMinute",n.dayEndMinute)("hourSegments",n.hourSegments)("hourDuration",n.hourDuration)("hourSegmentHeight",n.hourSegmentHeight)("customTemplate",n.currentTimeMarkerTemplate),y(2),m("ngForOf",e.events)("ngForTrackBy",n.trackByWeekTimeEvent),y(),m("ngForOf",e.hours)("ngForTrackBy",n.trackByHour)}}var We=(()=>{class t{constructor(e,n,r){this.renderer=e,this.elm=n,this.document=r,this.clickListenerDisabled=!1,this.click=new M,this.destroy$=new q}ngOnInit(){this.clickListenerDisabled||this.listen().pipe(ce(this.destroy$)).subscribe(e=>{e.stopPropagation(),this.click.emit(e)})}ngOnDestroy(){this.destroy$.next()}listen(){return new Te(e=>this.renderer.listen(this.elm.nativeElement,"click",n=>{e.next(n)}))}}return t.\u0275fac=function(e){return new(e||t)(_(ge),_(ie),_(Ge))},t.\u0275dir=ee({type:t,selectors:[["","mwlClick",""]],inputs:{clickListenerDisabled:"clickListenerDisabled"},outputs:{click:"mwlClick"}}),t})(),St=(()=>{class t{constructor(e,n,r){this.host=e,this.ngZone=n,this.renderer=r,this.keydown=new M,this.keydownListener=null}ngOnInit(){this.ngZone.runOutsideAngular(()=>{this.keydownListener=this.renderer.listen(this.host.nativeElement,"keydown",e=>{(e.keyCode===13||e.which===13||e.key==="Enter")&&(e.preventDefault(),e.stopPropagation(),this.ngZone.run(()=>{this.keydown.emit(e)}))})})}ngOnDestroy(){this.keydownListener!==null&&(this.keydownListener(),this.keydownListener=null)}}return t.\u0275fac=function(e){return new(e||t)(_(ie),_(Ce),_(ge))},t.\u0275dir=ee({type:t,selectors:[["","mwlKeydownEnter",""]],outputs:{keydown:"mwlKeydownEnter"}}),t})(),Tt=(()=>{class t{constructor(e){this.i18nPlural=e}monthCell({day:e,locale:n}){return e.badgeTotal>0?`
        ${N(e.date,"EEEE MMMM d",n)},
        ${this.i18nPlural.transform(e.badgeTotal,{"=0":"No events","=1":"One event",other:"# events"})},
         click to expand
      `:`${N(e.date,"EEEE MMMM d",n)}`}openDayEventsLandmark({date:e,locale:n}){return`
      Beginning of expanded view for ${N(e,"EEEE MMMM dd",n)}
    `}openDayEventsAlert({date:e,locale:n}){return`${N(e,"EEEE MMMM dd",n)} expanded`}eventDescription({event:e,locale:n}){if(e.allDay===!0)return this.allDayEventDescription({event:e,locale:n});let r=`
      ${N(e.start,"EEEE MMMM dd",n)},
      ${e.title}, from ${N(e.start,"hh:mm a",n)}
    `;return e.end?r+` to ${N(e.end,"hh:mm a",n)}`:r}allDayEventDescription({event:e,locale:n}){let r=`
      ${e.title}, event spans multiple days:
      start time ${N(e.start,"MMMM dd hh:mm a",n)}
    `;return e.end?r+`, stop time ${N(e.end,"MMMM d hh:mm a",n)}`:r+", no stop time"}actionButtonLabel({action:e}){return e.a11yLabel}monthCellTabIndex(){return 0}hideMonthCellEvents(){return!0}hideEventTitle(){return!0}hideWeekHourSegment(){return!0}hideDayHourSegment(){return!0}}return t.\u0275fac=function(e){return new(e||t)(st(pt))},t.\u0275prov=xe({token:t,factory:t.\u0275fac}),t})(),Fe=(()=>{class t{constructor(e,n){this.calendarA11y=e,this.locale=n}transform(e,n){if(e.locale=e.locale||this.locale,typeof this.calendarA11y[n]>"u"){let r=Object.getOwnPropertyNames(Object.getPrototypeOf(Tt.prototype)).filter(a=>a!=="constructor");throw new Error(`${n} is not a valid a11y method. Can only be one of ${r.join(", ")}`)}return this.calendarA11y[n](e)}}return t.\u0275fac=function(e){return new(e||t)(_(Tt,16),_(Xe,16))},t.\u0275pipe=lt({name:"calendarA11y",type:t,pure:!0}),t})(),yi=(()=>{class t{constructor(){this.trackByActionId=(e,n)=>n.id?n.id:n}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275cmp=J({type:t,selectors:[["mwl-calendar-event-actions"]],inputs:{event:"event",customTemplate:"customTemplate"},decls:3,vars:5,consts:[["defaultTemplate",""],[3,"ngTemplateOutlet","ngTemplateOutletContext"],["class","cal-event-actions",4,"ngIf"],[1,"cal-event-actions"],["class","cal-event-action","href","javascript:;","tabindex","0","role","button",3,"ngClass","innerHtml","mwlClick","mwlKeydownEnter",4,"ngFor","ngForOf","ngForTrackBy"],["href","javascript:;","tabindex","0","role","button",1,"cal-event-action",3,"mwlClick","mwlKeydownEnter","ngClass","innerHtml"]],template:function(e,n){if(e&1&&I(0,ur,1,1,"ng-template",null,0,ae)(2,pr,0,0,"ng-template",1),e&2){let r=Y(1);y(2),m("ngTemplateOutlet",n.customTemplate||r)("ngTemplateOutletContext",G(2,sr,n.event,n.trackByActionId))}},dependencies:[_e,Ee,Ie,oe,We,St,Fe],encapsulation:2}),t})(),tt=class{month(i,e){return i.title}monthTooltip(i,e){return i.title}week(i,e){return i.title}weekTooltip(i,e){return i.title}day(i,e){return i.title}dayTooltip(i,e){return i.title}},pn=(()=>{class t{constructor(e){this.calendarEventTitle=e}transform(e,n,r){return this.calendarEventTitle[n](r,e)}}return t.\u0275fac=function(e){return new(e||t)(_(tt,16))},t.\u0275pipe=lt({name:"calendarEventTitle",type:t,pure:!0}),t})(),wi=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275cmp=J({type:t,selectors:[["mwl-calendar-event-title"]],inputs:{event:"event",customTemplate:"customTemplate",view:"view"},decls:3,vars:5,consts:[["defaultTemplate",""],[3,"ngTemplateOutlet","ngTemplateOutletContext"],[1,"cal-event-title",3,"innerHTML"]],template:function(e,n){if(e&1&&I(0,hr,3,10,"ng-template",null,0,ae)(2,vr,0,0,"ng-template",1),e&2){let r=Y(1);y(2),m("ngTemplateOutlet",n.customTemplate||r)("ngTemplateOutletContext",G(2,mr,n.event,n.view))}},dependencies:[oe,pn,Fe],encapsulation:2}),t})(),Sa=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275cmp=J({type:t,selectors:[["mwl-calendar-tooltip-window"]],inputs:{contents:"contents",placement:"placement",event:"event",customTemplate:"customTemplate"},decls:3,vars:6,consts:[["defaultTemplate",""],[3,"ngTemplateOutlet","ngTemplateOutletContext"],[1,"cal-tooltip",3,"ngClass"],[1,"cal-tooltip-arrow"],[1,"cal-tooltip-inner",3,"innerHtml"]],template:function(e,n){if(e&1&&I(0,gr,3,2,"ng-template",null,0,ae)(2,yr,0,0,"ng-template",1),e&2){let r=Y(1);y(2),m("ngTemplateOutlet",n.customTemplate||r)("ngTemplateOutletContext",ut(2,fr,n.contents,n.placement,n.event))}},dependencies:[_e,oe],encapsulation:2}),t})(),_i=(()=>{class t{constructor(e,n,r,a,o,s){this.elementRef=e,this.injector=n,this.renderer=r,this.viewContainerRef=o,this.document=s,this.placement="auto",this.delay=null,this.cancelTooltipDelay$=new q,this.tooltipFactory=a.resolveComponentFactory(Sa)}ngOnChanges(e){this.tooltipRef&&(e.contents||e.customTemplate||e.event)&&(this.tooltipRef.instance.contents=this.contents,this.tooltipRef.instance.customTemplate=this.customTemplate,this.tooltipRef.instance.event=this.event,this.tooltipRef.changeDetectorRef.markForCheck(),this.contents||this.hide())}ngOnDestroy(){this.hide()}onMouseOver(){(this.delay===null?_n("now"):Cn(this.delay)).pipe(ce(this.cancelTooltipDelay$)).subscribe(()=>{this.show()})}onMouseOut(){this.hide()}show(){!this.tooltipRef&&this.contents&&(this.tooltipRef=this.viewContainerRef.createComponent(this.tooltipFactory,0,this.injector,[]),this.tooltipRef.instance.contents=this.contents,this.tooltipRef.instance.customTemplate=this.customTemplate,this.tooltipRef.instance.event=this.event,this.appendToBody&&this.document.body.appendChild(this.tooltipRef.location.nativeElement),requestAnimationFrame(()=>{this.positionTooltip()}))}hide(){this.tooltipRef&&(this.viewContainerRef.remove(this.viewContainerRef.indexOf(this.tooltipRef.hostView)),this.tooltipRef=null),this.cancelTooltipDelay$.next()}positionTooltip(e=[]){this.tooltipRef&&(this.tooltipRef.changeDetectorRef.detectChanges(),this.tooltipRef.instance.placement=Qt(this.elementRef.nativeElement,this.tooltipRef.location.nativeElement.children[0],this.placement,this.appendToBody),e.indexOf(this.tooltipRef.instance.placement)===-1&&this.positionTooltip([...e,this.tooltipRef.instance.placement]))}}return t.\u0275fac=function(e){return new(e||t)(_(ie),_(Hn),_(ge),_(Rn),_(ct),_(Ge))},t.\u0275dir=ee({type:t,selectors:[["","mwlCalendarTooltip",""]],hostBindings:function(e,n){e&1&&L("mouseenter",function(){return n.onMouseOver()})("mouseleave",function(){return n.onMouseOut()})},inputs:{contents:[Me.None,"mwlCalendarTooltip","contents"],placement:[Me.None,"tooltipPlacement","placement"],customTemplate:[Me.None,"tooltipTemplate","customTemplate"],event:[Me.None,"tooltipEvent","event"],appendToBody:[Me.None,"tooltipAppendToBody","appendToBody"],delay:[Me.None,"tooltipDelay","delay"]},features:[Oe]}),t})(),nt=function(t){return t.Month="month",t.Week="week",t.Day="day",t}(nt||{}),Di=t=>ii(t,(...e)=>console.warn("angular-calendar",...e));function Ci(t,i){return Math.floor(t.left)<=Math.ceil(i.left)&&Math.floor(i.left)<=Math.ceil(t.right)&&Math.floor(t.left)<=Math.ceil(i.right)&&Math.floor(i.right)<=Math.ceil(t.right)}function ba(t,i){return Math.floor(t.top)<=Math.ceil(i.top)&&Math.floor(i.top)<=Math.ceil(t.bottom)&&Math.floor(t.top)<=Math.ceil(i.bottom)&&Math.floor(i.bottom)<=Math.ceil(t.bottom)}function xa(t,i){return Ci(t,i)&&ba(t,i)}function Ti(t,i){return Math.round(t/i)*i}var Ei=(t,i)=>i.id?i.id:i,mn=(t,i)=>i.date.toISOString(),Ma=(t,i)=>i.date.toISOString(),Oa=(t,i)=>i.segments[0].date.toISOString(),Va=(t,i)=>i.event.id?i.event.id:i.event,Ha=(t,i)=>i.event.id?i.event.id:i.event,Ia=60;function Ra(t,i,e){return(e||Ia)/(t*i)}function on(t,i,e,n,r){let a=Ti(t,n||e),o=Ra(i,e,r);return a*o}function mi(t,i,e){return i.end?i.end:t.addMinutes(i.start,e)}function he(t,i,e,n){let r=0,a=0,o=e<0?t.subDays:t.addDays,s=i;for(;a<=Math.abs(e);){s=o(i,r);let d=t.getDay(s);n.indexOf(d)===-1&&a++,r++}return s}function za(t,i,e){let n=i||t;return e.start<=t&&t<=e.end||e.start<=n&&n<=e.end}function Wa(t,i,e,n){return t.dropData&&t.dropData.event&&(t.dropData.calendarId!==n||t.dropData.event.allDay&&!e||!t.dropData.event.allDay&&e)}function sn(t,i,e,n=[],r){let a=r?t.startOfDay(i):t.startOfWeek(i,{weekStartsOn:e}),o=t.endOfWeek(i,{weekStartsOn:e});for(;n.indexOf(t.getDay(a))>-1&&a<o;)a=t.addDays(a,1);if(r){let s=t.endOfDay(he(t,a,r-1,n));return{viewStart:a,viewEnd:s}}else{let s=o;for(;n.indexOf(t.getDay(s))>-1&&s>a;)s=t.subDays(s,1);return{viewStart:a,viewEnd:s}}}function hn({x:t,y:i}){return Math.abs(t)>1||Math.abs(i)>1}var De=class{},Xo=(()=>{class t{constructor(e){this.dateAdapter=e,this.excludeDays=[],this.viewDateChange=new M}onClick(){let e={day:this.dateAdapter.subDays,week:this.dateAdapter.subWeeks,month:this.dateAdapter.subMonths}[this.view];this.view===nt.Day?this.viewDateChange.emit(he(this.dateAdapter,this.viewDate,-1,this.excludeDays)):this.view===nt.Week&&this.daysInWeek?this.viewDateChange.emit(he(this.dateAdapter,this.viewDate,-this.daysInWeek,this.excludeDays)):this.viewDateChange.emit(e(this.viewDate,1))}}return t.\u0275fac=function(e){return new(e||t)(_(De))},t.\u0275dir=ee({type:t,selectors:[["","mwlCalendarPreviousView",""]],hostBindings:function(e,n){e&1&&L("click",function(){return n.onClick()})},inputs:{view:"view",viewDate:"viewDate",excludeDays:"excludeDays",daysInWeek:"daysInWeek"},outputs:{viewDateChange:"viewDateChange"}}),t})(),Go=(()=>{class t{constructor(e){this.dateAdapter=e,this.excludeDays=[],this.viewDateChange=new M}onClick(){let e={day:this.dateAdapter.addDays,week:this.dateAdapter.addWeeks,month:this.dateAdapter.addMonths}[this.view];this.view===nt.Day?this.viewDateChange.emit(he(this.dateAdapter,this.viewDate,1,this.excludeDays)):this.view===nt.Week&&this.daysInWeek?this.viewDateChange.emit(he(this.dateAdapter,this.viewDate,this.daysInWeek,this.excludeDays)):this.viewDateChange.emit(e(this.viewDate,1))}}return t.\u0275fac=function(e){return new(e||t)(_(De))},t.\u0275dir=ee({type:t,selectors:[["","mwlCalendarNextView",""]],hostBindings:function(e,n){e&1&&L("click",function(){return n.onClick()})},inputs:{view:"view",viewDate:"viewDate",excludeDays:"excludeDays",daysInWeek:"daysInWeek"},outputs:{viewDateChange:"viewDateChange"}}),t})(),Uo=(()=>{class t{constructor(e){this.dateAdapter=e,this.viewDateChange=new M}onClick(){this.viewDateChange.emit(this.dateAdapter.startOfDay(new Date))}}return t.\u0275fac=function(e){return new(e||t)(_(De))},t.\u0275dir=ee({type:t,selectors:[["","mwlCalendarToday",""]],hostBindings:function(e,n){e&1&&L("click",function(){return n.onClick()})},inputs:{viewDate:"viewDate"},outputs:{viewDateChange:"viewDateChange"}}),t})(),Fa=(()=>{class t{constructor(e){this.dateAdapter=e}monthViewColumnHeader({date:e,locale:n}){return N(e,"EEEE",n)}monthViewDayNumber({date:e,locale:n}){return N(e,"d",n)}monthViewTitle({date:e,locale:n}){return N(e,"LLLL y",n)}weekViewColumnHeader({date:e,locale:n}){return N(e,"EEEE",n)}weekViewColumnSubHeader({date:e,locale:n}){return N(e,"MMM d",n)}weekViewTitle({date:e,locale:n,weekStartsOn:r,excludeDays:a,daysInWeek:o}){let{viewStart:s,viewEnd:d}=sn(this.dateAdapter,e,r,a,o),l=(c,p)=>N(c,"MMM d"+(p?", yyyy":""),n);return`${l(s,s.getUTCFullYear()!==d.getUTCFullYear())} - ${l(d,!0)}`}weekViewHour({date:e,locale:n}){return N(e,"h a",n)}dayViewHour({date:e,locale:n}){return N(e,"h a",n)}dayViewTitle({date:e,locale:n}){return N(e,"EEEE, MMMM d, y",n)}}return t.\u0275fac=function(e){return new(e||t)(st(De))},t.\u0275prov=xe({token:t,factory:t.\u0275fac}),t})(),Et=(()=>{class t extends Fa{}return t.\u0275fac=(()=>{let i;return function(n){return(i||(i=Vn(t)))(n||t)}})(),t.\u0275prov=xe({token:t,factory:t.\u0275fac}),t})(),bt=(()=>{class t{constructor(e,n){this.dateFormatter=e,this.locale=n}transform(e,n,r=this.locale,a=0,o=[],s){if(typeof this.dateFormatter[n]>"u"){let d=Object.getOwnPropertyNames(Object.getPrototypeOf(Et.prototype)).filter(l=>l!=="constructor");throw new Error(`${n} is not a valid date formatter. Can only be one of ${d.join(", ")}`)}return this.dateFormatter[n]({date:e,locale:r,weekStartsOn:a,excludeDays:o,daysInWeek:s})}}return t.\u0275fac=function(e){return new(e||t)(_(Et,16),_(Xe,16))},t.\u0275pipe=lt({name:"calendarDate",type:t,pure:!0}),t})(),xt=(()=>{class t{constructor(e){this.dateAdapter=e}getMonthView(e){return ni(this.dateAdapter,e)}getWeekViewHeader(e){return Dt(this.dateAdapter,e)}getWeekView(e){return ti(this.dateAdapter,e)}}return t.\u0275fac=function(e){return new(e||t)(st(De))},t.\u0275prov=xe({token:t,factory:t.\u0275fac}),t})(),Ko=new On("Moment");var Se=function(t){return t.Drag="drag",t.Drop="drop",t.Resize="resize",t}(Se||{}),it=(()=>{class t{static forRoot(e,n={}){return{ngModule:t,providers:[e,n.eventTitleFormatter||tt,n.dateFormatter||Et,n.utils||xt,n.a11y||Tt]}}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=fe({type:t}),t.\u0275inj=ve({providers:[pt],imports:[Ke]}),t})(),Aa=(()=>{class t{constructor(){this.highlightDay=new M,this.unhighlightDay=new M,this.eventClicked=new M,this.trackByEventId=Ei,this.validateDrag=hn}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275cmp=J({type:t,selectors:[["mwl-calendar-month-cell"]],hostAttrs:[1,"cal-cell","cal-day-cell"],hostVars:18,hostBindings:function(e,n){e&2&&re("cal-past",n.day.isPast)("cal-today",n.day.isToday)("cal-future",n.day.isFuture)("cal-weekend",n.day.isWeekend)("cal-in-month",n.day.inMonth)("cal-out-month",!n.day.inMonth)("cal-has-events",n.day.events.length>0)("cal-open",n.day===n.openDay)("cal-event-highlight",!!n.day.backgroundColor)},inputs:{day:"day",openDay:"openDay",locale:"locale",tooltipPlacement:"tooltipPlacement",tooltipAppendToBody:"tooltipAppendToBody",customTemplate:"customTemplate",tooltipTemplate:"tooltipTemplate",tooltipDelay:"tooltipDelay"},outputs:{highlightDay:"highlightDay",unhighlightDay:"unhighlightDay",eventClicked:"eventClicked"},decls:3,vars:15,consts:[["defaultTemplate",""],[3,"ngTemplateOutlet","ngTemplateOutletContext"],[1,"cal-cell-top"],["aria-hidden","true"],["class","cal-day-badge",4,"ngIf"],[1,"cal-day-number"],["class","cal-events",4,"ngIf"],[1,"cal-day-badge"],[1,"cal-events"],["class","cal-event","mwlDraggable","","dragActiveClass","cal-drag-active",3,"ngStyle","ngClass","mwlCalendarTooltip","tooltipPlacement","tooltipEvent","tooltipTemplate","tooltipAppendToBody","tooltipDelay","cal-draggable","dropData","dragAxis","validateDrag","touchStartLongPress","mouseenter","mouseleave","mwlClick",4,"ngFor","ngForOf","ngForTrackBy"],["mwlDraggable","","dragActiveClass","cal-drag-active",1,"cal-event",3,"mouseenter","mouseleave","mwlClick","ngStyle","ngClass","mwlCalendarTooltip","tooltipPlacement","tooltipEvent","tooltipTemplate","tooltipAppendToBody","tooltipDelay","dropData","dragAxis","validateDrag","touchStartLongPress"]],template:function(e,n){if(e&1&&I(0,kr,8,14,"ng-template",null,0,ae)(2,Sr,0,0,"ng-template",1),e&2){let r=Y(1);y(2),m("ngTemplateOutlet",n.customTemplate||r)("ngTemplateOutletContext",Ft(2,wr,[n.day,n.openDay,n.locale,n.tooltipPlacement,n.highlightDay,n.unhighlightDay,n.eventClicked,n.tooltipTemplate,n.tooltipAppendToBody,n.tooltipDelay,n.trackByEventId,n.validateDrag]))}},dependencies:[_e,Ee,Ie,oe,Ue,ht,_i,We,bt,pn,Fe],encapsulation:2}),t})(),Ba=Nn("collapse",[Nt("void",Pt({height:0,overflow:"hidden","padding-top":0,"padding-bottom":0})),Nt("*",Pt({height:"*",overflow:"hidden","padding-top":"*","padding-bottom":"*"})),$t("* => void",Lt("150ms ease-out")),$t("void => *",Lt("150ms ease-in"))]),La=(()=>{class t{constructor(){this.isOpen=!1,this.eventClicked=new M,this.trackByEventId=Ei,this.validateDrag=hn}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275cmp=J({type:t,selectors:[["mwl-calendar-open-day-events"]],inputs:{locale:"locale",isOpen:"isOpen",events:"events",customTemplate:"customTemplate",eventTitleTemplate:"eventTitleTemplate",eventActionsTemplate:"eventActionsTemplate",date:"date"},outputs:{eventClicked:"eventClicked"},decls:3,vars:8,consts:[["defaultTemplate",""],[3,"ngTemplateOutlet","ngTemplateOutletContext"],["class","cal-open-day-events","role","application",4,"ngIf"],["role","application",1,"cal-open-day-events"],["tabindex","-1","role","alert"],["tabindex","0","role","landmark"],["mwlDraggable","","dragActiveClass","cal-drag-active",3,"ngClass","cal-draggable","dropData","dragAxis","validateDrag","touchStartLongPress",4,"ngFor","ngForOf","ngForTrackBy"],["mwlDraggable","","dragActiveClass","cal-drag-active",3,"ngClass","dropData","dragAxis","validateDrag","touchStartLongPress"],[1,"cal-event",3,"ngStyle"],["view","month","tabindex","0",3,"mwlClick","mwlKeydownEnter","event","customTemplate"],[3,"event","customTemplate"]],template:function(e,n){if(e&1&&I(0,Vr,1,1,"ng-template",null,0,ae)(2,Hr,0,0,"ng-template",1),e&2){let r=Y(1);y(2),m("ngTemplateOutlet",n.customTemplate||r)("ngTemplateOutletContext",Wt(2,br,n.events,n.eventClicked,n.isOpen,n.trackByEventId,n.validateDrag))}},dependencies:[_e,Ee,Ie,oe,Ue,ht,yi,wi,We,St,Fe],encapsulation:2,data:{animation:[Ba]}}),t})(),Pa=(()=>{class t{constructor(){this.columnHeaderClicked=new M,this.trackByWeekDayHeaderDate=mn}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275cmp=J({type:t,selectors:[["mwl-calendar-month-view-header"]],inputs:{days:"days",locale:"locale",customTemplate:"customTemplate"},outputs:{columnHeaderClicked:"columnHeaderClicked"},decls:3,vars:6,consts:[["defaultTemplate",""],[3,"ngTemplateOutlet","ngTemplateOutletContext"],["role","row",1,"cal-cell-row","cal-header"],["class","cal-cell","tabindex","0","role","columnheader",3,"cal-past","cal-today","cal-future","cal-weekend","ngClass","click",4,"ngFor","ngForOf","ngForTrackBy"],["tabindex","0","role","columnheader",1,"cal-cell",3,"click","ngClass"]],template:function(e,n){if(e&1&&I(0,zr,2,2,"ng-template",null,0,ae)(2,Wr,0,0,"ng-template",1),e&2){let r=Y(1);y(2),m("ngTemplateOutlet",n.customTemplate||r)("ngTemplateOutletContext",ut(2,Ir,n.days,n.locale,n.trackByWeekDayHeaderDate))}},dependencies:[_e,Ee,oe,bt],encapsulation:2}),t})(),qo=(()=>{class t{constructor(e,n,r,a){this.cdr=e,this.utils=n,this.dateAdapter=a,this.events=[],this.excludeDays=[],this.activeDayIsOpen=!1,this.tooltipPlacement="auto",this.tooltipAppendToBody=!0,this.tooltipDelay=null,this.beforeViewRender=new M,this.dayClicked=new M,this.eventClicked=new M,this.columnHeaderClicked=new M,this.eventTimesChanged=new M,this.trackByRowOffset=(o,s)=>this.view.days.slice(s,this.view.totalDaysVisibleInWeek).map(d=>d.date.toISOString()).join("-"),this.trackByDate=(o,s)=>s.date.toISOString(),this.locale=r}ngOnInit(){this.refresh&&(this.refreshSubscription=this.refresh.subscribe(()=>{this.refreshAll(),this.cdr.markForCheck()}))}ngOnChanges(e){let n=e.viewDate||e.excludeDays||e.weekendDays,r=e.viewDate||e.events||e.excludeDays||e.weekendDays;n&&this.refreshHeader(),e.events&&Di(this.events),r&&this.refreshBody(),(n||r)&&this.emitBeforeViewRender(),(e.activeDayIsOpen||e.viewDate||e.events||e.excludeDays||e.activeDay)&&this.checkActiveDayIsOpen()}ngOnDestroy(){this.refreshSubscription&&this.refreshSubscription.unsubscribe()}toggleDayHighlight(e,n){this.view.days.forEach(r=>{n&&r.events.indexOf(e)>-1?r.backgroundColor=e.color&&e.color.secondary||"#D1E8FF":delete r.backgroundColor})}eventDropped(e,n,r){if(e!==r){let a=this.dateAdapter.getYear(e.date),o=this.dateAdapter.getMonth(e.date),s=this.dateAdapter.getDate(e.date),d=this.dateAdapter.setDate(this.dateAdapter.setMonth(this.dateAdapter.setYear(n.start,a),o),s),l;if(n.end){let c=this.dateAdapter.differenceInSeconds(d,n.start);l=this.dateAdapter.addSeconds(n.end,c)}this.eventTimesChanged.emit({event:n,newStart:d,newEnd:l,day:e,type:Se.Drop})}}refreshHeader(){this.columnHeaders=this.utils.getWeekViewHeader({viewDate:this.viewDate,weekStartsOn:this.weekStartsOn,excluded:this.excludeDays,weekendDays:this.weekendDays})}refreshBody(){this.view=this.utils.getMonthView({events:this.events,viewDate:this.viewDate,weekStartsOn:this.weekStartsOn,excluded:this.excludeDays,weekendDays:this.weekendDays})}checkActiveDayIsOpen(){if(this.activeDayIsOpen===!0){let e=this.activeDay||this.viewDate;this.openDay=this.view.days.find(r=>this.dateAdapter.isSameDay(r.date,e));let n=this.view.days.indexOf(this.openDay);this.openRowIndex=Math.floor(n/this.view.totalDaysVisibleInWeek)*this.view.totalDaysVisibleInWeek}else this.openRowIndex=null,this.openDay=null}refreshAll(){this.refreshHeader(),this.refreshBody(),this.emitBeforeViewRender(),this.checkActiveDayIsOpen()}emitBeforeViewRender(){this.columnHeaders&&this.view&&this.beforeViewRender.emit({header:this.columnHeaders,body:this.view.days,period:this.view.period})}}return t.\u0275fac=function(e){return new(e||t)(_(Bt),_(xt),_(Xe),_(De))},t.\u0275cmp=J({type:t,selectors:[["mwl-calendar-month-view"]],inputs:{viewDate:"viewDate",events:"events",excludeDays:"excludeDays",activeDayIsOpen:"activeDayIsOpen",activeDay:"activeDay",refresh:"refresh",locale:"locale",tooltipPlacement:"tooltipPlacement",tooltipTemplate:"tooltipTemplate",tooltipAppendToBody:"tooltipAppendToBody",tooltipDelay:"tooltipDelay",weekStartsOn:"weekStartsOn",headerTemplate:"headerTemplate",cellTemplate:"cellTemplate",openDayEventsTemplate:"openDayEventsTemplate",eventTitleTemplate:"eventTitleTemplate",eventActionsTemplate:"eventActionsTemplate",weekendDays:"weekendDays"},outputs:{beforeViewRender:"beforeViewRender",dayClicked:"dayClicked",eventClicked:"eventClicked",columnHeaderClicked:"columnHeaderClicked",eventTimesChanged:"eventTimesChanged"},features:[Oe],decls:4,vars:5,consts:[["role","grid",1,"cal-month-view"],[3,"columnHeaderClicked","days","locale","customTemplate"],[1,"cal-days"],[4,"ngFor","ngForOf","ngForTrackBy"],["role","row",1,"cal-cell-row"],["role","gridcell","mwlDroppable","","dragOverClass","cal-drag-over",3,"ngClass","day","openDay","locale","tooltipPlacement","tooltipAppendToBody","tooltipTemplate","tooltipDelay","customTemplate","ngStyle","clickListenerDisabled","mwlClick","mwlKeydownEnter","highlightDay","unhighlightDay","drop","eventClicked",4,"ngFor","ngForOf","ngForTrackBy"],["mwlDroppable","","dragOverClass","cal-drag-over",3,"eventClicked","drop","locale","isOpen","events","date","customTemplate","eventTitleTemplate","eventActionsTemplate"],["role","gridcell","mwlDroppable","","dragOverClass","cal-drag-over",3,"mwlClick","mwlKeydownEnter","highlightDay","unhighlightDay","drop","eventClicked","ngClass","day","openDay","locale","tooltipPlacement","tooltipAppendToBody","tooltipTemplate","tooltipDelay","customTemplate","ngStyle","clickListenerDisabled"]],template:function(e,n){e&1&&(b(0,"div",0)(1,"mwl-calendar-month-view-header",1),L("columnHeaderClicked",function(a){return n.columnHeaderClicked.emit(a)}),O(),b(2,"div",2),I(3,Ar,5,13,"div",3),O()()),e&2&&(y(),m("days",n.columnHeaders)("locale",n.locale)("customTemplate",n.headerTemplate),y(2),m("ngForOf",n.view.rowOffsets)("ngForTrackBy",n.trackByRowOffset))},dependencies:[_e,Ee,Ue,vt,We,St,Aa,La,Pa,Ln,Fe],encapsulation:2}),t})(),hi=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=fe({type:t}),t.\u0275inj=ve({imports:[Ke,Qe,it,Qe]}),t})(),ln=class{constructor(i,e){this.dragContainerElement=i,this.startPosition=e.getBoundingClientRect()}validateDrag({x:i,y:e,snapDraggedEvents:n,dragAlreadyMoved:r,transform:a}){let o=hn({x:i,y:e})||r;if(n){let s=Object.assign({},this.startPosition,{left:this.startPosition.left+a.x,right:this.startPosition.right+a.x,top:this.startPosition.top+a.y,bottom:this.startPosition.bottom+a.y});if(o){let d=this.dragContainerElement.getBoundingClientRect(),l=d.top<s.top&&s.top<d.bottom,c=d.top<s.bottom&&s.bottom<d.bottom;return Ci(d,s)&&(l||c)}return!1}else return o}},dn=class{constructor(i,e,n){this.resizeContainerElement=i,this.minWidth=e,this.rtl=n}validateResize({rectangle:i,edges:e}){return this.rtl&&(typeof e.left<"u"?(i.left-=e.left,i.right+=e.left):typeof e.right<"u"&&(i.left+=e.right,i.right-=e.right),i.width=i.right-i.left),this.minWidth&&Math.ceil(i.width)<Math.ceil(this.minWidth)?!1:xa(this.resizeContainerElement.getBoundingClientRect(),i)}},Na=(()=>{class t{constructor(){this.dayHeaderClicked=new M,this.eventDropped=new M,this.dragEnter=new M,this.trackByWeekDayHeaderDate=mn}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275cmp=J({type:t,selectors:[["mwl-calendar-week-view-header"]],inputs:{days:"days",locale:"locale",customTemplate:"customTemplate"},outputs:{dayHeaderClicked:"dayHeaderClicked",eventDropped:"eventDropped",dragEnter:"dragEnter"},decls:3,vars:9,consts:[["defaultTemplate",""],[3,"ngTemplateOutlet","ngTemplateOutletContext"],["role","row",1,"cal-day-headers"],["class","cal-header","mwlDroppable","","dragOverClass","cal-drag-over","tabindex","0","role","columnheader",3,"cal-past","cal-today","cal-future","cal-weekend","ngClass","mwlClick","drop","dragEnter",4,"ngFor","ngForOf","ngForTrackBy"],["mwlDroppable","","dragOverClass","cal-drag-over","tabindex","0","role","columnheader",1,"cal-header",3,"mwlClick","drop","dragEnter","ngClass"]],template:function(e,n){if(e&1&&I(0,Pr,2,2,"ng-template",null,0,ae)(2,Nr,0,0,"ng-template",1),e&2){let r=Y(1);y(2),m("ngTemplateOutlet",n.customTemplate||r)("ngTemplateOutletContext",Fn(2,Br,n.days,n.locale,n.dayHeaderClicked,n.eventDropped,n.dragEnter,n.trackByWeekDayHeaderDate))}},dependencies:[_e,Ee,oe,vt,We,bt],encapsulation:2}),t})(),$a=(()=>{class t{constructor(){this.eventClicked=new M}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275cmp=J({type:t,selectors:[["mwl-calendar-week-view-event"]],inputs:{locale:"locale",weekEvent:"weekEvent",tooltipPlacement:"tooltipPlacement",tooltipAppendToBody:"tooltipAppendToBody",tooltipDisabled:"tooltipDisabled",tooltipDelay:"tooltipDelay",customTemplate:"customTemplate",eventTitleTemplate:"eventTitleTemplate",eventActionsTemplate:"eventActionsTemplate",tooltipTemplate:"tooltipTemplate",column:"column",daysInWeek:"daysInWeek"},outputs:{eventClicked:"eventClicked"},decls:3,vars:12,consts:[["defaultTemplate",""],[3,"ngTemplateOutlet","ngTemplateOutletContext"],["tabindex","0","role","application",1,"cal-event",3,"mwlClick","mwlKeydownEnter","ngStyle","mwlCalendarTooltip","tooltipPlacement","tooltipEvent","tooltipTemplate","tooltipAppendToBody","tooltipDelay"],[3,"event","customTemplate"],[3,"event","customTemplate","view"]],template:function(e,n){if(e&1&&I(0,Yr,6,27,"ng-template",null,0,ae)(2,Xr,0,0,"ng-template",1),e&2){let r=Y(1);y(2),m("ngTemplateOutlet",n.customTemplate||r)("ngTemplateOutletContext",Ft(2,$r,[n.weekEvent,n.tooltipPlacement,n.eventClicked,n.tooltipTemplate,n.tooltipAppendToBody,n.tooltipDisabled,n.tooltipDelay,n.column,n.daysInWeek]))}},dependencies:[oe,Ue,yi,wi,_i,We,St,pn,Fe],encapsulation:2}),t})(),ja=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275cmp=J({type:t,selectors:[["mwl-calendar-week-view-hour-segment"]],inputs:{segment:"segment",segmentHeight:"segmentHeight",locale:"locale",isTimeLabel:"isTimeLabel",daysInWeek:"daysInWeek",customTemplate:"customTemplate"},decls:3,vars:8,consts:[["defaultTemplate",""],[3,"ngTemplateOutlet","ngTemplateOutletContext"],[1,"cal-hour-segment",3,"ngClass"],["class","cal-time",4,"ngIf"],[1,"cal-time"]],template:function(e,n){if(e&1&&I(0,Kr,3,13,"ng-template",null,0,ae)(2,qr,0,0,"ng-template",1),e&2){let r=Y(1);y(2),m("ngTemplateOutlet",n.customTemplate||r)("ngTemplateOutletContext",Wt(2,Gr,n.segment,n.locale,n.segmentHeight,n.isTimeLabel,n.daysInWeek))}},dependencies:[_e,Ie,oe,bt,Fe],encapsulation:2}),t})(),Ya=(()=>{class t{constructor(e,n){this.dateAdapter=e,this.zone=n,this.columnDate$=new yn(void 0),this.marker$=this.zone.onStable.pipe(bn(()=>Tn(60*1e3)),ot(0),xn(this.columnDate$),j(r=>{let a=this.dateAdapter.setMinutes(this.dateAdapter.setHours(r,this.dayStartHour),this.dayStartMinute),o=this.dateAdapter.setMinutes(this.dateAdapter.setHours(r,this.dayEndHour),this.dayEndMinute),s=this.hourSegments*this.hourSegmentHeight/(this.hourDuration||60),d=new Date;return{isVisible:this.dateAdapter.isSameDay(r,d)&&d>=a&&d<=o,top:this.dateAdapter.differenceInMinutes(d,a)*s}}))}ngOnChanges(e){e.columnDate&&this.columnDate$.next(e.columnDate.currentValue)}}return t.\u0275fac=function(e){return new(e||t)(_(De),_(Ce))},t.\u0275cmp=J({type:t,selectors:[["mwl-calendar-week-view-current-time-marker"]],inputs:{columnDate:"columnDate",dayStartHour:"dayStartHour",dayStartMinute:"dayStartMinute",dayEndHour:"dayEndHour",dayEndMinute:"dayEndMinute",hourSegments:"hourSegments",hourDuration:"hourDuration",hourSegmentHeight:"hourSegmentHeight",customTemplate:"customTemplate"},features:[Oe],decls:5,vars:14,consts:[["defaultTemplate",""],[3,"ngTemplateOutlet","ngTemplateOutletContext"],["class","cal-current-time-marker",3,"top",4,"ngIf"],[1,"cal-current-time-marker"]],template:function(e,n){if(e&1&&(I(0,Jr,1,1,"ng-template",null,0,ae)(2,ea,0,0,"ng-template",1),P(3,"async"),P(4,"async")),e&2){let r,a=Y(1);y(2),m("ngTemplateOutlet",n.customTemplate||a)("ngTemplateOutletContext",An(6,Zr,n.columnDate,n.dayStartHour,n.dayStartMinute,n.dayEndHour,n.dayEndMinute,(r=At(3,2,n.marker$))==null?null:r.isVisible,(r=At(4,4,n.marker$))==null?null:r.top))}},dependencies:[Ie,oe,Bn],encapsulation:2}),t})(),Xa=(()=>{class t{constructor(e,n,r,a,o){this.cdr=e,this.utils=n,this.dateAdapter=a,this.element=o,this.events=[],this.excludeDays=[],this.tooltipPlacement="auto",this.tooltipAppendToBody=!0,this.tooltipDelay=null,this.precision="days",this.snapDraggedEvents=!0,this.hourSegments=2,this.hourSegmentHeight=30,this.minimumEventHeight=30,this.dayStartHour=0,this.dayStartMinute=0,this.dayEndHour=23,this.dayEndMinute=59,this.dayHeaderClicked=new M,this.eventClicked=new M,this.eventTimesChanged=new M,this.beforeViewRender=new M,this.hourSegmentClicked=new M,this.allDayEventResizes=new Map,this.timeEventResizes=new Map,this.eventDragEnterByType={allDay:0,time:0},this.dragActive=!1,this.dragAlreadyMoved=!1,this.calendarId=Symbol("angular calendar week view id"),this.rtl=!1,this.trackByWeekDayHeaderDate=mn,this.trackByHourSegment=Ma,this.trackByHour=Oa,this.trackByWeekAllDayEvent=Va,this.trackByWeekTimeEvent=Ha,this.trackByHourColumn=(s,d)=>d.hours[0]?d.hours[0].segments[0].date.toISOString():d,this.trackById=(s,d)=>d.id,this.locale=r}ngOnInit(){this.refresh&&(this.refreshSubscription=this.refresh.subscribe(()=>{this.refreshAll(),this.cdr.markForCheck()}))}ngOnChanges(e){let n=e.viewDate||e.excludeDays||e.weekendDays||e.daysInWeek||e.weekStartsOn,r=e.viewDate||e.dayStartHour||e.dayStartMinute||e.dayEndHour||e.dayEndMinute||e.hourSegments||e.hourDuration||e.weekStartsOn||e.weekendDays||e.excludeDays||e.hourSegmentHeight||e.events||e.daysInWeek||e.minimumEventHeight;n&&this.refreshHeader(),e.events&&Di(this.events),r&&this.refreshBody(),(n||r)&&this.emitBeforeViewRender()}ngOnDestroy(){this.refreshSubscription&&this.refreshSubscription.unsubscribe()}ngAfterViewInit(){this.rtl=typeof window<"u"&&getComputedStyle(this.element.nativeElement).direction==="rtl",this.cdr.detectChanges()}timeEventResizeStarted(e,n,r){this.timeEventResizes.set(n.event,r),this.resizeStarted(e,n)}timeEventResizing(e,n){this.timeEventResizes.set(e.event,n);let r=new Map,a=[...this.events];this.timeEventResizes.forEach((o,s)=>{let d=this.getTimeEventResizedDates(s,o),l=K(K({},s),d);r.set(l,s);let c=a.indexOf(s);a[c]=l}),this.restoreOriginalEvents(a,r,!0)}timeEventResizeEnded(e){this.view=this.getWeekView(this.events);let n=this.timeEventResizes.get(e.event);if(n){this.timeEventResizes.delete(e.event);let r=this.getTimeEventResizedDates(e.event,n);this.eventTimesChanged.emit({newStart:r.start,newEnd:r.end,event:e.event,type:Se.Resize})}}allDayEventResizeStarted(e,n,r){this.allDayEventResizes.set(n,{originalOffset:n.offset,originalSpan:n.span,edge:typeof r.edges.left<"u"?"left":"right"}),this.resizeStarted(e,n,this.getDayColumnWidth(e))}allDayEventResizing(e,n,r){let a=this.allDayEventResizes.get(e),o=this.rtl?-1:1;if(typeof n.edges.left<"u"){let s=Math.round(+n.edges.left/r)*o;e.offset=a.originalOffset+s,e.span=a.originalSpan-s}else if(typeof n.edges.right<"u"){let s=Math.round(+n.edges.right/r)*o;e.span=a.originalSpan+s}}allDayEventResizeEnded(e){let n=this.allDayEventResizes.get(e);if(n){let r=n.edge==="left",a;r?a=e.offset-n.originalOffset:a=e.span-n.originalSpan,e.offset=n.originalOffset,e.span=n.originalSpan;let o=this.getAllDayEventResizedDates(e.event,a,r);this.eventTimesChanged.emit({newStart:o.start,newEnd:o.end,event:e.event,type:Se.Resize}),this.allDayEventResizes.delete(e)}}getDayColumnWidth(e){return Math.floor(e.offsetWidth/this.days.length)}dateDragEnter(e){this.lastDragEnterDate=e}eventDropped(e,n,r){Wa(e,n,r,this.calendarId)&&this.lastDragEnterDate.getTime()===n.getTime()&&(!this.snapDraggedEvents||e.dropData.event!==this.lastDraggedEvent)&&this.eventTimesChanged.emit({type:Se.Drop,event:e.dropData.event,newStart:n,allDay:r}),this.lastDraggedEvent=null}dragEnter(e){this.eventDragEnterByType[e]++}dragLeave(e){this.eventDragEnterByType[e]--}dragStarted(e,n,r,a){this.dayColumnWidth=this.getDayColumnWidth(e);let o=new ln(e,n);this.validateDrag=({x:s,y:d,transform:l})=>{let c=this.allDayEventResizes.size===0&&this.timeEventResizes.size===0&&o.validateDrag({x:s,y:d,snapDraggedEvents:this.snapDraggedEvents,dragAlreadyMoved:this.dragAlreadyMoved,transform:l});if(c&&this.validateEventTimesChanged){let p=this.getDragMovedEventTimes(r,{x:s,y:d},this.dayColumnWidth,a);return this.validateEventTimesChanged({type:Se.Drag,event:r.event,newStart:p.start,newEnd:p.end})}return c},this.dragActive=!0,this.dragAlreadyMoved=!1,this.lastDraggedEvent=null,this.eventDragEnterByType={allDay:0,time:0},!this.snapDraggedEvents&&a&&this.view.hourColumns.forEach(s=>{let d=s.events.find(l=>l.event===r.event&&l!==r);d&&(d.width=0,d.height=0)}),this.cdr.markForCheck()}dragMove(e,n){let r=this.getDragMovedEventTimes(e,n,this.dayColumnWidth,!0),a=e.event,o=K(K({},a),r),s=this.events.map(d=>d===a?o:d);this.restoreOriginalEvents(s,new Map([[o,a]]),this.snapDraggedEvents),this.dragAlreadyMoved=!0}allDayEventDragMove(){this.dragAlreadyMoved=!0}dragEnded(e,n,r,a=!1){this.view=this.getWeekView(this.events),this.dragActive=!1,this.validateDrag=null;let{start:o,end:s}=this.getDragMovedEventTimes(e,n,r,a);(this.snapDraggedEvents||this.eventDragEnterByType[a?"time":"allDay"]>0)&&za(o,s,this.view.period)&&(this.lastDraggedEvent=e.event,this.eventTimesChanged.emit({newStart:o,newEnd:s,event:e.event,type:Se.Drag,allDay:!a}))}refreshHeader(){this.days=this.utils.getWeekViewHeader(K({viewDate:this.viewDate,weekStartsOn:this.weekStartsOn,excluded:this.excludeDays,weekendDays:this.weekendDays},sn(this.dateAdapter,this.viewDate,this.weekStartsOn,this.excludeDays,this.daysInWeek)))}refreshBody(){this.view=this.getWeekView(this.events)}refreshAll(){this.refreshHeader(),this.refreshBody(),this.emitBeforeViewRender()}emitBeforeViewRender(){this.days&&this.view&&this.beforeViewRender.emit(K({header:this.days},this.view))}getWeekView(e){return this.utils.getWeekView(K({events:e,viewDate:this.viewDate,weekStartsOn:this.weekStartsOn,excluded:this.excludeDays,precision:this.precision,absolutePositionedEvents:!0,hourSegments:this.hourSegments,hourDuration:this.hourDuration,dayStart:{hour:this.dayStartHour,minute:this.dayStartMinute},dayEnd:{hour:this.dayEndHour,minute:this.dayEndMinute},segmentHeight:this.hourSegmentHeight,weekendDays:this.weekendDays,minimumEventHeight:this.minimumEventHeight},sn(this.dateAdapter,this.viewDate,this.weekStartsOn,this.excludeDays,this.daysInWeek)))}getDragMovedEventTimes(e,n,r,a){let o=Ti(n.x,r)/r*(this.rtl?-1:1),s=a?on(n.y,this.hourSegments,this.hourSegmentHeight,this.eventSnapSize,this.hourDuration):0,d=this.dateAdapter.addMinutes(he(this.dateAdapter,e.event.start,o,this.excludeDays),s),l;return e.event.end&&(l=this.dateAdapter.addMinutes(he(this.dateAdapter,e.event.end,o,this.excludeDays),s)),{start:d,end:l}}restoreOriginalEvents(e,n,r=!0){let a=this.view;r&&(this.view=this.getWeekView(e));let o=e.filter(s=>n.has(s));this.view.hourColumns.forEach((s,d)=>{a.hourColumns[d].hours.forEach((l,c)=>{l.segments.forEach((p,w)=>{s.hours[c].segments[w].cssClass=p.cssClass})}),o.forEach(l=>{let c=n.get(l),p=s.events.find(w=>w.event===(r?l:c));if(p)p.event=c,p.tempEvent=l,r||(p.height=0,p.width=0);else{let w={event:c,left:0,top:0,height:0,width:0,startsBeforeDay:!1,endsAfterDay:!1,tempEvent:l};s.events.push(w)}})}),n.clear()}getTimeEventResizedDates(e,n){let r={start:e.start,end:mi(this.dateAdapter,e,this.minimumEventHeight)},l=e,{end:a}=l,o=gn(l,["end"]),s={start:this.dateAdapter.addMinutes(r.end,this.minimumEventHeight*-1),end:mi(this.dateAdapter,o,this.minimumEventHeight)},d=this.rtl?-1:1;if(typeof n.edges.left<"u"){let c=Math.round(+n.edges.left/this.dayColumnWidth)*d,p=he(this.dateAdapter,r.start,c,this.excludeDays);p<s.start?r.start=p:r.start=s.start}else if(typeof n.edges.right<"u"){let c=Math.round(+n.edges.right/this.dayColumnWidth)*d,p=he(this.dateAdapter,r.end,c,this.excludeDays);p>s.end?r.end=p:r.end=s.end}if(typeof n.edges.top<"u"){let c=on(n.edges.top,this.hourSegments,this.hourSegmentHeight,this.eventSnapSize,this.hourDuration),p=this.dateAdapter.addMinutes(r.start,c);p<s.start?r.start=p:r.start=s.start}else if(typeof n.edges.bottom<"u"){let c=on(n.edges.bottom,this.hourSegments,this.hourSegmentHeight,this.eventSnapSize,this.hourDuration),p=this.dateAdapter.addMinutes(r.end,c);p>s.end?r.end=p:r.end=s.end}return r}resizeStarted(e,n,r){this.dayColumnWidth=this.getDayColumnWidth(e);let a=new dn(e,r,this.rtl);this.validateResize=({rectangle:o,edges:s})=>{let d=a.validateResize({rectangle:K({},o),edges:s});if(d&&this.validateEventTimesChanged){let l;if(!r)l=this.getTimeEventResizedDates(n.event,{rectangle:o,edges:s});else{let c=this.rtl?-1:1;if(typeof s.left<"u"){let p=Math.round(+s.left/r)*c;l=this.getAllDayEventResizedDates(n.event,p,!this.rtl)}else{let p=Math.round(+s.right/r)*c;l=this.getAllDayEventResizedDates(n.event,p,this.rtl)}}return this.validateEventTimesChanged({type:Se.Resize,event:n.event,newStart:l.start,newEnd:l.end})}return d},this.cdr.markForCheck()}getAllDayEventResizedDates(e,n,r){let a=e.start,o=e.end||e.start;return r?a=he(this.dateAdapter,a,n,this.excludeDays):o=he(this.dateAdapter,o,n,this.excludeDays),{start:a,end:o}}}return t.\u0275fac=function(e){return new(e||t)(_(Bt),_(xt),_(Xe),_(De),_(ie))},t.\u0275cmp=J({type:t,selectors:[["mwl-calendar-week-view"]],inputs:{viewDate:"viewDate",events:"events",excludeDays:"excludeDays",refresh:"refresh",locale:"locale",tooltipPlacement:"tooltipPlacement",tooltipTemplate:"tooltipTemplate",tooltipAppendToBody:"tooltipAppendToBody",tooltipDelay:"tooltipDelay",weekStartsOn:"weekStartsOn",headerTemplate:"headerTemplate",eventTemplate:"eventTemplate",eventTitleTemplate:"eventTitleTemplate",eventActionsTemplate:"eventActionsTemplate",precision:"precision",weekendDays:"weekendDays",snapDraggedEvents:"snapDraggedEvents",hourSegments:"hourSegments",hourDuration:"hourDuration",hourSegmentHeight:"hourSegmentHeight",minimumEventHeight:"minimumEventHeight",dayStartHour:"dayStartHour",dayStartMinute:"dayStartMinute",dayEndHour:"dayEndHour",dayEndMinute:"dayEndMinute",hourSegmentTemplate:"hourSegmentTemplate",eventSnapSize:"eventSnapSize",allDayEventsLabelTemplate:"allDayEventsLabelTemplate",daysInWeek:"daysInWeek",currentTimeMarkerTemplate:"currentTimeMarkerTemplate",validateEventTimesChanged:"validateEventTimesChanged",resizeCursors:"resizeCursors"},outputs:{dayHeaderClicked:"dayHeaderClicked",eventClicked:"eventClicked",eventTimesChanged:"eventTimesChanged",beforeViewRender:"beforeViewRender",hourSegmentClicked:"hourSegmentClicked"},features:[Oe],decls:8,vars:9,consts:[["dayColumns",""],["allDayEventsContainer",""],["eventRowContainer",""],["event",""],["weekEventTemplate",""],["role","grid",1,"cal-week-view"],[3,"dayHeaderClicked","eventDropped","dragEnter","days","locale","customTemplate"],["class","cal-all-day-events","mwlDroppable","",3,"dragEnter","dragLeave",4,"ngIf"],["mwlDroppable","",1,"cal-time-events",3,"dragEnter","dragLeave"],["class","cal-time-label-column",4,"ngIf"],[1,"cal-day-columns"],["class","cal-day-column",4,"ngFor","ngForOf","ngForTrackBy"],["mwlDroppable","",1,"cal-all-day-events",3,"dragEnter","dragLeave"],[1,"cal-time-label-column"],[4,"ngTemplateOutlet"],["class","cal-day-column","mwlDroppable","","dragOverClass","cal-drag-over",3,"drop","dragEnter",4,"ngFor","ngForOf","ngForTrackBy"],["class","cal-events-row",4,"ngFor","ngForOf","ngForTrackBy"],["mwlDroppable","","dragOverClass","cal-drag-over",1,"cal-day-column",3,"drop","dragEnter"],[1,"cal-events-row"],["class","cal-event-container","mwlResizable","","mwlDraggable","","dragActiveClass","cal-drag-active",3,"cal-draggable","cal-starts-within-week","cal-ends-within-week","ngClass","width","marginLeft","marginRight","resizeCursors","resizeSnapGrid","validateResize","dropData","dragAxis","dragSnapGrid","validateDrag","touchStartLongPress","resizeStart","resizing","resizeEnd","dragStart","dragging","dragEnd",4,"ngFor","ngForOf","ngForTrackBy"],["mwlResizable","","mwlDraggable","","dragActiveClass","cal-drag-active",1,"cal-event-container",3,"resizeStart","resizing","resizeEnd","dragStart","dragging","dragEnd","ngClass","resizeCursors","resizeSnapGrid","validateResize","dropData","dragAxis","dragSnapGrid","validateDrag","touchStartLongPress"],["class","cal-resize-handle cal-resize-handle-before-start","mwlResizeHandle","",3,"resizeEdges",4,"ngIf"],[3,"eventClicked","locale","weekEvent","tooltipPlacement","tooltipTemplate","tooltipAppendToBody","tooltipDelay","customTemplate","eventTitleTemplate","eventActionsTemplate","daysInWeek"],["class","cal-resize-handle cal-resize-handle-after-end","mwlResizeHandle","",3,"resizeEdges",4,"ngIf"],["mwlResizeHandle","",1,"cal-resize-handle","cal-resize-handle-before-start",3,"resizeEdges"],["mwlResizeHandle","",1,"cal-resize-handle","cal-resize-handle-after-end",3,"resizeEdges"],["class","cal-hour",3,"cal-hour-odd",4,"ngFor","ngForOf","ngForTrackBy"],[1,"cal-hour"],[3,"height","segment","segmentHeight","locale","customTemplate","isTimeLabel","daysInWeek",4,"ngFor","ngForOf","ngForTrackBy"],[3,"segment","segmentHeight","locale","customTemplate","isTimeLabel","daysInWeek"],[1,"cal-day-column"],[3,"columnDate","dayStartHour","dayStartMinute","dayEndHour","dayEndMinute","hourSegments","hourDuration","hourSegmentHeight","customTemplate"],[1,"cal-events-container"],["class","cal-event-container","mwlResizable","","mwlDraggable","","dragActiveClass","cal-drag-active",3,"cal-draggable","cal-starts-within-day","cal-ends-within-day","ngClass","hidden","top","height","left","width","resizeCursors","resizeSnapGrid","validateResize","allowNegativeResizes","dropData","dragAxis","dragSnapGrid","touchStartLongPress","ghostDragEnabled","ghostElementTemplate","validateDrag","resizeStart","resizing","resizeEnd","dragStart","dragging","dragEnd",4,"ngFor","ngForOf","ngForTrackBy"],["mwlResizable","","mwlDraggable","","dragActiveClass","cal-drag-active",1,"cal-event-container",3,"resizeStart","resizing","resizeEnd","dragStart","dragging","dragEnd","ngClass","hidden","resizeCursors","resizeSnapGrid","validateResize","allowNegativeResizes","dropData","dragAxis","dragSnapGrid","touchStartLongPress","ghostDragEnabled","ghostElementTemplate","validateDrag"],[3,"ngTemplateOutlet"],[3,"eventClicked","locale","weekEvent","tooltipPlacement","tooltipTemplate","tooltipAppendToBody","tooltipDisabled","tooltipDelay","customTemplate","eventTitleTemplate","eventActionsTemplate","column","daysInWeek"],["mwlDroppable","","dragActiveClass","cal-drag-active",3,"height","segment","segmentHeight","locale","customTemplate","daysInWeek","clickListenerDisabled","dragOverClass","isTimeLabel","mwlClick","drop","dragEnter",4,"ngFor","ngForOf","ngForTrackBy"],["mwlDroppable","","dragActiveClass","cal-drag-active",3,"mwlClick","drop","dragEnter","segment","segmentHeight","locale","customTemplate","daysInWeek","clickListenerDisabled","dragOverClass","isTimeLabel"]],template:function(e,n){if(e&1){let r=Z();b(0,"div",5)(1,"mwl-calendar-week-view-header",6),L("dayHeaderClicked",function(o){return E(r),k(n.dayHeaderClicked.emit(o))})("eventDropped",function(o){return E(r),k(n.eventDropped({dropData:o},o.newStart,!0))})("dragEnter",function(o){return E(r),k(n.dateDragEnter(o.date))}),O(),I(2,ha,7,5,"div",7),b(3,"div",8),L("dragEnter",function(){return E(r),k(n.dragEnter("time"))})("dragLeave",function(){return E(r),k(n.dragLeave("time"))}),I(4,ga,2,2,"div",9),b(5,"div",10,0),I(7,ka,5,13,"div",11),O()()()}e&2&&(y(),m("days",n.days)("locale",n.locale)("customTemplate",n.headerTemplate),y(),m("ngIf",n.view.allDayEventRows.length>0),y(2),m("ngIf",n.view.hourColumns.length>0&&n.daysInWeek!==1),y(),re("cal-resize-active",n.timeEventResizes.size>0),y(2),m("ngForOf",n.view.hourColumns)("ngForTrackBy",n.trackByHourColumn))},dependencies:[_e,Ee,Ie,oe,rn,ui,ht,vt,We,Na,$a,ja,Ya],encapsulation:2}),t})(),cn=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=fe({type:t}),t.\u0275inj=ve({imports:[Ke,an,Qe,it,an,Qe]}),t})(),Zo=(()=>{class t{constructor(){this.events=[],this.hourSegments=2,this.hourSegmentHeight=30,this.minimumEventHeight=30,this.dayStartHour=0,this.dayStartMinute=0,this.dayEndHour=23,this.dayEndMinute=59,this.tooltipPlacement="auto",this.tooltipAppendToBody=!0,this.tooltipDelay=null,this.snapDraggedEvents=!0,this.eventClicked=new M,this.hourSegmentClicked=new M,this.eventTimesChanged=new M,this.beforeViewRender=new M}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275cmp=J({type:t,selectors:[["mwl-calendar-day-view"]],inputs:{viewDate:"viewDate",events:"events",hourSegments:"hourSegments",hourSegmentHeight:"hourSegmentHeight",hourDuration:"hourDuration",minimumEventHeight:"minimumEventHeight",dayStartHour:"dayStartHour",dayStartMinute:"dayStartMinute",dayEndHour:"dayEndHour",dayEndMinute:"dayEndMinute",refresh:"refresh",locale:"locale",eventSnapSize:"eventSnapSize",tooltipPlacement:"tooltipPlacement",tooltipTemplate:"tooltipTemplate",tooltipAppendToBody:"tooltipAppendToBody",tooltipDelay:"tooltipDelay",hourSegmentTemplate:"hourSegmentTemplate",eventTemplate:"eventTemplate",eventTitleTemplate:"eventTitleTemplate",eventActionsTemplate:"eventActionsTemplate",snapDraggedEvents:"snapDraggedEvents",allDayEventsLabelTemplate:"allDayEventsLabelTemplate",currentTimeMarkerTemplate:"currentTimeMarkerTemplate",validateEventTimesChanged:"validateEventTimesChanged",resizeCursors:"resizeCursors"},outputs:{eventClicked:"eventClicked",hourSegmentClicked:"hourSegmentClicked",eventTimesChanged:"eventTimesChanged",beforeViewRender:"beforeViewRender"},decls:1,vars:27,consts:[[1,"cal-day-view",3,"eventClicked","hourSegmentClicked","eventTimesChanged","beforeViewRender","daysInWeek","viewDate","events","hourSegments","hourDuration","hourSegmentHeight","minimumEventHeight","dayStartHour","dayStartMinute","dayEndHour","dayEndMinute","refresh","locale","eventSnapSize","tooltipPlacement","tooltipTemplate","tooltipAppendToBody","tooltipDelay","resizeCursors","hourSegmentTemplate","eventTemplate","eventTitleTemplate","eventActionsTemplate","snapDraggedEvents","allDayEventsLabelTemplate","currentTimeMarkerTemplate","validateEventTimesChanged"]],template:function(e,n){e&1&&(b(0,"mwl-calendar-week-view",0),L("eventClicked",function(a){return n.eventClicked.emit(a)})("hourSegmentClicked",function(a){return n.hourSegmentClicked.emit(a)})("eventTimesChanged",function(a){return n.eventTimesChanged.emit(a)})("beforeViewRender",function(a){return n.beforeViewRender.emit(a)}),O()),e&2&&m("daysInWeek",1)("viewDate",n.viewDate)("events",n.events)("hourSegments",n.hourSegments)("hourDuration",n.hourDuration)("hourSegmentHeight",n.hourSegmentHeight)("minimumEventHeight",n.minimumEventHeight)("dayStartHour",n.dayStartHour)("dayStartMinute",n.dayStartMinute)("dayEndHour",n.dayEndHour)("dayEndMinute",n.dayEndMinute)("refresh",n.refresh)("locale",n.locale)("eventSnapSize",n.eventSnapSize)("tooltipPlacement",n.tooltipPlacement)("tooltipTemplate",n.tooltipTemplate)("tooltipAppendToBody",n.tooltipAppendToBody)("tooltipDelay",n.tooltipDelay)("resizeCursors",n.resizeCursors)("hourSegmentTemplate",n.hourSegmentTemplate)("eventTemplate",n.eventTemplate)("eventTitleTemplate",n.eventTitleTemplate)("eventActionsTemplate",n.eventActionsTemplate)("snapDraggedEvents",n.snapDraggedEvents)("allDayEventsLabelTemplate",n.allDayEventsLabelTemplate)("currentTimeMarkerTemplate",n.currentTimeMarkerTemplate)("validateEventTimesChanged",n.validateEventTimesChanged)},dependencies:[Xa],encapsulation:2}),t})(),vi=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=fe({type:t}),t.\u0275inj=ve({imports:[Ke,it,cn]}),t})(),Qo=(()=>{class t{static forRoot(e,n={}){return{ngModule:t,providers:[e,n.eventTitleFormatter||tt,n.dateFormatter||Et,n.utils||xt,n.a11y||Tt]}}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=fe({type:t}),t.\u0275inj=ve({imports:[it,hi,cn,vi,it,hi,cn,vi]}),t})();function ne(t){let i=Object.prototype.toString.call(t);return t instanceof Date||typeof t=="object"&&i==="[object Date]"?new t.constructor(+t):typeof t=="number"||i==="[object Number]"||typeof t=="string"||i==="[object String]"?new Date(t):new Date(NaN)}function Mt(t,i){return t instanceof Date?new t.constructor(i):new Date(i)}function ki(t,i){let e=ne(t);return isNaN(i)?Mt(t,NaN):(i&&e.setDate(e.getDate()+i),e)}function Si(t,i){let e=+ne(t);return Mt(t,e+i)}var Ga=Math.pow(10,8)*24*60*60*1e3,cs=-Ga,us=6048e5,ps=864e5,ms=6e4,bi=36e5;var Ua=3600;var xi=Ua*24,hs=xi*7,Ka=xi*365.2425,qa=Ka/12,vs=qa*3;function ws(t,i){return Si(t,i*bi)}function vn(t){let i=ne(t);return i.setHours(0,0,0,0),i}function Es(t,i){let e=vn(t),n=vn(i);return+e==+n}function bs(t){let i=ne(t);return i.setHours(23,59,59,999),i}function Os(t){let i=ne(t),e=i.getMonth();return i.setFullYear(i.getFullYear(),e+1,0),i.setHours(23,59,59,999),i}function Is(t,i){let e=ne(t),n=ne(i);return e.getFullYear()===n.getFullYear()&&e.getMonth()===n.getMonth()}function Ws(t,i){return ki(t,-i)}export{ht as a,vt as b,nt as c,De as d,Xo as e,Go as f,Uo as g,bt as h,qo as i,Xa as j,Zo as k,Qo as l,ne as m,Mt as n,ki as o,Si as p,us as q,ps as r,ms as s,ws as t,vn as u,Es as v,bs as w,Os as x,Is as y,Ws as z};
