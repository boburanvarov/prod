import{a as si,d as li,g as ci}from"./chunk-3XCN5NF5.js";import{a as ai}from"./chunk-3OAAJDJM.js";import{d as oi,e as N}from"./chunk-RV4KLR2J.js";import{f as ke}from"./chunk-Z3C6DEUP.js";import{l as je,m as Q,n as J,o as ii,p as ti,r as ni,s as Se,x as ri,z as Ce}from"./chunk-2FEP6AZJ.js";import{$a as fe,$b as p,Ba as G,Bb as oe,C as ve,Ca as Fe,Cb as De,Da as R,Fc as qe,G as be,Gb as W,Ic as se,Jc as A,La as Z,Ma as w,Mb as b,Na as M,Nb as v,Ob as l,Pb as pe,Qb as Ve,Sa as me,Tb as S,Ub as We,Uc as le,Va as re,Wa as I,_b as f,ac as _,bc as x,cc as P,cd as ei,dc as Ne,ec as z,f as k,fa as _e,ha as Le,id as ce,lb as He,mb as xe,nb as V,nc as h,pc as u,qa as te,qc as Qe,ra as Re,rb as Pe,rc as Je,sb as Oe,sc as Y,ta as Ye,u as Ie,ub as c,uc as Xe,va as ne,vb as C,vc as $e,wc as Ke,xc as ae}from"./chunk-GCPY7ULT.js";var K=(r,o)=>({width:r,height:o});function bi(r,o){if(r&1){let n=z();f(0,"img",8),h("click",function(i){w(n);let t=u().$implicit,a=u(2);return M(a.onImageEvent(t,i,a.clickAction))})("keyup",function(i){w(n);let t=u().$implicit,a=u(2);return M(a.onImageEvent(t,i,a.keyboardAction))}),p()}if(r&2){let n=u().$implicit,e=u(2);We("inside preview-image",e.isActive(n)?" active":"","",e.previewConfig!=null&&e.previewConfig.clickable?"":" unclickable",""),Y("alt",e.getAlt(n)),l("loading",n.loading)("src",n.plain!=null&&n.plain.img?n.plain==null?null:n.plain.img:n.modal.img,V)("fallbackImg",n.plain!=null&&n.plain.fallbackImg?n.plain==null?null:n.plain.fallbackImg:n.modal.fallbackImg)("sizeConfig",A(13,K,e.previewConfig==null?null:e.previewConfig.width,e.previewMaxHeight))("title",e.getTitle(n))("tabIndex",0),v("fetchpriority",n.fetchpriority)("aria-label",e.getAriaLabel(n))}}function _i(r,o){if(r&1&&(x(0),b(1,bi,1,16,"img",7),P()),r&2){let n=o.$implicit;c(),l("ngIf",n==null||n.modal==null?null:n.modal.img)}}function Li(r,o){if(r&1){let n=z();f(0,"nav",1)(1,"a",2),h("click",function(i){w(n);let t=u();return M(t.onNavigationEvent("left",i))})("keyup",function(i){w(n);let t=u();return M(t.onNavigationEvent("left",i))}),_(2,"div",3),p(),f(3,"div",4),b(4,_i,2,1,"ng-container",5),p(),f(5,"a",6),h("click",function(i){w(n);let t=u();return M(t.onNavigationEvent("right",i))})("keyup",function(i){w(n);let t=u();return M(t.onNavigationEvent("right",i))}),_(6,"div",3),p()()}if(r&2){let n=u();l("title",n.accessibilityConfig==null?null:n.accessibilityConfig.carouselPreviewsContainerTitle),v("aria-label",n.accessibilityConfig==null?null:n.accessibilityConfig.carouselPreviewsContainerAriaLabel),c(),l("tabIndex",n.previewConfig!=null&&n.previewConfig.arrows&&n.start>0?0:-1),v("aria-label",n.accessibilityConfig==null?null:n.accessibilityConfig.carouselPreviewScrollPrevAriaLabel),c(),S("inside ",n.previewConfig!=null&&n.previewConfig.arrows&&n.start>0?"left-arrow-preview-image":"empty-arrow-preview-image",""),l("title",n.accessibilityConfig==null?null:n.accessibilityConfig.carouselPreviewScrollPrevTitle),c(2),l("ngForOf",n.previews)("ngForTrackBy",n.trackById),c(),l("tabIndex",n.previewConfig!=null&&n.previewConfig.arrows&&n.end<n.images.length?0:-1),v("aria-label",n.accessibilityConfig==null?null:n.accessibilityConfig.carouselPreviewScrollNextAriaLabel),c(),S("inside ",n.previewConfig!=null&&n.previewConfig.arrows&&n.end<n.images.length?"right-arrow-preview-image":"empty-arrow-preview-image",""),l("title",n.accessibilityConfig==null?null:n.accessibilityConfig.carouselPreviewScrollNextTitle)}}var xi=r=>({active:r});function Pi(r,o){if(r&1){let n=z();f(0,"div",3),h("click",function(i){let t=w(n).index,a=u(2);return M(a.onDotEvent(t,i))})("keyup",function(i){let t=w(n).index,a=u(2);return M(a.onDotEvent(t,i))}),p()}if(r&2){let n=o.index,e=u(2);l("ngClass",se(3,xi,e.isActive(n)))("tabIndex",0),v("aria-label",(e.accessibilityConfig==null?null:e.accessibilityConfig.dotAriaLabel)+" "+(n+1))}}function Oi(r,o){if(r&1&&(x(0),b(1,Pi,1,5,"div",2),P()),r&2){let n=u();c(),l("ngForOf",n.images)("ngForTrackBy",n.trackById)}}var Di=["*"],Ni=r=>({maxWidth:r,maxHeight:""}),ji=r=>({width:r,height:""}),gi=(r,o)=>({maxWidth:r,maxHeight:o});function Si(r,o){r&1&&Je(0)}function ki(r,o){if(r&1){let n=z();f(0,"a",14),h("click",function(i){w(n);let t=u(2);return M(t.onNavigationEvent("left",i,t.clickAction))})("keyup",function(i){w(n);let t=u(2);return M(t.onNavigationEvent("left",i,t.keyboardAction))}),_(1,"div",15),p()}if(r&2){let n=u(2);l("tabIndex",n.isLastImage&&!n.carouselSlideInfinite?-1:0),v("aria-label",n.accessibilityConfig==null?null:n.accessibilityConfig.carouselPrevImageAriaLabel),c(),S("inside ",n.isFirstImage&&!n.carouselSlideInfinite||!n.carouselConfig.showArrows?"empty-arrow-image":"left-arrow-image",""),l("title",n.accessibilityConfig==null?null:n.accessibilityConfig.carouselPrevImageTitle)}}function zi(r,o){r&1&&Ne(0)}function Ti(r,o){if(r&1&&(x(0),_(1,"source",16),P()),r&2){let n=o.$implicit;c(),l("media",n.media)("srcset",n.srcset)}}function Ei(r,o){if(r&1&&_(0,"figcaption",17),r&2){let n=u(2);l("description",n.carouselImageConfig==null?null:n.carouselImageConfig.description)("innerHTML",n.getDescriptionToDisplay(),xe)}}function Ai(r,o){if(r&1){let n=z();f(0,"a",18),h("click",function(i){w(n);let t=u(2);return M(t.onNavigationEvent("right",i,t.clickAction))})("keyup",function(i){w(n);let t=u(2);return M(t.onNavigationEvent("right",i,t.keyboardAction))}),_(1,"div",15),p()}if(r&2){let n=u(2);l("tabIndex",n.isLastImage&&!n.carouselSlideInfinite?-1:0),v("aria-label",n.accessibilityConfig==null?null:n.accessibilityConfig.carouselNextImageAriaLabel),c(),S("inside ",n.isLastImage&&!n.carouselSlideInfinite||!n.carouselConfig.showArrows?"empty-arrow-image":"right-arrow-image",""),l("title",n.accessibilityConfig==null?null:n.accessibilityConfig.carouselNextImageTitle)}}function Gi(r,o){if(r&1){let n=z();f(0,"figure",4),b(1,ki,2,6,"a",5)(2,zi,1,0,"ng-container",6),f(3,"picture",7),b(4,Ti,2,2,"ng-container",8),f(5,"img",9),h("click",function(){w(n);let i=u();return M(i.onClickCurrentImage())})("swipeleft",function(i){w(n);let t=u();return M(t.swipe(i.type))})("swiperight",function(i){w(n);let t=u();return M(t.swipe(i.type))}),p()(),b(6,Ei,1,2,"figcaption",10)(7,Ai,2,6,"a",11),f(8,"div",12)(9,"ks-dots",13),h("clickDot",function(i){w(n);let t=u();return M(t.onClickDot(i))}),p()()()}if(r&2){let n=u(),e=ae(2);l("sizeConfig",se(23,ji,n.carouselConfig==null?null:n.carouselConfig.maxWidth)),c(),l("ngIf",n.carouselConfig==null?null:n.carouselConfig.showArrows),c(),l("ngTemplateOutlet",e),c(),l("maxSizeConfig",A(25,gi,n.carouselConfig==null?null:n.carouselConfig.maxWidth,n.carouselConfig==null?null:n.carouselConfig.maxHeight)),c(),l("ngForOf",n.currentImage.modal==null?null:n.currentImage.modal.sources),c(),pe("object-fit",n.carouselConfig==null?null:n.carouselConfig.objectFit),Y("alt",n.currentImage.modal.alt?n.currentImage.modal.alt:n.getAltDescriptionByImage()),l("id",n.currentImage.id)("loading",n.currentImage.loading)("maxSizeConfig",A(28,gi,n.carouselConfig==null?null:n.carouselConfig.maxWidth,n.carouselConfig==null?null:n.carouselConfig.maxHeight))("src",n.currentImage.modal.img,V)("fallbackImg",n.currentImage.modal.fallbackImg)("title",n.currentImage.modal.title||n.currentImage.modal.title===""?n.currentImage.modal.title:n.getTitleToDisplay())("tabIndex",0),v("fetchpriority",n.currentImage.fetchpriority)("aria-label",n.currentImage.modal.ariaLabel),c(),l("ngIf",n.getDescriptionToDisplay()!==""),c(),l("ngIf",n.carouselConfig==null?null:n.carouselConfig.showArrows),c(2),l("id",n.id)("currentImage",n.currentImage)("images",n.images)("dotsConfig",n.carouselDotsConfig)}}var Zi=r=>({"font-size":r});function Bi(r,o){if(r&1){let n=z();f(0,"a",3),h("click",function(i){let t=w(n).$implicit,a=u(2);return M(a.onEvent(t,i))})("keyup",function(i){let t=w(n).$implicit,a=u(2);return M(a.onEvent(t,i))}),_(1,"div",4),p()}if(r&2){let n=o.$implicit;l("sizeConfig",A(8,K,n.size==null?null:n.size.width,n.size==null?null:n.size.height))("ngStyle",se(11,Zi,n.fontSize))("tabIndex",0),v("aria-label",n.ariaLabel),c(),S("inside ",n.className,""),Y("title",n.title)}}function Ui(r,o){if(r&1&&(x(0),b(1,Bi,2,13,"a",2),P()),r&2){let n=u();c(),l("ngForOf",n.buttons)("ngForTrackBy",n.trackById)}}var Ri=(r,o)=>({preview:r,defaultTemplate:o});function Yi(r,o){r&1&&Ne(0)}function Fi(r,o){if(r&1&&_(0,"img",10),r&2){let n=u(2).$implicit,e=u(2);S("inside preview-image ",e.isActive(n)?"active":"",""),Y("alt",n.modal.alt?n.modal.alt:""),l("loading",n.loading)("src",n.plain!=null&&n.plain.img?n.plain==null?null:n.plain.img:n.modal.img,V)("fallbackImg",n.plain!=null&&n.plain.fallbackImg?n.plain==null?null:n.plain.fallbackImg:n.modal.fallbackImg)("sizeConfig",A(12,K,e.previewConfig!=null&&e.previewConfig.size?e.previewConfig==null||e.previewConfig.size==null?null:e.previewConfig.size.width:e.defaultPreviewSize.width,e.previewConfig!=null&&e.previewConfig.size?e.previewConfig==null||e.previewConfig.size==null?null:e.previewConfig.size.height:e.defaultPreviewSize.height))("title",n.modal.title||n.modal.title===""?n.modal.title:"")("tabIndex",0),v("fetchpriority",n.fetchpriority)("aria-label",n.modal.ariaLabel?n.modal.ariaLabel:"")}}function Hi(r,o){if(r&1&&b(0,Fi,1,15,"img",9),r&2){let n=u().$implicit;l("ngIf",n==null||n.modal==null?null:n.modal.img)}}function Vi(r,o){if(r&1){let n=z();x(0),f(1,"div",7),h("click",function(i){let t=w(n).$implicit,a=u(2);return M(a.onImageEvent(t,i,a.clickAction))})("keyup",function(i){let t=w(n).$implicit,a=u(2);return M(a.onImageEvent(t,i,a.keyboardAction))}),b(2,Yi,1,0,"ng-container",8)(3,Hi,1,1,"ng-template",null,0,le),p(),P()}if(r&2){let n=o.$implicit,e=ae(4),i=u(2);c(),S("preview-container ",i.previewConfig!=null&&i.previewConfig.clickable?"":" unclickable",""),c(),l("ngTemplateOutlet",i.customTemplate?i.customTemplate:e)("ngTemplateOutletContext",A(5,Ri,n,e))}}function Wi(r,o){if(r&1){let n=z();x(0),f(1,"a",3),h("click",function(i){w(n);let t=u();return M(t.onNavigationEvent("left",i))})("keyup",function(i){w(n);let t=u();return M(t.onNavigationEvent("left",i))}),_(2,"div",4),p(),b(3,Vi,5,8,"ng-container",5),f(4,"a",6),h("click",function(i){w(n);let t=u();return M(t.onNavigationEvent("right",i))})("keyup",function(i){w(n);let t=u();return M(t.onNavigationEvent("right",i))}),_(5,"div",4),p(),P()}if(r&2){let n=u();c(),l("tabIndex",n.displayLeftPreviewsArrow()?0:-1),v("aria-label",n.accessibilityConfig==null?null:n.accessibilityConfig.previewScrollPrevAriaLabel),c(),S("inside ",n.displayLeftPreviewsArrow()?"left-arrow-preview-image":"empty-arrow-preview-image",""),l("title",n.accessibilityConfig==null?null:n.accessibilityConfig.previewScrollPrevTitle),c(),l("ngForOf",n.previews)("ngForTrackBy",n.trackById),c(),l("tabIndex",n.displayRightPreviewsArrow()?0:-1),v("aria-label",n.accessibilityConfig==null?null:n.accessibilityConfig.previewScrollNextAriaLabel),c(),S("inside ",n.displayRightPreviewsArrow()?"right-arrow-preview-image":"empty-arrow-preview-image",""),l("title",n.accessibilityConfig==null?null:n.accessibilityConfig.previewScrollNextTitle)}}var Qi=".arrow-preview-image[_ngcontent-%COMP%], .right-arrow-preview-image[_ngcontent-%COMP%], .left-arrow-preview-image[_ngcontent-%COMP%], .empty-arrow-preview-image[_ngcontent-%COMP%]{width:15px;height:15px;opacity:.5}.empty-arrow-preview-image[_ngcontent-%COMP%]{background:black;opacity:0}.left-arrow-preview-image[_ngcontent-%COMP%]{background-image:url(data:image/svg+xml;base64,PD94bWwgdmVyc2lvbj0iMS4wIiBlbmNvZGluZz0iaXNvLTg4NTktMSI/PjxzdmcgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIiB4bWxuczp4bGluaz0iaHR0cDovL3d3dy53My5vcmcvMTk5OS94bGluayIgdmVyc2lvbj0iMS4xIiBpZD0iQ2FwYV8xIiB4PSIwcHgiIHk9IjBweCIgdmlld0JveD0iMCAwIDQ3Ny4xNzUgNDc3LjE3NSIgc3R5bGU9ImVuYWJsZS1iYWNrZ3JvdW5kOm5ldyAwIDAgNDc3LjE3NSA0NzcuMTc1OyIgeG1sOnNwYWNlPSJwcmVzZXJ2ZSIgd2lkdGg9IjUxMnB4IiBoZWlnaHQ9IjUxMnB4Ij48Zz48cGF0aCBkPSJNMTQ1LjE4OCwyMzguNTc1bDIxNS41LTIxNS41YzUuMy01LjMsNS4zLTEzLjgsMC0xOS4xcy0xMy44LTUuMy0xOS4xLDBsLTIyNS4xLDIyNS4xYy01LjMsNS4zLTUuMywxMy44LDAsMTkuMWwyMjUuMSwyMjUgICBjMi42LDIuNiw2LjEsNCw5LjUsNHM2LjktMS4zLDkuNS00YzUuMy01LjMsNS4zLTEzLjgsMC0xOS4xTDE0NS4xODgsMjM4LjU3NXoiIGZpbGw9IiNGRkZGRkYiLz48L2c+PGc+PC9nPjxnPjwvZz48Zz48L2c+PGc+PC9nPjxnPjwvZz48Zz48L2c+PGc+PC9nPjxnPjwvZz48Zz48L2c+PGc+PC9nPjxnPjwvZz48Zz48L2c+PGc+PC9nPjxnPjwvZz48Zz48L2c+PC9zdmc+);background-size:15px;transition:all .5s}.left-arrow-preview-image[_ngcontent-%COMP%]:hover{transform:scale(1.2)}.right-arrow-preview-image[_ngcontent-%COMP%]{background-image:url(data:image/svg+xml;base64,PD94bWwgdmVyc2lvbj0iMS4wIiBlbmNvZGluZz0iaXNvLTg4NTktMSI/PjxzdmcgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIiB4bWxuczp4bGluaz0iaHR0cDovL3d3dy53My5vcmcvMTk5OS94bGluayIgdmVyc2lvbj0iMS4xIiBpZD0iQ2FwYV8xIiB4PSIwcHgiIHk9IjBweCIgdmlld0JveD0iMCAwIDQ3Ny4xNzUgNDc3LjE3NSIgc3R5bGU9ImVuYWJsZS1iYWNrZ3JvdW5kOm5ldyAwIDAgNDc3LjE3NSA0NzcuMTc1OyIgeG1sOnNwYWNlPSJwcmVzZXJ2ZSIgd2lkdGg9IjUxMnB4IiBoZWlnaHQ9IjUxMnB4Ij48Zz48cGF0aCBkPSJNMzYwLjczMSwyMjkuMDc1bC0yMjUuMS0yMjUuMWMtNS4zLTUuMy0xMy44LTUuMy0xOS4xLDBzLTUuMywxMy44LDAsMTkuMWwyMTUuNSwyMTUuNWwtMjE1LjUsMjE1LjUgICBjLTUuMyw1LjMtNS4zLDEzLjgsMCwxOS4xYzIuNiwyLjYsNi4xLDQsOS41LDRjMy40LDAsNi45LTEuMyw5LjUtNGwyMjUuMS0yMjUuMUMzNjUuOTMxLDI0Mi44NzUsMzY1LjkzMSwyMzQuMjc1LDM2MC43MzEsMjI5LjA3NXogICAiIGZpbGw9IiNGRkZGRkYiLz48L2c+PGc+PC9nPjxnPjwvZz48Zz48L2c+PGc+PC9nPjxnPjwvZz48Zz48L2c+PGc+PC9nPjxnPjwvZz48Zz48L2c+PGc+PC9nPjxnPjwvZz48Zz48L2c+PGc+PC9nPjxnPjwvZz48Zz48L2c+PC9zdmc+);background-size:15px;transition:all .5s}.right-arrow-preview-image[_ngcontent-%COMP%]:hover{transform:scale(1.2)}";function Ji(r,o){r&1&&(x(0),f(1,"div",3),_(2,"div",4)(3,"div",5)(4,"div",6),p(),P())}function Xi(r,o){r&1&&(x(0),_(1,"div",7),P())}function $i(r,o){r&1&&(x(0),_(1,"div",8),P())}function Ki(r,o){r&1&&(x(0),_(1,"div",9),P())}function qi(r,o){r&1&&(x(0),f(1,"div",10)(2,"div",11),_(3,"span",12)(4,"span",13)(5,"span",14)(6,"span",15),p()(),P())}function et(r,o){r&1&&(x(0),f(1,"div",16),_(2,"div",17),p(),P())}function it(r,o){r&1&&(x(0),f(1,"div",18),_(2,"span")(3,"span")(4,"span")(5,"span"),p(),P())}function tt(r,o){if(r&1){let n=z();f(0,"img",14),h("click",function(i){w(n);let t=u(3);return M(t.onNavigationEvent("left",i,t.clickAction))})("keyup",function(i){w(n);let t=u(3);return M(t.onNavigationEvent("left",i,t.keyboardAction))}),p()}if(r&2){let n=u().ngIf,e=u(2);Y("alt",n.modal.alt?n.modal.alt:e.getAltDescriptionByImage(n)),l("loading",n.loading)("src",n.plain!=null&&n.plain.img?n.plain==null?null:n.plain.img:n.modal.img,V)("fallbackImg",n.plain!=null&&n.plain.fallbackImg?n.plain==null?null:n.plain.fallbackImg:n.modal.fallbackImg)("hidden",e.loading)("sizeConfig",A(10,K,e.slideConfig==null||e.slideConfig.sidePreviews==null?null:e.slideConfig.sidePreviews.size.width,e.slideConfig==null||e.slideConfig.sidePreviews==null?null:e.slideConfig.sidePreviews.size.height))("title",n.modal.title||n.modal.title===""?n.modal.title:e.getDescriptionToDisplay(n))("tabIndex",0),v("fetchpriority",n.fetchpriority)("aria-label",n.modal.ariaLabel)}}function nt(r,o){if(r&1&&_(0,"div",15),r&2){let n=u(3);l("sizeConfig",A(1,K,n.slideConfig==null||n.slideConfig.sidePreviews==null?null:n.slideConfig.sidePreviews.size.width,n.slideConfig==null||n.slideConfig.sidePreviews==null?null:n.slideConfig.sidePreviews.size.height))}}function rt(r,o){if(r&1&&(x(0),b(1,tt,1,13,"img",13)(2,nt,1,4,"ng-template",null,0,le),P()),r&2){let n=ae(3),e=u(2);c(),l("ngIf",!e.isFirstImage)("ngIfElse",n)}}function ot(r,o){if(r&1&&(x(0),b(1,rt,4,2,"ng-container",6),P()),r&2){let n=u();c(),l("ngIf",n.getLeftPreviewImage())}}function at(r,o){if(r&1&&(x(0),_(1,"source",16),P()),r&2){let n=o.$implicit;c(),l("media",n.media)("srcset",n.srcset)}}function st(r,o){if(r&1&&_(0,"figcaption",17),r&2){let n=u();l("description",n.currentImageConfig==null?null:n.currentImageConfig.description)("innerHTML",n.getDescriptionToDisplay(),xe)}}function lt(r,o){if(r&1){let n=z();f(0,"img",19),h("click",function(i){w(n);let t=u(3);return M(t.onNavigationEvent("right",i,t.clickAction))})("keyup",function(i){w(n);let t=u(3);return M(t.onNavigationEvent("right",i,t.keyboardAction))}),p()}if(r&2){let n=u().ngIf,e=u(2);Y("alt",n.modal.alt?n.modal.alt:e.getAltDescriptionByImage(n)),l("loading",n.loading)("src",n.plain!=null&&n.plain.img?n.plain==null?null:n.plain.img:n.modal.img,V)("fallbackImg",n.plain!=null&&n.plain.fallbackImg?n.plain==null?null:n.plain.fallbackImg:n.modal.fallbackImg)("hidden",e.loading)("sizeConfig",A(10,K,e.slideConfig==null||e.slideConfig.sidePreviews==null?null:e.slideConfig.sidePreviews.size.width,e.slideConfig==null||e.slideConfig.sidePreviews==null?null:e.slideConfig.sidePreviews.size.height))("title",n.modal.title||n.modal.title===""?n.modal.title:e.getDescriptionToDisplay(n))("tabIndex",0),v("fetchpriority",n.fetchpriority)("aria-label",n.modal.ariaLabel)}}function ct(r,o){if(r&1&&_(0,"div",20),r&2){let n=u(3);l("sizeConfig",A(1,K,n.slideConfig==null||n.slideConfig.sidePreviews==null?null:n.slideConfig.sidePreviews.size.width,n.slideConfig==null||n.slideConfig.sidePreviews==null?null:n.slideConfig.sidePreviews.size.height))}}function gt(r,o){if(r&1&&(x(0),b(1,lt,1,13,"img",18)(2,ct,1,4,"ng-template",null,1,le),P()),r&2){let n=ae(3),e=u(2);c(),l("ngIf",!e.isLastImage)("ngIfElse",n)}}function ut(r,o){if(r&1&&(x(0),b(1,gt,4,2,"ng-container",6),P()),r&2){let n=u();c(),l("ngIf",n.getRightPreviewImage())}}function dt(r,o){if(r&1&&(x(0),_(1,"ks-loading-spinner",21),P()),r&2){let n=u();c(),l("loadingConfig",n.currentImageConfig==null?null:n.currentImageConfig.loadingConfig)("accessibilityConfig",n.accessibilityConfig)}}var mt=".arrow-image[_ngcontent-%COMP%], .right-arrow-image[_ngcontent-%COMP%], .left-arrow-image[_ngcontent-%COMP%], .empty-arrow-image[_ngcontent-%COMP%]{width:30px;height:30px;background-size:30px}.empty-arrow-image[_ngcontent-%COMP%]{background:black;opacity:0}.left-arrow-image[_ngcontent-%COMP%]{background-image:url(data:image/svg+xml;base64,PD94bWwgdmVyc2lvbj0iMS4wIiBlbmNvZGluZz0iaXNvLTg4NTktMSI/PjxzdmcgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIiB4bWxuczp4bGluaz0iaHR0cDovL3d3dy53My5vcmcvMTk5OS94bGluayIgdmVyc2lvbj0iMS4xIiBpZD0iQ2FwYV8xIiB4PSIwcHgiIHk9IjBweCIgdmlld0JveD0iMCAwIDQ3Ny4xNzUgNDc3LjE3NSIgc3R5bGU9ImVuYWJsZS1iYWNrZ3JvdW5kOm5ldyAwIDAgNDc3LjE3NSA0NzcuMTc1OyIgeG1sOnNwYWNlPSJwcmVzZXJ2ZSIgd2lkdGg9IjUxMnB4IiBoZWlnaHQ9IjUxMnB4Ij48Zz48cGF0aCBkPSJNMTQ1LjE4OCwyMzguNTc1bDIxNS41LTIxNS41YzUuMy01LjMsNS4zLTEzLjgsMC0xOS4xcy0xMy44LTUuMy0xOS4xLDBsLTIyNS4xLDIyNS4xYy01LjMsNS4zLTUuMywxMy44LDAsMTkuMWwyMjUuMSwyMjUgICBjMi42LDIuNiw2LjEsNCw5LjUsNHM2LjktMS4zLDkuNS00YzUuMy01LjMsNS4zLTEzLjgsMC0xOS4xTDE0NS4xODgsMjM4LjU3NXoiIGZpbGw9IiNGRkZGRkYiLz48L2c+PGc+PC9nPjxnPjwvZz48Zz48L2c+PGc+PC9nPjxnPjwvZz48Zz48L2c+PGc+PC9nPjxnPjwvZz48Zz48L2c+PGc+PC9nPjxnPjwvZz48Zz48L2c+PGc+PC9nPjxnPjwvZz48Zz48L2c+PC9zdmc+);opacity:.8;transition:all .5s}.left-arrow-image[_ngcontent-%COMP%]:hover{transform:scale(1.2)}.right-arrow-image[_ngcontent-%COMP%]{background-image:url(data:image/svg+xml;base64,PD94bWwgdmVyc2lvbj0iMS4wIiBlbmNvZGluZz0iaXNvLTg4NTktMSI/PjxzdmcgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIiB4bWxuczp4bGluaz0iaHR0cDovL3d3dy53My5vcmcvMTk5OS94bGluayIgdmVyc2lvbj0iMS4xIiBpZD0iQ2FwYV8xIiB4PSIwcHgiIHk9IjBweCIgdmlld0JveD0iMCAwIDQ3Ny4xNzUgNDc3LjE3NSIgc3R5bGU9ImVuYWJsZS1iYWNrZ3JvdW5kOm5ldyAwIDAgNDc3LjE3NSA0NzcuMTc1OyIgeG1sOnNwYWNlPSJwcmVzZXJ2ZSIgd2lkdGg9IjUxMnB4IiBoZWlnaHQ9IjUxMnB4Ij48Zz48cGF0aCBkPSJNMzYwLjczMSwyMjkuMDc1bC0yMjUuMS0yMjUuMWMtNS4zLTUuMy0xMy44LTUuMy0xOS4xLDBzLTUuMywxMy44LDAsMTkuMWwyMTUuNSwyMTUuNWwtMjE1LjUsMjE1LjUgICBjLTUuMyw1LjMtNS4zLDEzLjgsMCwxOS4xYzIuNiwyLjYsNi4xLDQsOS41LDRjMy40LDAsNi45LTEuMyw5LjUtNGwyMjUuMS0yMjUuMUMzNjUuOTMxLDI0Mi44NzUsMzY1LjkzMSwyMzQuMjc1LDM2MC43MzEsMjI5LjA3NXogICAiIGZpbGw9IiNGRkZGRkYiLz48L2c+PGc+PC9nPjxnPjwvZz48Zz48L2c+PGc+PC9nPjxnPjwvZz48Zz48L2c+PGc+PC9nPjxnPjwvZz48Zz48L2c+PGc+PC9nPjxnPjwvZz48Zz48L2c+PGc+PC9nPjxnPjwvZz48Zz48L2c+PC9zdmc+);opacity:.8;transition:all .5s}.right-arrow-image[_ngcontent-%COMP%]:hover{transform:scale(1.2)}";var ui="Enter";var ft="Escape";var pt="ArrowRight";var Ct="ArrowLeft";var ht="ArrowUp";var wt="ArrowDown";var di="Space",mi="right";var fi=0,T=1,H=-1,F=0,ee=(()=>{let o=class o{constructor(){}handleNavigationEvent(e,i){return i?i instanceof KeyboardEvent?this.handleKeyboardNavigationEvent(e,i):i instanceof MouseEvent?this.handleMouseNavigationEvent(e,i):F:F}handleImageEvent(e){return e?e instanceof KeyboardEvent?this.handleImageKeyboardEvent(e):e instanceof MouseEvent?this.handleImageMouseEvent(e):F:F}handleImageKeyboardEvent(e){let i=e.code;return i===di||i===ui?T:F}handleImageMouseEvent(e){return e.button===fi?T:F}handleKeyboardNavigationEvent(e,i){let t=i.code;return t===di||t===ui?e===mi?T:H:F}handleMouseNavigationEvent(e,i){return i.button===fi?e===mi?T:H:F}};o.\u0275fac=function(i){return new(i||o)},o.\u0275cmp=G({type:o,selectors:[["ks-accessible"]],decls:0,vars:0,template:function(i,t){},encapsulation:2,changeDetection:0});let r=o;return r})(),pi=class{constructor(o,n,e,i="lazy",t="auto"){this.id=o,this.modal=n,this.plain=e,this.loading=i,this.fetchpriority=t}},q=class{constructor(o,n,e){this.galleryId=o,this.action=n,this.result=e}},E=class extends q{constructor(o,n,e){super(o,n,e)}},m=function(r){return r[r.NORMAL=0]="NORMAL",r[r.CLICK=1]="CLICK",r[r.KEYBOARD=2]="KEYBOARD",r[r.SWIPE=3]="SWIPE",r[r.LOAD=4]="LOAD",r[r.AUTOPLAY=5]="AUTOPLAY",r}(m||{});function y(r,o){if(!r)throw new Error("image must be a valid Image object");if(!o)throw new Error("arrayOfImages must be a valid Image[]");if(!r.id&&r.id!==0)throw new Error("A numeric Image 'id' is mandatory");if(r.id<0)throw new Error("Image 'id' must be >= 0");return o.findIndex(n=>n.id===r.id)}var $=function(r){return r[r.ALWAYS_HIDDEN=1]="ALWAYS_HIDDEN",r[r.ALWAYS_VISIBLE=2]="ALWAYS_VISIBLE",r[r.HIDE_IF_EMPTY=3]="HIDE_IF_EMPTY",r}($||{}),wi={backgroundAriaLabel:"Modal gallery full screen background",backgroundTitle:"",plainGalleryContentAriaLabel:"Plain gallery content",plainGalleryContentTitle:"",modalGalleryContentAriaLabel:"Modal gallery content",modalGalleryContentTitle:"",loadingSpinnerAriaLabel:"The current image is loading. Please be patient.",loadingSpinnerTitle:"The current image is loading. Please be patient.",mainContainerAriaLabel:"Current image and navigation",mainContainerTitle:"",mainPrevImageAriaLabel:"Previous image",mainPrevImageTitle:"Previous image",mainNextImageAriaLabel:"Next image",mainNextImageTitle:"Next image",dotsContainerAriaLabel:"Image navigation dots",dotsContainerTitle:"",dotAriaLabel:"Navigate to image number",previewsContainerAriaLabel:"Image previews",previewsContainerTitle:"",previewScrollPrevAriaLabel:"Scroll previous previews",previewScrollPrevTitle:"Scroll previous previews",previewScrollNextAriaLabel:"Scroll next previews",previewScrollNextTitle:"Scroll next previews",carouselContainerAriaLabel:"Current image and navigation",carouselContainerTitle:"",carouselPrevImageAriaLabel:"Previous image",carouselPrevImageTitle:"Previous image",carouselNextImageAriaLabel:"Next image",carouselNextImageTitle:"Next image",carouselPreviewsContainerAriaLabel:"Image previews",carouselPreviewsContainerTitle:"",carouselPreviewScrollPrevAriaLabel:"Scroll previous previews",carouselPreviewScrollPrevTitle:"Scroll previous previews",carouselPreviewScrollNextAriaLabel:"Scroll next previews",carouselPreviewScrollNextTitle:"Scroll next previews"},X=function(r){return r[r.DEFAULT=1]="DEFAULT",r[r.SIMPLE=2]="SIMPLE",r[r.ADVANCED=3]="ADVANCED",r[r.FULL=4]="FULL",r[r.CUSTOM=5]="CUSTOM",r}(X||{}),O=function(r){return r[r.DELETE=1]="DELETE",r[r.EXTURL=2]="EXTURL",r[r.DOWNLOAD=3]="DOWNLOAD",r[r.CLOSE=4]="CLOSE",r[r.CUSTOM=5]="CUSTOM",r[r.FULLSCREEN=6]="FULLSCREEN",r}(O||{}),Mt=[O.FULLSCREEN,O.DELETE,O.EXTURL,O.DOWNLOAD,O.CLOSE,O.CUSTOM],he=class{constructor(o,n,e){this.size=o,this.breakConfig=n,this.justify=e}},Ee=class{constructor(o,n){this.size=o,this.breakConfig=n}},ge=function(r){return r[r.ROW=1]="ROW",r[r.COLUMN=2]="COLUMN",r[r.GRID=3]="GRID",r[r.CUSTOM=4]="CUSTOM",r}(ge||{}),B=function(r){return r[r.STANDARD=1]="STANDARD",r[r.CIRCULAR=2]="CIRCULAR",r[r.BARS=3]="BARS",r[r.DOTS=4]="DOTS",r[r.CUBE_FLIPPING=5]="CUBE_FLIPPING",r[r.CIRCLES=6]="CIRCLES",r[r.EXPLOSING_SQUARES=7]="EXPLOSING_SQUARES",r}(B||{}),Ge={height:"50px",width:"auto"},yt=new he(Ge,{length:-1,wrap:!1},"flex-start"),It={strategy:ge.ROW,layout:yt,advanced:{aTags:!1,additionalBackground:"50% 50%/cover"}},vt={enable:!0,type:B.STANDARD},Mi={bgColor:"rgba(0, 0, 0, .5)",textColor:"white",marginTop:"0px",marginBottom:"0px",marginLeft:"0px",marginRight:"0px"},bt={strategy:$.ALWAYS_VISIBLE,imageText:"Image ",numberSeparator:"/",beforeTextDescription:" - ",style:Mi},_t={strategy:$.ALWAYS_HIDDEN,imageText:"Image ",numberSeparator:"/",beforeTextDescription:" - ",style:Mi},Lt={navigateOnClick:!0,loadingConfig:vt,description:bt,downloadable:!1,invertSwipe:!1},xt={description:_t,invertSwipe:!1},Pt={maxWidth:"100%",maxHeight:"400px",showArrows:!0,objectFit:"cover",keyboardEnable:!0,modalGalleryEnable:!1},Ot={autoPlay:!0,interval:5e3,pauseOnHover:!0},Dt={xSmall:100,small:100,medium:150,large:200,xLarge:200},Ae={visible:!0,number:4,arrows:!0,clickable:!0,width:100/4+"%",maxHeight:"200px",breakpoints:Dt},Nt={infinite:!1,playConfig:{autoPlay:!1,interval:5e3,pauseOnHover:!0},sidePreviews:{show:!0,size:{width:"100px",height:"auto"}}},jt={visible:!0,number:3,arrows:!0,clickable:!0,size:Ge},g=Object.freeze({slideConfig:Nt,accessibilityConfig:wi,previewConfig:jt,buttonsConfig:{visible:!0,strategy:X.DEFAULT},dotsConfig:{visible:!0},plainGalleryConfig:It,currentImageConfig:Lt,keyboardConfig:void 0,carouselConfig:Pt,carouselImageConfig:xt,carouselPreviewsConfig:Ae,carouselPlayConfig:Ot,carouselDotsConfig:{visible:!0},carouselSlideInfinite:!0,enableCloseOutside:!0}),U=(()=>{let o=class o{constructor(){this.configMap=new Map}getConfig(e){return this.initIfNotExists(e),this.configMap.get(e)}setConfig(e,i){if(this.initIfNotExists(e),!i)return;if(!g||!g.slideConfig||!g.slideConfig.sidePreviews||!g.previewConfig||!g.previewConfig.size||!g.previewConfig.number||!g.plainGalleryConfig||!g.currentImageConfig||!g.currentImageConfig||!g.currentImageConfig.description||!g.carouselImageConfig||!g.carouselImageConfig.description||!g.carouselPreviewsConfig||!g.carouselPreviewsConfig.breakpoints||!Ae.number)throw new Error("Internal library error - DEFAULT_CONFIG must be fully initialized!!!");let t=Object.assign({},this.configMap.get(e));if(i.slideConfig){let a,s,d;i.slideConfig.playConfig?a=Object.assign({},g.slideConfig.playConfig,i.slideConfig.playConfig):a=g.slideConfig.playConfig,i.slideConfig.sidePreviews?(i.slideConfig.sidePreviews.size?d=Object.assign({},g.slideConfig.sidePreviews.size,i.slideConfig.sidePreviews.size):d=g.slideConfig.sidePreviews.size,s=Object.assign({},g.slideConfig.sidePreviews,i.slideConfig.sidePreviews)):(s=g.slideConfig.sidePreviews,d=g.slideConfig.sidePreviews.size);let L=Object.assign({},g.slideConfig,i.slideConfig);L.playConfig=a,L.sidePreviews=s,L.sidePreviews.size=d,t.slideConfig=L}if(i.accessibilityConfig&&(t.accessibilityConfig=Object.assign({},g.accessibilityConfig,i.accessibilityConfig)),i.previewConfig){let a,s;i.previewConfig.size?a=Object.assign({},g.previewConfig.size,i.previewConfig.size):a=g.previewConfig.size,i.previewConfig.number?i.previewConfig.number<=0?s=g.previewConfig.number:s=i.previewConfig.number:s=g.previewConfig.number;let d=Object.assign({},g.previewConfig,i.previewConfig);d.size=a,d.number=s,t.previewConfig=d}if(i.buttonsConfig&&(t.buttonsConfig=Object.assign({},g.buttonsConfig,i.buttonsConfig)),i.dotsConfig&&(t.dotsConfig=Object.assign({},g.dotsConfig,i.dotsConfig)),i.plainGalleryConfig){let a,s;i.plainGalleryConfig.advanced?a=Object.assign({},g.plainGalleryConfig.advanced,i.plainGalleryConfig.advanced):a=g.plainGalleryConfig.advanced,i.plainGalleryConfig.layout?s=i.plainGalleryConfig.layout:s=g.plainGalleryConfig.layout;let d=Object.assign({},g.plainGalleryConfig,i.plainGalleryConfig);d.layout=s,d.advanced=a,t.plainGalleryConfig=St(d)}if(i.currentImageConfig){let a,s,d;i.currentImageConfig.loadingConfig?a=Object.assign({},g.currentImageConfig.loadingConfig,i.currentImageConfig.loadingConfig):a=g.currentImageConfig.loadingConfig,i.currentImageConfig.description?(s=Object.assign({},g.currentImageConfig.description,i.currentImageConfig.description),i.currentImageConfig.description.style?d=Object.assign({},g.currentImageConfig.description.style,i.currentImageConfig.description.style):d=g.currentImageConfig.description.style):(s=g.currentImageConfig.description,d=g.currentImageConfig.description.style);let L=Object.assign({},g.currentImageConfig,i.currentImageConfig);L.loadingConfig=a,L.description=s,L.description.style=d,t.currentImageConfig=L}if(i.keyboardConfig&&(t.keyboardConfig=Object.assign({},g.keyboardConfig,i.keyboardConfig)),i.carouselConfig&&(t.carouselConfig=Object.assign({},g.carouselConfig,i.carouselConfig)),i.carouselImageConfig){let a,s;i.carouselImageConfig.description?(a=Object.assign({},g.carouselImageConfig.description,i.carouselImageConfig.description),i.carouselImageConfig.description.style?s=Object.assign({},g.carouselImageConfig.description.style,i.carouselImageConfig.description.style):s=g.carouselImageConfig.description.style):(a=g.carouselImageConfig.description,s=g.carouselImageConfig.description.style);let d=Object.assign({},g.carouselImageConfig,i.carouselImageConfig);d.description=a,d.description.style=s,t.carouselImageConfig=d}if(i.carouselPlayConfig){if(i.carouselPlayConfig.interval<=0)throw new Error("Carousel's interval must be a number >= 0");t.carouselPlayConfig=Object.assign({},g.carouselPlayConfig,i.carouselPlayConfig)}if(i.carouselPreviewsConfig){let a,s;!i.carouselPreviewsConfig.number||i.carouselPreviewsConfig.number<=0?a=Ae.number:a=i.carouselPreviewsConfig.number,i.carouselPreviewsConfig.breakpoints?s=Object.assign({},g.carouselPreviewsConfig.breakpoints,i.carouselPreviewsConfig.breakpoints):s=g.carouselPreviewsConfig.breakpoints,t.carouselPreviewsConfig=Object.assign({},g.carouselPreviewsConfig,i.carouselPreviewsConfig),t.carouselPreviewsConfig.number=a,t.carouselPreviewsConfig.breakpoints=s,t.carouselPreviewsConfig.width=100/t.carouselPreviewsConfig.number+"%"}i.carouselDotsConfig&&(t.carouselDotsConfig=Object.assign({},g.carouselDotsConfig,i.carouselDotsConfig)),i.carouselSlideInfinite===void 0?t.carouselSlideInfinite=g.carouselSlideInfinite:t.carouselSlideInfinite=i.carouselSlideInfinite,i.enableCloseOutside===void 0?t.enableCloseOutside=g.enableCloseOutside:t.enableCloseOutside=i.enableCloseOutside,this.configMap.set(e,t)}initIfNotExists(e){this.configMap.has(e)||this.configMap.set(e,g)}};o.\u0275fac=function(i){return new(i||o)},o.\u0275prov=te({token:o,factory:o.\u0275fac,providedIn:"root"});let r=o;return r})();function St(r){let o=Object.assign({},g.plainGalleryConfig,r);if(o.layout instanceof he){if(o.strategy!==ge.ROW&&o.strategy!==ge.COLUMN)throw new Error("LineLayout requires either ROW or COLUMN strategy");if(!o.layout||!o.layout.breakConfig)throw new Error("Both layout and breakConfig must be valid")}if(o.layout instanceof Ee){if(o.strategy!==ge.GRID)throw new Error("GridLayout requires GRID strategy");if(!o.layout||!o.layout.breakConfig)throw new Error("Both layout and breakConfig must be valid");o.layout.breakConfig.wrap=!0}return o}var we=class{constructor(o){this.overlayRef=o,this.close=new k,this.close$=this.close.asObservable(),this.show=new k,this.show$=this.show.asObservable(),this.firstImage=new k,this.firstImage$=this.firstImage.asObservable(),this.lastImage=new k,this.lastImage$=this.lastImage.asObservable(),this.hasData=new k,this.hasData$=this.hasData.asObservable(),this.buttonBeforeHook=new k,this.buttonBeforeHook$=this.buttonBeforeHook.asObservable(),this.buttonAfterHook=new k,this.buttonAfterHook$=this.buttonAfterHook.asObservable()}closeModal(){this.overlayRef.dispose()}emitClose(o){this.close.next(o)}emitShow(o){this.show.next(o)}emitFirstImage(o){this.firstImage.next(o)}emitLastImage(o){this.lastImage.next(o)}emitHasData(o){this.hasData.next(o)}emitButtonBeforeHook(o){this.buttonBeforeHook.next(o)}emitButtonAfterHook(o){this.buttonAfterHook.next(o)}},ze={hasBackdrop:!0,backdropClass:"ks-modal-gallery-backdrop",panelClass:"ks-modal-gallery-panel"},Ze=(()=>{let o=class o{constructor(e,i){this.overlay=e,this.configService=i,this.updateImages=new k,this.updateImages$=this.updateImages.asObservable(),this.triggerAttachToOverlay=new I}open(e){let i=this.createOverlay();return this.dialogRef=new we(i),this.triggerAttachToOverlay.emit({overlayRef:i,config:e,dialogRef:this.dialogRef}),i.backdropClick().subscribe(()=>{this.dialogRef&&this.dialogRef.closeModal()}),this.dialogRef}close(e,i){let t=this.configService.getConfig(e);i?this.dialogRef&&t&&t.enableCloseOutside&&this.dialogRef.closeModal():this.dialogRef&&this.dialogRef.closeModal()}updateModalImages(e){this.updateImages.next(e)}emitClose(e){this.dialogRef&&this.dialogRef.emitClose(e)}emitShow(e){this.dialogRef&&this.dialogRef.emitShow(e)}emitFirstImage(e){this.dialogRef&&this.dialogRef.emitFirstImage(e)}emitLastImage(e){this.dialogRef&&this.dialogRef.emitLastImage(e)}emitHasData(e){this.dialogRef&&this.dialogRef.emitHasData(e)}emitButtonBeforeHook(e){this.dialogRef&&this.dialogRef.emitButtonBeforeHook(e)}emitButtonAfterHook(e){this.dialogRef&&this.dialogRef.emitButtonAfterHook(e)}createOverlay(){let e=this.getOverlayConfig();return this.overlay.create(e)}getOverlayConfig(){let e=this.overlay.position().global().centerHorizontally().centerVertically();return new si({hasBackdrop:ze.hasBackdrop,backdropClass:ze.backdropClass,panelClass:ze.panelClass,scrollStrategy:this.overlay.scrollStrategies.block(),positionStrategy:e})}};o.\u0275fac=function(i){return new(i||o)(ne(li),ne(U))},o.\u0275prov=te({token:o,factory:o.\u0275fac,providedIn:"root"});let r=o;return r})(),ue=(()=>{let o=class o{constructor(e,i){this.renderer=e,this.el=i}ngOnInit(){this.applyStyle()}ngOnChanges(){this.applyStyle()}applyStyle(){this.sizeConfig&&(this.sizeConfig.width&&this.renderer.setStyle(this.el.nativeElement,"width",this.sizeConfig.width),this.sizeConfig.height&&this.renderer.setStyle(this.el.nativeElement,"height",this.sizeConfig.height))}};o.\u0275fac=function(i){return new(i||o)(C(oe),C(re))},o.\u0275dir=R({type:o,selectors:[["","ksSize",""]],inputs:{sizeConfig:"sizeConfig"},features:[Z]});let r=o;return r})(),Me=(()=>{let o=class o{constructor(e,i){this.renderer=e,this.el=i,this.fallbackApplied=new I}onError(){if(!this.fallbackImg){this.fallbackApplied.emit(!1);return}this.renderer.setAttribute(this.el.nativeElement,"src",this.fallbackImg.toString()),this.fallbackApplied.emit(!0)}};o.\u0275fac=function(i){return new(i||o)(C(oe),C(re))},o.\u0275dir=R({type:o,selectors:[["","ksFallbackImage",""]],hostBindings:function(i,t){i&1&&h("error",function(){return t.onError()})},inputs:{fallbackImg:"fallbackImg"},outputs:{fallbackApplied:"fallbackApplied"}});let r=o;return r})(),Ci="200px",kt=(()=>{let o=class o extends ee{constructor(e,i,t,a){super(),this.ref=e,this.breakpointObserver=i,this.sanitizer=t,this.configService=a,this.hostMaxWidth="100%",this.ariaLabel="Carousel previews",this.clickPreview=new I,this.clickAction=m.CLICK,this.keyboardAction=m.KEYBOARD,this.previews=[],this.previewMaxHeight=Ci,this.breakpointSubscription=i.observe([N.XSmall,N.Small,N.Medium,N.Large,N.XLarge]).subscribe(s=>{!this.previewConfig||!this.previewConfig.breakpoints||(s.breakpoints[N.XSmall]?this.updateHeight(this.previewConfig.breakpoints.xSmall):s.breakpoints[N.Small]?this.updateHeight(this.previewConfig.breakpoints.small):s.breakpoints[N.Medium]?this.updateHeight(this.previewConfig.breakpoints.medium):s.breakpoints[N.Large]?this.updateHeight(this.previewConfig.breakpoints.large):s.breakpoints[N.XLarge]&&this.updateHeight(this.previewConfig.breakpoints.xLarge))})}updateHeight(e){if(this.previewConfig&&this.previewConfig.maxHeight){let i=+this.previewConfig.maxHeight.replace("/px/g","").replace("/%/g","");this.previewMaxHeight=Math.min(e,i)+"px"}else{let i=+Ci.replace("/px/g","").replace("/%/g","");this.previewMaxHeight=Math.min(e,i)+"px"}this.ref.markForCheck()}ngOnInit(){let e=this.configService.getConfig(this.id);if(!e)throw new Error("Internal library error - libConfig must be defined");if(this.carouselConfig=e.carouselConfig,this.previewConfig=e.carouselPreviewsConfig,this.accessibilityConfig=e.accessibilityConfig,!this.previewConfig||!this.previewConfig.maxHeight||!this.previewConfig.breakpoints)throw new Error("Internal library error - previewConfig must be defined");this.carouselConfig&&this.carouselConfig.maxWidth!=="100%"&&(this.hostMaxWidth=this.carouselConfig.maxWidth),this.previewMaxHeight=this.previewConfig.maxHeight,this.initPreviews(this.currentImage,this.images);let i=this.breakpointObserver.isMatched(N.XSmall),t=this.breakpointObserver.isMatched(N.Small),a=this.breakpointObserver.isMatched(N.Medium),s=this.breakpointObserver.isMatched(N.Large),d=this.breakpointObserver.isMatched(N.XLarge);i?this.updateHeight(this.previewConfig.breakpoints.xSmall):t?this.updateHeight(this.previewConfig.breakpoints.small):a?this.updateHeight(this.previewConfig.breakpoints.medium):s?this.updateHeight(this.previewConfig.breakpoints.large):d&&this.updateHeight(this.previewConfig.breakpoints.xLarge)}isActive(e){return!e||!this.currentImage?!1:e.id===this.currentImage.id}ngOnChanges(e){let i=e.currentImage;if(!i)return;let t=i.previousValue,a=i.currentValue;if(a&&e.images&&e.images.previousValue&&e.images.currentValue&&this.initPreviews(a,e.images.currentValue),t&&a&&t.id!==a.id){let s,d;try{s=y(t,this.images),d=y(a,this.images)}catch(j){throw console.error("Cannot get previous and current image indexes in previews"),j}let L=Math.floor((this.end-this.start)/2)+this.start;if(s===this.images.length-1&&d===0){this.setBeginningIndexesPreviews(),this.previews=this.images.filter((j,D)=>D>=this.start&&D<this.end);return}if(s===0&&d===this.images.length-1){this.setEndIndexesPreviews(),this.previews=this.images.filter((j,D)=>D>=this.start&&D<this.end);return}this.previewConfig&&this.previewConfig.number%2===0?L>d?this.previous():this.next():(L>d&&this.previous(),L<d&&this.next())}}onImageEvent(e,i,t=m.NORMAL){if(!this.previewConfig||!this.previewConfig.clickable)return;let a=this.images.indexOf(e),s=super.handleImageEvent(i);s===T?this.clickPreview.emit({action:t,result:a}):s===H&&this.clickPreview.emit({action:t,result:a})}onNavigationEvent(e,i){let t=super.handleNavigationEvent(e,i);t===T?this.next():t===H&&this.previous()}getAriaLabel(e){return e.plain?e.plain.ariaLabel||e.modal.ariaLabel||"":e.modal.ariaLabel||""}getTitle(e){return e.plain?e.plain.title||e.modal.title||"":e.modal.title||""}getAlt(e){return e.plain?e.plain.alt||e.modal.alt||"":e.modal.alt||""}trackById(e,i){return i.id}sanitizeUrlBgStyle(e,i){let t="url("+e+")";return i&&(t+=", url("+i+")"),this.sanitizer.bypassSecurityTrustStyle(t)}ngOnDestroy(){this.breakpointSubscription&&this.breakpointSubscription.unsubscribe()}initPreviews(e,i){let t;try{t=y(e,i)}catch(a){throw a}switch(t){case 0:this.setBeginningIndexesPreviews();break;case i.length-1:this.setEndIndexesPreviews();break}this.previews=i.filter((a,s)=>s>=this.start&&s<this.end)}setBeginningIndexesPreviews(){if(!this.previewConfig||this.previewConfig.number===void 0)throw new Error("Internal library error - previewConfig and number must be defined");this.start=0,this.end=Math.min(this.previewConfig.number,this.images.length)}setEndIndexesPreviews(){if(!this.previewConfig||this.previewConfig.number===void 0)throw new Error("Internal library error - previewConfig and number must be defined");this.start=this.images.length-1-(this.previewConfig.number-1),this.end=this.images.length}next(){this.isPreventSliding(this.images.length-1)||this.end!==this.images.length&&(this.start++,this.end=Math.min(this.end+1,this.images.length),this.previews=this.images.filter((e,i)=>i>=this.start&&i<this.end))}previous(){this.isPreventSliding(0)||this.start!==0&&(this.start=Math.max(this.start-1,0),this.end=Math.min(this.end-1,this.images.length),this.previews=this.images.filter((e,i)=>i>=this.start&&i<this.end))}isPreventSliding(e){return y(this.currentImage,this.images)===e}};o.\u0275fac=function(i){return new(i||o)(C(ce),C(oi),C(ke),C(U))},o.\u0275cmp=G({type:o,selectors:[["ks-carousel-previews"]],hostVars:3,hostBindings:function(i,t){i&2&&(v("aria-label",t.ariaLabel),pe("max-width",t.hostMaxWidth))},inputs:{id:"id",currentImage:"currentImage",images:"images"},outputs:{clickPreview:"clickPreview"},features:[W,Z],decls:1,vars:1,consts:[["class","previews-container",3,"title",4,"ngIf"],[1,"previews-container",3,"title"],["role","button",1,"nav-left",3,"click","keyup","tabIndex"],["aria-hidden","true",3,"title"],[1,"preview-inner-container"],[4,"ngFor","ngForOf","ngForTrackBy"],["role","button",1,"nav-right",3,"click","keyup","tabIndex"],["ksFallbackImage","","ksSize","","role","img",3,"loading","class","src","fallbackImg","sizeConfig","title","alt","tabIndex","click","keyup",4,"ngIf"],["ksFallbackImage","","ksSize","","role","img",3,"click","keyup","loading","src","fallbackImg","sizeConfig","title","alt","tabIndex"]],template:function(i,t){i&1&&b(0,Li,7,16,"nav",0),i&2&&l("ngIf",t.previewConfig==null?null:t.previewConfig.visible)},dependencies:[Q,J,ue,Me],styles:["[_nghost-%COMP%]{position:relative;margin-top:3px;margin-bottom:3px;width:100%}.previews-container[_ngcontent-%COMP%]{align-items:center;animation:fadein-semi-visible08 .8s;display:flex;flex-direction:row;justify-content:center;margin-bottom:0}.previews-container[_ngcontent-%COMP%] > .preview-inner-container[_ngcontent-%COMP%]{display:flex;flex-direction:row;justify-content:center;align-items:center;flex-wrap:nowrap;width:100%}.previews-container[_ngcontent-%COMP%] > .preview-inner-container[_ngcontent-%COMP%] > .preview-image[_ngcontent-%COMP%]{cursor:pointer;object-fit:cover}.previews-container[_ngcontent-%COMP%] > .preview-inner-container[_ngcontent-%COMP%] > .preview-image.unclickable[_ngcontent-%COMP%]{cursor:not-allowed}.previews-container[_ngcontent-%COMP%]   .nav[_ngcontent-%COMP%], .previews-container[_ngcontent-%COMP%] > .nav-right[_ngcontent-%COMP%], .previews-container[_ngcontent-%COMP%] > .nav-left[_ngcontent-%COMP%]{position:absolute;top:calc(50% - 7px);color:#919191;z-index:1000;cursor:pointer;transition:all .5s}.previews-container[_ngcontent-%COMP%]   .nav[_ngcontent-%COMP%]:hover, .previews-container[_ngcontent-%COMP%] > .nav-right[_ngcontent-%COMP%]:hover, .previews-container[_ngcontent-%COMP%] > .nav-left[_ngcontent-%COMP%]:hover{transform:scale(1.1)}.previews-container[_ngcontent-%COMP%] > .nav-left[_ngcontent-%COMP%]{margin-right:10px;left:10px}.previews-container[_ngcontent-%COMP%] > .nav-left[_ngcontent-%COMP%] > .left-arrow-preview-image[_ngcontent-%COMP%]{opacity:1}.previews-container[_ngcontent-%COMP%] > .nav-right[_ngcontent-%COMP%]{margin-left:10px;right:10px}.previews-container[_ngcontent-%COMP%] > .nav-right[_ngcontent-%COMP%] > .right-arrow-preview-image[_ngcontent-%COMP%]{opacity:1}",".arrow-preview-image[_ngcontent-%COMP%], .right-arrow-preview-image[_ngcontent-%COMP%], .left-arrow-preview-image[_ngcontent-%COMP%], .empty-arrow-preview-image[_ngcontent-%COMP%]{width:15px;height:15px;opacity:.5}.empty-arrow-preview-image[_ngcontent-%COMP%]{background:black;opacity:0}.left-arrow-preview-image[_ngcontent-%COMP%]{background-image:url(data:image/svg+xml;base64,PD94bWwgdmVyc2lvbj0iMS4wIiBlbmNvZGluZz0iaXNvLTg4NTktMSI/PjxzdmcgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIiB4bWxuczp4bGluaz0iaHR0cDovL3d3dy53My5vcmcvMTk5OS94bGluayIgdmVyc2lvbj0iMS4xIiBpZD0iQ2FwYV8xIiB4PSIwcHgiIHk9IjBweCIgdmlld0JveD0iMCAwIDQ3Ny4xNzUgNDc3LjE3NSIgc3R5bGU9ImVuYWJsZS1iYWNrZ3JvdW5kOm5ldyAwIDAgNDc3LjE3NSA0NzcuMTc1OyIgeG1sOnNwYWNlPSJwcmVzZXJ2ZSIgd2lkdGg9IjUxMnB4IiBoZWlnaHQ9IjUxMnB4Ij48Zz48cGF0aCBkPSJNMTQ1LjE4OCwyMzguNTc1bDIxNS41LTIxNS41YzUuMy01LjMsNS4zLTEzLjgsMC0xOS4xcy0xMy44LTUuMy0xOS4xLDBsLTIyNS4xLDIyNS4xYy01LjMsNS4zLTUuMywxMy44LDAsMTkuMWwyMjUuMSwyMjUgICBjMi42LDIuNiw2LjEsNCw5LjUsNHM2LjktMS4zLDkuNS00YzUuMy01LjMsNS4zLTEzLjgsMC0xOS4xTDE0NS4xODgsMjM4LjU3NXoiIGZpbGw9IiNGRkZGRkYiLz48L2c+PGc+PC9nPjxnPjwvZz48Zz48L2c+PGc+PC9nPjxnPjwvZz48Zz48L2c+PGc+PC9nPjxnPjwvZz48Zz48L2c+PGc+PC9nPjxnPjwvZz48Zz48L2c+PGc+PC9nPjxnPjwvZz48Zz48L2c+PC9zdmc+);background-size:15px;transition:all .5s}.left-arrow-preview-image[_ngcontent-%COMP%]:hover{transform:scale(1.2)}.right-arrow-preview-image[_ngcontent-%COMP%]{background-image:url(data:image/svg+xml;base64,PD94bWwgdmVyc2lvbj0iMS4wIiBlbmNvZGluZz0iaXNvLTg4NTktMSI/PjxzdmcgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIiB4bWxuczp4bGluaz0iaHR0cDovL3d3dy53My5vcmcvMTk5OS94bGluayIgdmVyc2lvbj0iMS4xIiBpZD0iQ2FwYV8xIiB4PSIwcHgiIHk9IjBweCIgdmlld0JveD0iMCAwIDQ3Ny4xNzUgNDc3LjE3NSIgc3R5bGU9ImVuYWJsZS1iYWNrZ3JvdW5kOm5ldyAwIDAgNDc3LjE3NSA0NzcuMTc1OyIgeG1sOnNwYWNlPSJwcmVzZXJ2ZSIgd2lkdGg9IjUxMnB4IiBoZWlnaHQ9IjUxMnB4Ij48Zz48cGF0aCBkPSJNMzYwLjczMSwyMjkuMDc1bC0yMjUuMS0yMjUuMWMtNS4zLTUuMy0xMy44LTUuMy0xOS4xLDBzLTUuMywxMy44LDAsMTkuMWwyMTUuNSwyMTUuNWwtMjE1LjUsMjE1LjUgICBjLTUuMyw1LjMtNS4zLDEzLjgsMCwxOS4xYzIuNiwyLjYsNi4xLDQsOS41LDRjMy40LDAsNi45LTEuMyw5LjUtNGwyMjUuMS0yMjUuMUMzNjUuOTMxLDI0Mi44NzUsMzY1LjkzMSwyMzQuMjc1LDM2MC43MzEsMjI5LjA3NXogICAiIGZpbGw9IiNGRkZGRkYiLz48L2c+PGc+PC9nPjxnPjwvZz48Zz48L2c+PGc+PC9nPjxnPjwvZz48Zz48L2c+PGc+PC9nPjxnPjwvZz48Zz48L2c+PGc+PC9nPjxnPjwvZz48Zz48L2c+PGc+PC9nPjxnPjwvZz48Zz48L2c+PC9zdmc+);background-size:15px;transition:all .5s}.right-arrow-preview-image[_ngcontent-%COMP%]:hover{transform:scale(1.2)}"],changeDetection:0});let r=o;return r})(),yi=(()=>{let o=class o extends ee{constructor(e){super(),this.configService=e,this.clickDot=new I}ngOnInit(){let e=this.configService.getConfig(this.id);if(!e)throw new Error("Internal library error - libConfig must be defined");this.accessibilityConfig=e.accessibilityConfig,this.configDots=Object.assign({},this.dotsConfig)}ngOnChanges(e){let i=e.dotsConfig;i&&i.currentValue!==i.previousValue&&(this.configDots=i.currentValue)}isActive(e){if(!this.currentImage||!this.images||this.images.length===0)return!1;let i;try{i=y(this.currentImage,this.images)}catch(t){return console.error("Internal error while trying to show the active 'dot'",t),!1}return e===i}onDotEvent(e,i){super.handleImageEvent(i)===T&&this.clickDot.emit(e)}trackById(e,i){return i.id}};o.\u0275fac=function(i){return new(i||o)(C(U))},o.\u0275cmp=G({type:o,selectors:[["ks-dots"]],inputs:{id:"id",currentImage:"currentImage",images:"images",dotsConfig:"dotsConfig"},outputs:{clickDot:"clickDot"},features:[W,Z],decls:2,vars:3,consts:[[1,"dots-container",3,"title"],[4,"ngIf"],["class","inside dot","role","navigation",3,"ngClass","tabIndex","click","keyup",4,"ngFor","ngForOf","ngForTrackBy"],["role","navigation",1,"inside","dot",3,"click","keyup","ngClass","tabIndex"]],template:function(i,t){i&1&&(f(0,"nav",0),b(1,Oi,2,2,"ng-container",1),p()),i&2&&(l("title",t.accessibilityConfig==null?null:t.accessibilityConfig.dotsContainerTitle),v("aria-label",t.accessibilityConfig==null?null:t.accessibilityConfig.dotsContainerAriaLabel),c(),l("ngIf",!t.dotsConfig||(t.dotsConfig==null?null:t.dotsConfig.visible)))},dependencies:[je,Q,J],styles:[".dots-container[_ngcontent-%COMP%]{display:flex;flex-direction:row;justify-content:center;margin-bottom:30px}.dots-container[_ngcontent-%COMP%] > .dot[_ngcontent-%COMP%]{background:#fff;border-radius:5px;height:10px;margin-left:4px;margin-right:4px;width:10px;cursor:pointer;opacity:.5}.dots-container[_ngcontent-%COMP%] > .dot[_ngcontent-%COMP%]:hover{opacity:.9;transition:all .5s ease;transition-property:opacity}.dots-container[_ngcontent-%COMP%] > .dot.active[_ngcontent-%COMP%]{cursor:pointer;opacity:.9}@keyframes _ngcontent-%COMP%_fadein-semi-visible05{0%{opacity:0}to{opacity:.5}}@keyframes _ngcontent-%COMP%_fadein-semi-visible09{0%{opacity:0}to{opacity:.9}}"],changeDetection:0});let r=o;return r})(),Ii=(()=>{let o=class o{constructor(e,i){this.renderer=e,this.el=i}ngOnInit(){this.applyStyle()}ngOnChanges(){this.applyStyle()}applyStyle(){this.description&&this.description.style&&(this.renderer.setStyle(this.el.nativeElement,"background",this.description.style.bgColor),this.renderer.setStyle(this.el.nativeElement,"color",this.description.style.textColor),this.description.style.width&&this.renderer.setStyle(this.el.nativeElement,"width",this.description.style.width),this.description.style.height&&this.renderer.setStyle(this.el.nativeElement,"height",this.description.style.height),this.description.style.position&&this.renderer.setStyle(this.el.nativeElement,"position",this.description.style.position),this.description.style.top&&this.renderer.setStyle(this.el.nativeElement,"top",this.description.style.top),this.description.style.bottom&&this.renderer.setStyle(this.el.nativeElement,"bottom",this.description.style.bottom),this.description.style.left&&this.renderer.setStyle(this.el.nativeElement,"left",this.description.style.left),this.description.style.right&&this.renderer.setStyle(this.el.nativeElement,"right",this.description.style.right),this.renderer.setStyle(this.el.nativeElement,"margin-top",this.description.style.marginTop?this.description.style.marginTop:"0px"),this.renderer.setStyle(this.el.nativeElement,"margin-bottom",this.description.style.marginBottom?this.description.style.marginBottom:"0px"),this.renderer.setStyle(this.el.nativeElement,"margin-left",this.description.style.marginLeft?this.description.style.marginLeft:"0px"),this.renderer.setStyle(this.el.nativeElement,"margin-right",this.description.style.marginRight?this.description.style.marginRight:"0px"))}};o.\u0275fac=function(i){return new(i||o)(C(oe),C(re))},o.\u0275dir=R({type:o,selectors:[["","ksDescription",""]],inputs:{description:"description"},features:[Z]});let r=o;return r})(),zt=(()=>{let o=class o{constructor(e,i){this.renderer=e,this.el=i}ngOnInit(){this.applyStyle()}ngOnChanges(){this.applyStyle()}applyStyle(){this.maxSizeConfig&&(this.maxSizeConfig.maxWidth&&this.renderer.setStyle(this.el.nativeElement,"max-width",this.maxSizeConfig.maxWidth),this.maxSizeConfig.maxHeight&&this.renderer.setStyle(this.el.nativeElement,"max-height",this.maxSizeConfig.maxHeight))}};o.\u0275fac=function(i){return new(i||o)(C(oe),C(re))},o.\u0275dir=R({type:o,selectors:[["","ksMaxSize",""]],inputs:{maxSizeConfig:"maxSizeConfig"},features:[Z]});let r=o;return r})(),yn=(()=>{let o=class o extends ee{onMouseEnter(){if(this.id===null||this.id===void 0)throw new Error("Internal library error - id must be defined");let e=this.configService.getConfig(this.id);if(!e)throw new Error("Internal library error - libConfig must be defined");!e.carouselPlayConfig||!e.carouselPlayConfig.pauseOnHover||this.stopCarousel()}onMouseLeave(){if(this.id===null||this.id===void 0)throw new Error("Internal library error - id must be defined");let e=this.configService.getConfig(this.id);if(!e)throw new Error("Internal library error - libConfig must be defined");!e.carouselPlayConfig||!e.carouselPlayConfig.pauseOnHover||!e.carouselPlayConfig.autoPlay||this.playCarousel()}onKeyDownLeft(){if(this.id===null||this.id===void 0)throw new Error("Internal library error - id must be defined");let e=this.configService.getConfig(this.id);if(!e)throw new Error("Internal library error - libConfig must be defined");!e.carouselConfig||!e.carouselConfig.keyboardEnable||this.prevImage()}onKeyDownLRight(){if(this.id===null||this.id===void 0)throw new Error("Internal library error - id must be defined");let e=this.configService.getConfig(this.id);if(!e)throw new Error("Internal library error - libConfig must be defined");!e.carouselConfig||!e.carouselConfig.keyboardEnable||this.nextImage()}constructor(e,i,t,a,s){super(),this.platformId=e,this.ngZone=i,this.modalGalleryService=t,this.configService=a,this.ref=s,this.ariaLabel="Carousel",this.images=[],this.clickImage=new I,this.changeImage=new I,this.firstImage=new I,this.lastImage=new I,this.clickAction=m.CLICK,this.keyboardAction=m.KEYBOARD,this.isFirstImage=!1,this.isLastImage=!1,this.start$=new k,this.stop$=new k}ngOnInit(){if(this.id===null||this.id===void 0)throw new Error("Internal library error - id must be defined");if(!this.images||this.images.length===0)throw new Error("Internal library error - images array must be defined and with at least an element");this.configService.setConfig(this.id,this.config);let e=this.configService.getConfig(this.id);if(!e)throw new Error("Internal library error - libConfig must be defined");this.currentImage=this.images[0],this.carouselDotsConfig=e.carouselDotsConfig,this.accessibilityConfig=e.accessibilityConfig,this.carouselSlideInfinite=e.carouselSlideInfinite,this.carouselConfig=e.carouselConfig,this.carouselImageConfig=e.carouselImageConfig,this.manageSlideConfig()}ngOnChanges(e){if(this.id===null||this.id===void 0)throw new Error("Internal library error - id must be defined");if(!this.configService.getConfig(this.id))throw new Error("Internal library error - libConfig must be defined");let t=e.config;t&&!t.firstChange&&(t.previousValue.carouselDotsConfig?.visible!==t.currentValue.carouselDotsConfig?.visible||!t.previousValue.carouselDotsConfig&&!t.currentValue.carouselDotsConfig)&&(this.configService.setConfig(this.id,{carouselDotsConfig:t.currentValue?.carouselDotsConfig}),this.carouselDotsConfig=t.currentValue?.carouselDotsConfig,this.ref.markForCheck()),t&&!t.firstChange&&(t.previousValue.carouselConfig?.showArrows!==t.currentValue.carouselConfig?.showArrows||!t.previousValue.carouselConfig&&!t.currentValue.carouselConfig)&&(this.configService.setConfig(this.id,{carouselConfig:t.currentValue?.carouselConfig}),this.carouselConfig=t.currentValue?.carouselConfig,this.ref.markForCheck()),t&&!t.firstChange&&(t.previousValue.carouselPlayConfig?.autoPlay!==t.currentValue.carouselPlayConfig?.autoPlay||!t.previousValue.carouselPlayConfig&&!t.currentValue.carouselPlayConfig)&&(this.configService.setConfig(this.id,{carouselPlayConfig:t.currentValue?.carouselPlayConfig}),t.currentValue.carouselPlayConfig?.autoPlay&&!t.firstChange?this.start$.next():this.stopCarousel(),this.ref.markForCheck())}ngAfterContentInit(){if(Ce(this.platformId)){if(this.id===null||this.id===void 0)throw new Error("Internal library error - id must be defined");let e=this.configService.getConfig(this.id);if(!e||!e.carouselPlayConfig)throw new Error("Internal library error - libConfig and carouselPlayConfig must be defined");this.ngZone.runOutsideAngular(()=>{this.start$.pipe(Ie(()=>e?.carouselPlayConfig?.interval),be(i=>i>0),_e(i=>ve(i).pipe(Le(this.stop$)))).subscribe(()=>this.ngZone.run(()=>{e.carouselPlayConfig?.autoPlay&&this.nextImage(),this.ref.markForCheck()})),this.start$.next()})}}onClickDot(e){this.changeCurrentImage(this.images[e],m.NORMAL)}onNavigationEvent(e,i,t=m.NORMAL){let a=super.handleNavigationEvent(e,i);a===T?this.nextImage(t):a===H&&this.prevImage(t)}onClickCurrentImage(){if(this.id===null||this.id===void 0)throw new Error("Internal library error - id must be defined");let e=this.configService.getConfig(this.id);if(!e||!e.carouselConfig||!this.currentImage)throw new Error("Internal library error - libConfig, carouselConfig and currentImage must be defined");if(!e.carouselConfig.modalGalleryEnable)return;let i=y(this.currentImage,this.images);this.clickImage.emit(i)}getDescriptionToDisplay(e=this.currentImage){if(this.id===null||this.id===void 0)throw new Error("Internal library error - id must be defined");let i=this.configService.getConfig(this.id);if(!i)throw new Error("Internal library error - libConfig must be defined");let t=i.carouselImageConfig;if(!t||!t.description)throw new Error("Description input must be a valid object implementing the Description interface");if(!e)throw new Error("Internal library error - image must be defined");let a=!e||!e.modal||!e.modal.description||e.modal.description==="";switch(t.description.strategy){case $.HIDE_IF_EMPTY:return a?"":e.modal.description+"";case $.ALWAYS_HIDDEN:return"";default:return this.buildTextDescription(e,a)}}swipe(e="swiperight"){if(this.id===null||this.id===void 0)throw new Error("Internal library error - id must be defined");let i=this.configService.getConfig(this.id);if(!i||!i.carouselImageConfig)throw new Error("Internal library error - libConfig and carouselImageConfig must be defined");let t=i.carouselImageConfig;switch(e){case"swiperight":t.invertSwipe?this.prevImage(m.SWIPE):this.nextImage(m.SWIPE);break;case"swipeleft":t.invertSwipe?this.nextImage(m.SWIPE):this.prevImage(m.SWIPE);break}}prevImage(e=m.NORMAL){this.isPreventSliding(0)||(this.changeCurrentImage(this.getPrevImage(),e),this.manageSlideConfig(),this.start$.next())}nextImage(e=m.NORMAL){this.isPreventSliding(this.images.length-1)||(this.changeCurrentImage(this.getNextImage(),e),this.manageSlideConfig(),this.start$.next())}trackById(e,i){return i.id}onClickPreview(e){let i=this.images[e.result];i&&(this.manageSlideConfig(),this.changeCurrentImage(i,e.action))}playCarousel(){this.start$.next()}stopCarousel(){this.stop$.next()}getAltDescriptionByImage(e=this.currentImage){return e?e.modal&&e.modal.description?e.modal.description:`Image ${y(e,this.images)+1}`:""}getTitleToDisplay(e=this.currentImage){if(this.id===null||this.id===void 0)throw new Error("Internal library error - id must be defined");let i=this.configService.getConfig(this.id);if(!i||!i.carouselImageConfig)throw new Error("Internal library error - libConfig and carouselImageConfig must be defined");let t=i.carouselImageConfig;if(!t||!t.description)throw new Error("Description input must be a valid object implementing the Description interface");let a=!e||!e.modal||!e.modal.description||e.modal.description==="";return this.buildTextDescription(e,a)}ngOnDestroy(){this.stopCarousel()}changeCurrentImage(e,i){if(this.id===null||this.id===void 0)throw new Error("Internal library error - id must be defined");this.currentImage=e;let t=y(e,this.images);this.emitBoundaryEvent(i,t),this.changeImage.emit(new q(this.id,i,t+1))}getNextImage(){if(!this.currentImage)throw new Error("Internal library error - currentImage must be defined");let e=y(this.currentImage,this.images),i=0;return e>=0&&e<this.images.length-1?i=e+1:i=0,this.images[i]}getPrevImage(){if(!this.currentImage)throw new Error("Internal library error - currentImage must be defined");let e=y(this.currentImage,this.images),i=0;return e>0&&e<=this.images.length-1?i=e-1:i=this.images.length-1,this.images[i]}buildTextDescription(e,i){if(this.id===null||this.id===void 0)throw new Error("Internal library error - id must be defined");let t=this.configService.getConfig(this.id);if(!t||!t.carouselImageConfig)throw new Error("Internal library error - libConfig and carouselImageConfig must be defined");let a=t.carouselImageConfig;if(!a||!a.description)throw new Error("Description input must be a valid object implementing the Description interface");if(!e)throw new Error("Internal library error - image must be defined");if(a.description.customFullDescription&&a.description.customFullDescription!=="")return a.description.customFullDescription;let s=y(e,this.images),d=a.description.imageText?a.description.imageText:"",L=a.description.numberSeparator?a.description.numberSeparator:"",j=s+1+L+this.images.length;if(i)return d+j;let D=e.modal&&e.modal.description?e.modal.description:"",ie=a.description.beforeTextDescription+D;return d+j+ie}handleBoundaries(e){if(this.images.length===1){this.isFirstImage=!0,this.isLastImage=!0;return}switch(e){case 0:this.isFirstImage=!0,this.isLastImage=!1;break;case this.images.length-1:this.isFirstImage=!1,this.isLastImage=!0;break;default:this.isFirstImage=!1,this.isLastImage=!1;break}}manageSlideConfig(){if(this.id===null||this.id===void 0)throw new Error("Internal library error - id must be defined");let e=this.configService.getConfig(this.id);if(!e)throw new Error("Internal library error - libConfig must be defined");if(!this.currentImage)throw new Error("Internal library error - currentImage must be defined");let i;try{i=y(this.currentImage,this.images)}catch(t){throw console.error("Cannot get the current image index in current-image"),t}e.carouselSlideInfinite===!0?(this.isFirstImage=!1,this.isLastImage=!1):this.handleBoundaries(i)}emitBoundaryEvent(e,i){if(!(this.id===null||this.id===void 0))switch(i){case 0:this.firstImage.emit(new q(this.id,e,!0));break;case this.images.length-1:this.lastImage.emit(new q(this.id,e,!0));break}}isPreventSliding(e){if(this.id===null||this.id===void 0)throw new Error("Internal library error - id must be defined");let i=this.configService.getConfig(this.id);if(!i)throw new Error("Internal library error - libConfig must be defined");if(!this.currentImage)throw new Error("Internal library error - currentImage must be defined");return!i.carouselSlideInfinite&&y(this.currentImage,this.images)===e}};o.\u0275fac=function(i){return new(i||o)(C(fe),C(De),C(Ze),C(U),C(ce))},o.\u0275cmp=G({type:o,selectors:[["ks-carousel"]],hostVars:1,hostBindings:function(i,t){i&1&&h("mouseenter",function(){return t.onMouseEnter()})("mouseleave",function(){return t.onMouseLeave()})("keydown.arrowLeft",function(){return t.onKeyDownLeft()})("keydown.arrowRight",function(){return t.onKeyDownLRight()}),i&2&&v("aria-label",t.ariaLabel)},inputs:{id:"id",images:"images",config:"config"},outputs:{clickImage:"clickImage",changeImage:"changeImage",firstImage:"firstImage",lastImage:"lastImage"},features:[qe([U]),W,Z],ngContentSelectors:Di,decls:5,vars:9,consts:[["content",""],["id","carousel-container","ksMaxSize","",3,"title","maxSizeConfig"],["class","current-figure","ksSize","",3,"sizeConfig",4,"ngIf"],[3,"clickPreview","id","images","currentImage"],["ksSize","",1,"current-figure",3,"sizeConfig"],["class","nav-left","role","button",3,"tabIndex","click","keyup",4,"ngIf"],[4,"ngTemplateOutlet"],["ksMaxSize","",1,"current-image",3,"maxSizeConfig"],[4,"ngFor","ngForOf"],["ksMaxSize","","ksFallbackImage","","role","img",3,"click","swipeleft","swiperight","id","loading","maxSizeConfig","src","fallbackImg","title","alt","tabIndex"],["class","description","ksDescription","",3,"description","innerHTML",4,"ngIf"],["class","nav-right","role","button",3,"tabIndex","click","keyup",4,"ngIf"],["id","dots"],[3,"clickDot","id","currentImage","images","dotsConfig"],["role","button",1,"nav-left",3,"click","keyup","tabIndex"],["aria-hidden","true",3,"title"],[3,"media","srcset"],["ksDescription","",1,"description",3,"description","innerHTML"],["role","button",1,"nav-right",3,"click","keyup","tabIndex"]],template:function(i,t){if(i&1){let a=z();Qe(),f(0,"main",1),b(1,Si,1,0,"ng-template",null,0,le)(3,Gi,10,31,"figure",2),p(),f(4,"ks-carousel-previews",3),h("clickPreview",function(d){return w(a),M(t.onClickPreview(d))}),p()}i&2&&(l("title",t.accessibilityConfig==null?null:t.accessibilityConfig.carouselContainerTitle)("maxSizeConfig",se(7,Ni,t.carouselConfig==null?null:t.carouselConfig.maxWidth)),v("aria-label",t.accessibilityConfig==null?null:t.accessibilityConfig.carouselContainerAriaLabel),c(3),l("ngIf",t.currentImage&&t.currentImage.modal),c(),l("id",t.id)("images",t.images)("currentImage",t.currentImage))},dependencies:[Q,J,Se,kt,yi,ue,Ii,zt,Me],styles:["[_nghost-%COMP%]{display:flex;flex-direction:column;justify-content:flex-start;align-items:center}#carousel-container[_ngcontent-%COMP%]{display:flex;flex-direction:row;align-items:center;justify-content:space-between;width:100%}#carousel-container[_ngcontent-%COMP%] > .current-figure[_ngcontent-%COMP%]{animation:fadein-visible .8s;text-align:center;margin:0;position:relative}#carousel-container[_ngcontent-%COMP%] > .current-figure[_ngcontent-%COMP%]   .nav[_ngcontent-%COMP%], #carousel-container[_ngcontent-%COMP%] > .current-figure[_ngcontent-%COMP%] > .nav-right[_ngcontent-%COMP%], #carousel-container[_ngcontent-%COMP%] > .current-figure[_ngcontent-%COMP%] > .nav-left[_ngcontent-%COMP%]{animation:animatezoom 1s;cursor:pointer;transition:all .5s;top:50%;position:absolute}#carousel-container[_ngcontent-%COMP%] > .current-figure[_ngcontent-%COMP%]   .nav[_ngcontent-%COMP%]:hover, #carousel-container[_ngcontent-%COMP%] > .current-figure[_ngcontent-%COMP%] > .nav-right[_ngcontent-%COMP%]:hover, #carousel-container[_ngcontent-%COMP%] > .current-figure[_ngcontent-%COMP%] > .nav-left[_ngcontent-%COMP%]:hover{transform:scale(1.1)}#carousel-container[_ngcontent-%COMP%] > .current-figure[_ngcontent-%COMP%] > .nav-left[_ngcontent-%COMP%]{left:5px}#carousel-container[_ngcontent-%COMP%] > .current-figure[_ngcontent-%COMP%] > .nav-right[_ngcontent-%COMP%]{right:5px}#carousel-container[_ngcontent-%COMP%] > .current-figure[_ngcontent-%COMP%] > .current-image[_ngcontent-%COMP%]{display:block}#carousel-container[_ngcontent-%COMP%] > .current-figure[_ngcontent-%COMP%] > .current-image[_ngcontent-%COMP%] > img[_ngcontent-%COMP%]{width:100%;height:auto;display:block}#carousel-container[_ngcontent-%COMP%] > .current-figure[_ngcontent-%COMP%] > figcaption[_ngcontent-%COMP%]{padding:10px;position:absolute;bottom:0;left:0;right:0}#carousel-container[_ngcontent-%COMP%] > .current-figure[_ngcontent-%COMP%] > figcaption[_ngcontent-%COMP%]   .description[_ngcontent-%COMP%]{font-weight:700;text-align:center}#carousel-container[_ngcontent-%COMP%] > .current-figure[_ngcontent-%COMP%] > #dots[_ngcontent-%COMP%]{position:absolute;bottom:20px;width:100%}",".arrow-image[_ngcontent-%COMP%], .right-arrow-image[_ngcontent-%COMP%], .left-arrow-image[_ngcontent-%COMP%], .empty-arrow-image[_ngcontent-%COMP%]{width:30px;height:30px;background-size:30px}.empty-arrow-image[_ngcontent-%COMP%]{background:black;opacity:0}.left-arrow-image[_ngcontent-%COMP%]{background-image:url(data:image/svg+xml;base64,PD94bWwgdmVyc2lvbj0iMS4wIiBlbmNvZGluZz0iaXNvLTg4NTktMSI/PjxzdmcgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIiB4bWxuczp4bGluaz0iaHR0cDovL3d3dy53My5vcmcvMTk5OS94bGluayIgdmVyc2lvbj0iMS4xIiBpZD0iQ2FwYV8xIiB4PSIwcHgiIHk9IjBweCIgdmlld0JveD0iMCAwIDQ3Ny4xNzUgNDc3LjE3NSIgc3R5bGU9ImVuYWJsZS1iYWNrZ3JvdW5kOm5ldyAwIDAgNDc3LjE3NSA0NzcuMTc1OyIgeG1sOnNwYWNlPSJwcmVzZXJ2ZSIgd2lkdGg9IjUxMnB4IiBoZWlnaHQ9IjUxMnB4Ij48Zz48cGF0aCBkPSJNMTQ1LjE4OCwyMzguNTc1bDIxNS41LTIxNS41YzUuMy01LjMsNS4zLTEzLjgsMC0xOS4xcy0xMy44LTUuMy0xOS4xLDBsLTIyNS4xLDIyNS4xYy01LjMsNS4zLTUuMywxMy44LDAsMTkuMWwyMjUuMSwyMjUgICBjMi42LDIuNiw2LjEsNCw5LjUsNHM2LjktMS4zLDkuNS00YzUuMy01LjMsNS4zLTEzLjgsMC0xOS4xTDE0NS4xODgsMjM4LjU3NXoiIGZpbGw9IiNGRkZGRkYiLz48L2c+PGc+PC9nPjxnPjwvZz48Zz48L2c+PGc+PC9nPjxnPjwvZz48Zz48L2c+PGc+PC9nPjxnPjwvZz48Zz48L2c+PGc+PC9nPjxnPjwvZz48Zz48L2c+PGc+PC9nPjxnPjwvZz48Zz48L2c+PC9zdmc+);opacity:.8;transition:all .5s}.left-arrow-image[_ngcontent-%COMP%]:hover{transform:scale(1.2)}.right-arrow-image[_ngcontent-%COMP%]{background-image:url(data:image/svg+xml;base64,PD94bWwgdmVyc2lvbj0iMS4wIiBlbmNvZGluZz0iaXNvLTg4NTktMSI/PjxzdmcgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIiB4bWxuczp4bGluaz0iaHR0cDovL3d3dy53My5vcmcvMTk5OS94bGluayIgdmVyc2lvbj0iMS4xIiBpZD0iQ2FwYV8xIiB4PSIwcHgiIHk9IjBweCIgdmlld0JveD0iMCAwIDQ3Ny4xNzUgNDc3LjE3NSIgc3R5bGU9ImVuYWJsZS1iYWNrZ3JvdW5kOm5ldyAwIDAgNDc3LjE3NSA0NzcuMTc1OyIgeG1sOnNwYWNlPSJwcmVzZXJ2ZSIgd2lkdGg9IjUxMnB4IiBoZWlnaHQ9IjUxMnB4Ij48Zz48cGF0aCBkPSJNMzYwLjczMSwyMjkuMDc1bC0yMjUuMS0yMjUuMWMtNS4zLTUuMy0xMy44LTUuMy0xOS4xLDBzLTUuMywxMy44LDAsMTkuMWwyMTUuNSwyMTUuNWwtMjE1LjUsMjE1LjUgICBjLTUuMyw1LjMtNS4zLDEzLjgsMCwxOS4xYzIuNiwyLjYsNi4xLDQsOS41LDRjMy40LDAsNi45LTEuMyw5LjUtNGwyMjUuMS0yMjUuMUMzNjUuOTMxLDI0Mi44NzUsMzY1LjkzMSwyMzQuMjc1LDM2MC43MzEsMjI5LjA3NXogICAiIGZpbGw9IiNGRkZGRkYiLz48L2c+PGc+PC9nPjxnPjwvZz48Zz48L2c+PGc+PC9nPjxnPjwvZz48Zz48L2c+PGc+PC9nPjxnPjwvZz48Zz48L2c+PGc+PC9nPjxnPjwvZz48Zz48L2c+PGc+PC9nPjxnPjwvZz48Zz48L2c+PC9zdmc+);opacity:.8;transition:all .5s}.right-arrow-image[_ngcontent-%COMP%]:hover{transform:scale(1.2)}"],changeDetection:0});let r=o;return r})(),de={height:"auto",width:"30px"},Tt={className:"close-image",size:de,type:O.CLOSE,title:"Close this modal image gallery",ariaLabel:"Close this modal image gallery"},Et={className:"download-image",size:de,type:O.DOWNLOAD,title:"Download the current image",ariaLabel:"Download the current image"},At={className:"ext-url-image",size:de,type:O.EXTURL,title:"Navigate the current image",ariaLabel:"Navigate the current image"},Gt={className:"delete-image",size:de,type:O.DELETE,title:"Delete the current image",ariaLabel:"Delete the current image"},Zt={className:"fullscreen-image",size:de,type:O.FULLSCREEN,title:"Switch to full-screen",ariaLabel:"Switch to full-screen"},Bt=(()=>{let o=class o extends ee{constructor(e){super(),this.configService=e,this.refresh=new I,this.delete=new I,this.navigate=new I,this.download=new I,this.closeButton=new I,this.fullscreen=new I,this.customEmit=new I,this.defaultButtonsDefault=[Tt],this.simpleButtonsDefault=[Et,...this.defaultButtonsDefault],this.advancedButtonsDefault=[At,...this.simpleButtonsDefault],this.fullButtonsDefault=[Zt,Gt,...this.advancedButtonsDefault]}ngOnInit(){let e=this.configService.getConfig(this.id);if(!e||!e.buttonsConfig)throw new Error("Internal library error - libConfig and buttonsConfig must be defined");switch(this.buttonsConfig=e.buttonsConfig,this.buttonsConfig.strategy){case X.SIMPLE:this.buttons=this.addButtonIds(this.simpleButtonsDefault);break;case X.ADVANCED:this.buttons=this.addButtonIds(this.advancedButtonsDefault);break;case X.FULL:this.buttons=this.addButtonIds(this.fullButtonsDefault);break;case X.CUSTOM:this.buttons=this.addButtonIds(this.validateCustomButtons(this.buttonsConfig.buttons));break;case X.DEFAULT:default:this.buttons=this.addButtonIds(this.defaultButtonsDefault);break}}onEvent(e,i,t=m.CLICK){if(!i)return;let a={button:e,image:null,action:t,galleryId:this.id};switch(e.type){case O.DELETE:this.triggerOnMouseAndKeyboard(this.delete,i,a);break;case O.EXTURL:if(!this.currentImage||!this.currentImage.modal||!this.currentImage.modal.extUrl)return;this.triggerOnMouseAndKeyboard(this.navigate,i,a);break;case O.DOWNLOAD:this.triggerOnMouseAndKeyboard(this.download,i,a);break;case O.CLOSE:this.triggerOnMouseAndKeyboard(this.closeButton,i,a);break;case O.CUSTOM:this.triggerOnMouseAndKeyboard(this.customEmit,i,a);break;case O.FULLSCREEN:this.triggerOnMouseAndKeyboard(this.fullscreen,i,a);break;default:throw new Error("Unknown button's type into ButtonConfig")}}trackById(e,i){return i?i.id:void 0}triggerOnMouseAndKeyboard(e,i,t){if(!e)throw new Error("UpperButtonsComponent unknown emitter in triggerOnMouseAndKeyboard");super.handleImageEvent(i)===T&&e.emit(t)}addButtonIds(e){return e.map((i,t)=>Object.assign(i,{id:e.length-1-t}))}validateCustomButtons(e=[]){return e.forEach(i=>{if(Mt.findIndex(a=>a===i.type)===-1)throw new Error("Unknown ButtonType. For custom types use ButtonType.CUSTOM")}),e}};o.\u0275fac=function(i){return new(i||o)(C(U))},o.\u0275cmp=G({type:o,selectors:[["ks-upper-buttons"]],inputs:{id:"id",currentImage:"currentImage"},outputs:{refresh:"refresh",delete:"delete",navigate:"navigate",download:"download",closeButton:"closeButton",fullscreen:"fullscreen",customEmit:"customEmit"},features:[W],decls:2,vars:1,consts:[[1,"buttons-container"],[4,"ngIf"],["class","upper-button","ksSize","","role","button",3,"sizeConfig","ngStyle","tabIndex","click","keyup",4,"ngFor","ngForOf","ngForTrackBy"],["ksSize","","role","button",1,"upper-button",3,"click","keyup","sizeConfig","ngStyle","tabIndex"],["aria-hidden","true",3,"title"]],template:function(i,t){i&1&&(f(0,"header",0),b(1,Ui,2,2,"ng-container",1),p()),i&2&&(c(),l("ngIf",!t.buttonsConfig||(t.buttonsConfig==null?null:t.buttonsConfig.visible)))},dependencies:[Q,J,ni,ue],styles:[".buttons-container[_ngcontent-%COMP%]{display:flex;flex-direction:row;justify-content:flex-end}.buttons-container[_ngcontent-%COMP%] > .upper-button[_ngcontent-%COMP%]{align-self:center;margin-right:30px;margin-top:28px;font-size:50px;text-decoration:none;cursor:pointer;animation:_ngcontent-%COMP%_animatezoom .6s;color:#fff}@keyframes _ngcontent-%COMP%_animatezoom{0%{transform:scale(0)}to{transform:scale(1)}}.base-btn[_ngcontent-%COMP%], .copy[_ngcontent-%COMP%], .refresh-image[_ngcontent-%COMP%], .close-image[_ngcontent-%COMP%], .download-image[_ngcontent-%COMP%], .ext-url-image[_ngcontent-%COMP%], .delete-image[_ngcontent-%COMP%], .fullscreen-image[_ngcontent-%COMP%], .rotate-image[_ngcontent-%COMP%]{width:30px;height:30px;background-size:30px;opacity:.8;transition:all .5s}.base-btn[_ngcontent-%COMP%]:hover, .copy[_ngcontent-%COMP%]:hover, .refresh-image[_ngcontent-%COMP%]:hover, .close-image[_ngcontent-%COMP%]:hover, .download-image[_ngcontent-%COMP%]:hover, .ext-url-image[_ngcontent-%COMP%]:hover, .delete-image[_ngcontent-%COMP%]:hover, .fullscreen-image[_ngcontent-%COMP%]:hover, .rotate-image[_ngcontent-%COMP%]:hover{transform:scale(1.2)}.rotate-image[_ngcontent-%COMP%]{background-image:url(data:image/svg+xml;base64,PD94bWwgdmVyc2lvbj0iMS4wIiBlbmNvZGluZz0iaXNvLTg4NTktMSI/PjxzdmcgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIiB4bWxuczp4bGluaz0iaHR0cDovL3d3dy53My5vcmcvMTk5OS94bGluayIgdmVyc2lvbj0iMS4xIiBpZD0iQ2FwYV8xIiB4PSIwcHgiIHk9IjBweCIgdmlld0JveD0iMCAwIDY0IDY0IiBzdHlsZT0iZW5hYmxlLWJhY2tncm91bmQ6bmV3IDAgMCA2NCA2NDsiIHhtbDpzcGFjZT0icHJlc2VydmUiIHdpZHRoPSI1MTJweCIgaGVpZ2h0PSI1MTJweCI+PGc+PGc+PHBhdGggZD0iTTMzLDJjNy43NDYsMCwxNS4wMjgsMy4wMTcsMjAuNTA1LDguNDk0YzEwLjEzOCwxMC4xMzcsMTEuMzEsMjYuMzk2LDIuNzQsMzcuODQ5TDUyLDUyLjU4OVY0NGgtMnYxMWwxLDFoMTF2LTJoLTguNTgyICAgIGw0LjI5Mi00LjI5M2wwLjA5Mi0wLjEwNmM5LjIxMS0xMi4yNDcsNy45NzItMjkuNjY3LTIuODgzLTQwLjUyMUM0OS4wNjQsMy4yMjUsNDEuMjgsMCwzMywwVjJ6IiBmaWxsPSIjRkZGRkZGIi8+PHBhdGggZD0iTTcuNzU1LDE1LjY1N0wxMiwxMS40MTFWMjBoMlY5bC0xLTFIMnYyaDguNTgyTDYuMjksMTQuMjkzbC0wLjA5MiwwLjEwNkMtMy4wMTMsMjYuNjQ2LTEuNzczLDQ0LjA2Niw5LjA4MSw1NC45MiAgICBDMTQuOTM2LDYwLjc3NSwyMi43Miw2NCwzMSw2NHYtMmMtNy43NDYsMC0xNS4wMjgtMy4wMTctMjAuNTA1LTguNDk0QzAuMzU3LDQzLjM2OS0wLjgxNCwyNy4xMSw3Ljc1NSwxNS42NTd6IiBmaWxsPSIjRkZGRkZGIi8+PC9nPjwvZz48Zz48L2c+PGc+PC9nPjxnPjwvZz48Zz48L2c+PGc+PC9nPjxnPjwvZz48Zz48L2c+PGc+PC9nPjxnPjwvZz48Zz48L2c+PGc+PC9nPjxnPjwvZz48Zz48L2c+PGc+PC9nPjxnPjwvZz48L3N2Zz4=)}.fullscreen-image[_ngcontent-%COMP%]{background-image:url(data:image/svg+xml;base64,PD94bWwgdmVyc2lvbj0iMS4wIiBlbmNvZGluZz0iaXNvLTg4NTktMSI/PjwhRE9DVFlQRSBzdmcgUFVCTElDICItLy9XM0MvL0RURCBTVkcgMS4xLy9FTiIgImh0dHA6Ly93d3cudzMub3JnL0dyYXBoaWNzL1NWRy8xLjEvRFREL3N2ZzExLmR0ZCI+PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHhtbG5zOnhsaW5rPSJodHRwOi8vd3d3LnczLm9yZy8xOTk5L3hsaW5rIiB2ZXJzaW9uPSIxLjEiIGlkPSJDYXBhXzEiIHg9IjBweCIgeT0iMHB4IiB2aWV3Qm94PSIwIDAgNTMgNTMiIHN0eWxlPSJlbmFibGUtYmFja2dyb3VuZDpuZXcgMCAwIDUzIDUzOyIgeG1sOnNwYWNlPSJwcmVzZXJ2ZSIgd2lkdGg9IjUxMnB4IiBoZWlnaHQ9IjUxMnB4Ij48Zz48cGF0aCBkPSJNNTIuOTIzLDAuNjE4Yy0wLjEwMS0wLjI0NC0wLjI5Ni0wLjQzOS0wLjU0MS0wLjU0MUM1Mi4yNiwwLjAyNyw1Mi4xMywwLDUyLDBINDBjLTAuNTUyLDAtMSwwLjQ0OC0xLDFzMC40NDgsMSwxLDFoOS41ODYgICBMMzMuMjkzLDE4LjI5M2MtMC4zOTEsMC4zOTEtMC4zOTEsMS4wMjMsMCwxLjQxNEMzMy40ODgsMTkuOTAyLDMzLjc0NCwyMCwzNCwyMHMwLjUxMi0wLjA5OCwwLjcwNy0wLjI5M0w1MSwzLjQxNFYxMyAgIGMwLDAuNTUyLDAuNDQ4LDEsMSwxczEtMC40NDgsMS0xVjFDNTMsMC44Nyw1Mi45NzMsMC43NCw1Mi45MjMsMC42MTh6IiBmaWxsPSIjRkZGRkZGIi8+PHBhdGggZD0iTTE4LjI5MywzMy4yOTNMMiw0OS41ODZWNDBjMC0wLjU1Mi0wLjQ0OC0xLTEtMXMtMSwwLjQ0OC0xLDF2MTJjMCwwLjEzLDAuMDI3LDAuMjYsMC4wNzcsMC4zODIgICBjMC4xMDEsMC4yNDQsMC4yOTYsMC40MzksMC41NDEsMC41NDFDMC43NCw1Mi45NzMsMC44Nyw1MywxLDUzaDEyYzAuNTUyLDAsMS0wLjQ0OCwxLTFzLTAuNDQ4LTEtMS0xSDMuNDE0bDE2LjI5My0xNi4yOTMgICBjMC4zOTEtMC4zOTEsMC4zOTEtMS4wMjMsMC0xLjQxNFMxOC42ODQsMzIuOTAyLDE4LjI5MywzMy4yOTN6IiBmaWxsPSIjRkZGRkZGIi8+PHBhdGggZD0iTTEsMTRjMC41NTIsMCwxLTAuNDQ4LDEtMVYzLjQxNGwxNi4yOTIsMTYuMjkyYzAuMTk1LDAuMTk1LDAuNDUxLDAuMjkzLDAuNzA3LDAuMjkzczAuNTEyLTAuMDk4LDAuNzA3LTAuMjkzICAgYzAuMzkxLTAuMzkxLDAuMzkxLTEuMDIzLDAtMS40MTRMMy40MTQsMkgxM2MwLjU1MiwwLDEtMC40NDgsMS0xcy0wLjQ0OC0xLTEtMUgxQzAuODcsMCwwLjc0LDAuMDI3LDAuNjE4LDAuMDc3ICAgQzAuMzczLDAuMTc5LDAuMTc5LDAuMzczLDAuMDc3LDAuNjE4QzAuMDI3LDAuNzQsMCwwLjg3LDAsMXYxMkMwLDEzLjU1MiwwLjQ0OCwxNCwxLDE0eiIgZmlsbD0iI0ZGRkZGRiIvPjxwYXRoIGQ9Ik01MiwzOWMtMC41NTIsMC0xLDAuNDQ4LTEsMXY5LjU4NkwzNC43MDcsMzMuMjkyYy0wLjM5MS0wLjM5MS0xLjAyMy0wLjM5MS0xLjQxNCwwcy0wLjM5MSwxLjAyMywwLDEuNDE0TDQ5LjU4Niw1MUg0MCAgIGMtMC41NTIsMC0xLDAuNDQ4LTEsMXMwLjQ0OCwxLDEsMWgxMmMwLjEzLDAsMC4yNi0wLjAyNywwLjM4Mi0wLjA3N2MwLjI0NC0wLjEwMSwwLjQzOS0wLjI5NiwwLjU0MS0wLjU0MSAgIEM1Mi45NzMsNTIuMjYsNTMsNTIuMTMsNTMsNTJWNDBDNTMsMzkuNDQ4LDUyLjU1MiwzOSw1MiwzOXoiIGZpbGw9IiNGRkZGRkYiLz48L2c+PGc+PC9nPjxnPjwvZz48Zz48L2c+PGc+PC9nPjxnPjwvZz48Zz48L2c+PGc+PC9nPjxnPjwvZz48Zz48L2c+PGc+PC9nPjxnPjwvZz48Zz48L2c+PGc+PC9nPjxnPjwvZz48Zz48L2c+PC9zdmc+)}.delete-image[_ngcontent-%COMP%]{background-image:url(data:image/svg+xml;base64,PD94bWwgdmVyc2lvbj0iMS4wIiBlbmNvZGluZz0iaXNvLTg4NTktMSI/PjxzdmcgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIiB4bWxuczp4bGluaz0iaHR0cDovL3d3dy53My5vcmcvMTk5OS94bGluayIgdmVyc2lvbj0iMS4xIiBpZD0iQ2FwYV8xIiB4PSIwcHgiIHk9IjBweCIgdmlld0JveD0iMCAwIDQ4Ni40IDQ4Ni40IiBzdHlsZT0iZW5hYmxlLWJhY2tncm91bmQ6bmV3IDAgMCA0ODYuNCA0ODYuNDsiIHhtbDpzcGFjZT0icHJlc2VydmUiIHdpZHRoPSI1MTJweCIgaGVpZ2h0PSI1MTJweCI+PGc+PGc+PHBhdGggZD0iTTQ0Niw3MEgzNDQuOFY1My41YzAtMjkuNS0yNC01My41LTUzLjUtNTMuNWgtOTYuMmMtMjkuNSwwLTUzLjUsMjQtNTMuNSw1My41VjcwSDQwLjRjLTcuNSwwLTEzLjUsNi0xMy41LDEzLjUgICAgUzMyLjksOTcsNDAuNCw5N2gyNC40djMxNy4yYzAsMzkuOCwzMi40LDcyLjIsNzIuMiw3Mi4yaDIxMi40YzM5LjgsMCw3Mi4yLTMyLjQsNzIuMi03Mi4yVjk3SDQ0NmM3LjUsMCwxMy41LTYsMTMuNS0xMy41ICAgIFM0NTMuNSw3MCw0NDYsNzB6IE0xNjguNiw1My41YzAtMTQuNiwxMS45LTI2LjUsMjYuNS0yNi41aDk2LjJjMTQuNiwwLDI2LjUsMTEuOSwyNi41LDI2LjVWNzBIMTY4LjZWNTMuNXogTTM5NC42LDQxNC4yICAgIGMwLDI0LjktMjAuMyw0NS4yLTQ1LjIsNDUuMkgxMzdjLTI0LjksMC00NS4yLTIwLjMtNDUuMi00NS4yVjk3aDMwMi45djMxNy4ySDM5NC42eiIgZmlsbD0iI0ZGRkZGRiIvPjxwYXRoIGQ9Ik0yNDMuMiw0MTFjNy41LDAsMTMuNS02LDEzLjUtMTMuNVYxNTguOWMwLTcuNS02LTEzLjUtMTMuNS0xMy41cy0xMy41LDYtMTMuNSwxMy41djIzOC41ICAgIEMyMjkuNyw0MDQuOSwyMzUuNyw0MTEsMjQzLjIsNDExeiIgZmlsbD0iI0ZGRkZGRiIvPjxwYXRoIGQ9Ik0xNTUuMSwzOTYuMWM3LjUsMCwxMy41LTYsMTMuNS0xMy41VjE3My43YzAtNy41LTYtMTMuNS0xMy41LTEzLjVzLTEzLjUsNi0xMy41LDEzLjV2MjA4LjkgICAgQzE0MS42LDM5MC4xLDE0Ny43LDM5Ni4xLDE1NS4xLDM5Ni4xeiIgZmlsbD0iI0ZGRkZGRiIvPjxwYXRoIGQ9Ik0zMzEuMywzOTYuMWM3LjUsMCwxMy41LTYsMTMuNS0xMy41VjE3My43YzAtNy41LTYtMTMuNS0xMy41LTEzLjVzLTEzLjUsNi0xMy41LDEzLjV2MjA4LjkgICAgQzMxNy44LDM5MC4xLDMyMy44LDM5Ni4xLDMzMS4zLDM5Ni4xeiIgZmlsbD0iI0ZGRkZGRiIvPjwvZz48L2c+PGc+PC9nPjxnPjwvZz48Zz48L2c+PGc+PC9nPjxnPjwvZz48Zz48L2c+PGc+PC9nPjxnPjwvZz48Zz48L2c+PGc+PC9nPjxnPjwvZz48Zz48L2c+PGc+PC9nPjxnPjwvZz48Zz48L2c+PC9zdmc+)}.ext-url-image[_ngcontent-%COMP%]{background-image:url(data:image/svg+xml;base64,PD94bWwgdmVyc2lvbj0iMS4wIiBlbmNvZGluZz0iaXNvLTg4NTktMSI/PjxzdmcgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIiB4bWxuczp4bGluaz0iaHR0cDovL3d3dy53My5vcmcvMTk5OS94bGluayIgdmVyc2lvbj0iMS4xIiBpZD0iQ2FwYV8xIiB4PSIwcHgiIHk9IjBweCIgdmlld0JveD0iMCAwIDUxMiA1MTIiIHN0eWxlPSJlbmFibGUtYmFja2dyb3VuZDpuZXcgMCAwIDUxMiA1MTI7IiB4bWw6c3BhY2U9InByZXNlcnZlIiB3aWR0aD0iNTEycHgiIGhlaWdodD0iNTEycHgiPjxnPjxnPjxnPjxwYXRoIGQ9Ik00ODAsMjg4djExMmMwLDQ0LjE4My0zNS44MTcsODAtODAsODBIMTEyYy00NC4xODMsMC04MC0zNS44MTctODAtODBWMTEyYzAtNDQuMTgzLDM1LjgxNy04MCw4MC04MGg5NlYwaC05NiAgICAgQzUwLjE0NCwwLDAsNTAuMTQ0LDAsMTEydjI4OGMwLDYxLjg1Niw1MC4xNDQsMTEyLDExMiwxMTJoMjg4YzYxLjg1NiwwLDExMi01MC4xNDQsMTEyLTExMlYyODhINDgweiIgZmlsbD0iI0ZGRkZGRiIvPjxwYXRoIGQ9Ik0xNzYsNDE2aDMyVjI4OGMwLTEyNS43NiwxMDcuNTItMTI4LDExMi0xMjhoMTA1LjQ0bC04NC42NCw4NC42NGwyMi41NiwyMi41NmwxMTItMTEyYzYuMjA0LTYuMjQxLDYuMjA0LTE2LjMxOSwwLTIyLjU2ICAgICBsLTExMi0xMTJsLTIyLjcyLDIyLjcybDg0LjgsODQuNjRIMzIwYy0xLjQ0LDAtMTQ0LDEuNzYtMTQ0LDE2MFY0MTZ6IiBmaWxsPSIjRkZGRkZGIi8+PC9nPjwvZz48L2c+PGc+PC9nPjxnPjwvZz48Zz48L2c+PGc+PC9nPjxnPjwvZz48Zz48L2c+PGc+PC9nPjxnPjwvZz48Zz48L2c+PGc+PC9nPjxnPjwvZz48Zz48L2c+PGc+PC9nPjxnPjwvZz48Zz48L2c+PC9zdmc+)}.download-image[_ngcontent-%COMP%]{background-image:url(data:image/svg+xml;base64,PD94bWwgdmVyc2lvbj0iMS4wIiBlbmNvZGluZz0iaXNvLTg4NTktMSI/PjxzdmcgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIiB4bWxuczp4bGluaz0iaHR0cDovL3d3dy53My5vcmcvMTk5OS94bGluayIgdmVyc2lvbj0iMS4xIiBpZD0iQ2FwYV8xIiB4PSIwcHgiIHk9IjBweCIgdmlld0JveD0iMCAwIDQ3MS4yIDQ3MS4yIiBzdHlsZT0iZW5hYmxlLWJhY2tncm91bmQ6bmV3IDAgMCA0NzEuMiA0NzEuMjsiIHhtbDpzcGFjZT0icHJlc2VydmUiIHdpZHRoPSI1MTJweCIgaGVpZ2h0PSI1MTJweCI+PGc+PGc+PHBhdGggZD0iTTQ1Ny43LDIzMC4xNWMtNy41LDAtMTMuNSw2LTEzLjUsMTMuNXYxMjIuOGMwLDMzLjQtMjcuMiw2MC41LTYwLjUsNjAuNUg4Ny41Yy0zMy40LDAtNjAuNS0yNy4yLTYwLjUtNjAuNXYtMTI0LjggICAgYzAtNy41LTYtMTMuNS0xMy41LTEzLjVzLTEzLjUsNi0xMy41LDEzLjV2MTI0LjhjMCw0OC4zLDM5LjMsODcuNSw4Ny41LDg3LjVoMjk2LjJjNDguMywwLDg3LjUtMzkuMyw4Ny41LTg3LjV2LTEyMi44ICAgIEM0NzEuMiwyMzYuMjUsNDY1LjIsMjMwLjE1LDQ1Ny43LDIzMC4xNXoiIGZpbGw9IiNGRkZGRkYiLz48cGF0aCBkPSJNMjI2LjEsMzQ2Ljc1YzIuNiwyLjYsNi4xLDQsOS41LDRzNi45LTEuMyw5LjUtNGw4NS44LTg1LjhjNS4zLTUuMyw1LjMtMTMuOCwwLTE5LjFjLTUuMy01LjMtMTMuOC01LjMtMTkuMSwwbC02Mi43LDYyLjggICAgVjMwLjc1YzAtNy41LTYtMTMuNS0xMy41LTEzLjVzLTEzLjUsNi0xMy41LDEzLjV2MjczLjlsLTYyLjgtNjIuOGMtNS4zLTUuMy0xMy44LTUuMy0xOS4xLDBjLTUuMyw1LjMtNS4zLDEzLjgsMCwxOS4xICAgIEwyMjYuMSwzNDYuNzV6IiBmaWxsPSIjRkZGRkZGIi8+PC9nPjwvZz48Zz48L2c+PGc+PC9nPjxnPjwvZz48Zz48L2c+PGc+PC9nPjxnPjwvZz48Zz48L2c+PGc+PC9nPjxnPjwvZz48Zz48L2c+PGc+PC9nPjxnPjwvZz48Zz48L2c+PGc+PC9nPjxnPjwvZz48L3N2Zz4=)}.close-image[_ngcontent-%COMP%]{background-image:url(data:image/svg+xml;base64,PD94bWwgdmVyc2lvbj0iMS4wIiBlbmNvZGluZz0iaXNvLTg4NTktMSI/PjxzdmcgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIiB4bWxuczp4bGluaz0iaHR0cDovL3d3dy53My5vcmcvMTk5OS94bGluayIgdmVyc2lvbj0iMS4xIiBpZD0iQ2FwYV8xIiB4PSIwcHgiIHk9IjBweCIgdmlld0JveD0iMCAwIDQ3NS4yIDQ3NS4yIiBzdHlsZT0iZW5hYmxlLWJhY2tncm91bmQ6bmV3IDAgMCA0NzUuMiA0NzUuMjsiIHhtbDpzcGFjZT0icHJlc2VydmUiIHdpZHRoPSI1MTJweCIgaGVpZ2h0PSI1MTJweCI+PGc+PGc+PHBhdGggZD0iTTQwNS42LDY5LjZDMzYwLjcsMjQuNywzMDEuMSwwLDIzNy42LDBzLTEyMy4xLDI0LjctMTY4LDY5LjZTMCwxNzQuMSwwLDIzNy42czI0LjcsMTIzLjEsNjkuNiwxNjhzMTA0LjUsNjkuNiwxNjgsNjkuNiAgICBzMTIzLjEtMjQuNywxNjgtNjkuNnM2OS42LTEwNC41LDY5LjYtMTY4UzQ1MC41LDExNC41LDQwNS42LDY5LjZ6IE0zODYuNSwzODYuNWMtMzkuOCwzOS44LTkyLjcsNjEuNy0xNDguOSw2MS43ICAgIHMtMTA5LjEtMjEuOS0xNDguOS02MS43Yy04Mi4xLTgyLjEtODIuMS0yMTUuNywwLTI5Ny44QzEyOC41LDQ4LjksMTgxLjQsMjcsMjM3LjYsMjdzMTA5LjEsMjEuOSwxNDguOSw2MS43ICAgIEM0NjguNiwxNzAuOCw0NjguNiwzMDQuNCwzODYuNSwzODYuNXoiIGZpbGw9IiNGRkZGRkYiLz48cGF0aCBkPSJNMzQyLjMsMTMyLjljLTUuMy01LjMtMTMuOC01LjMtMTkuMSwwbC04NS42LDg1LjZMMTUyLDEzMi45Yy01LjMtNS4zLTEzLjgtNS4zLTE5LjEsMGMtNS4zLDUuMy01LjMsMTMuOCwwLDE5LjEgICAgbDg1LjYsODUuNmwtODUuNiw4NS42Yy01LjMsNS4zLTUuMywxMy44LDAsMTkuMWMyLjYsMi42LDYuMSw0LDkuNSw0czYuOS0xLjMsOS41LTRsODUuNi04NS42bDg1LjYsODUuNmMyLjYsMi42LDYuMSw0LDkuNSw0ICAgIGMzLjUsMCw2LjktMS4zLDkuNS00YzUuMy01LjMsNS4zLTEzLjgsMC0xOS4xbC04NS40LTg1LjZsODUuNi04NS42QzM0Ny42LDE0Ni43LDM0Ny42LDEzOC4yLDM0Mi4zLDEzMi45eiIgZmlsbD0iI0ZGRkZGRiIvPjwvZz48L2c+PGc+PC9nPjxnPjwvZz48Zz48L2c+PGc+PC9nPjxnPjwvZz48Zz48L2c+PGc+PC9nPjxnPjwvZz48Zz48L2c+PGc+PC9nPjxnPjwvZz48Zz48L2c+PGc+PC9nPjxnPjwvZz48Zz48L2c+PC9zdmc+)}.refresh-image[_ngcontent-%COMP%]{background-image:url(data:image/svg+xml;base64,PD94bWwgdmVyc2lvbj0iMS4wIiBlbmNvZGluZz0iaXNvLTg4NTktMSI/PjxzdmcgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIiB4bWxuczp4bGluaz0iaHR0cDovL3d3dy53My5vcmcvMTk5OS94bGluayIgdmVyc2lvbj0iMS4xIiBpZD0iQ2FwYV8xIiB4PSIwcHgiIHk9IjBweCIgdmlld0JveD0iMCAwIDQ4OS43MTEgNDg5LjcxMSIgc3R5bGU9ImVuYWJsZS1iYWNrZ3JvdW5kOm5ldyAwIDAgNDg5LjcxMSA0ODkuNzExOyIgeG1sOnNwYWNlPSJwcmVzZXJ2ZSIgd2lkdGg9IjUxMnB4IiBoZWlnaHQ9IjUxMnB4Ij48Zz48Zz48cGF0aCBkPSJNMTEyLjE1Niw5Ny4xMTFjNzIuMy02NS40LDE4MC41LTY2LjQsMjUzLjgtNi43bC01OC4xLDIuMmMtNy41LDAuMy0xMy4zLDYuNS0xMywxNGMwLjMsNy4zLDYuMywxMywxMy41LDEzICAgIGMwLjIsMCwwLjMsMCwwLjUsMGw4OS4yLTMuM2M3LjMtMC4zLDEzLTYuMiwxMy0xMy41di0xYzAtMC4yLDAtMC4zLDAtMC41di0wLjFsMCwwbC0zLjMtODguMmMtMC4zLTcuNS02LjYtMTMuMy0xNC0xMyAgICBjLTcuNSwwLjMtMTMuMyw2LjUtMTMsMTRsMi4xLDU1LjNjLTM2LjMtMjkuNy04MS00Ni45LTEyOC44LTQ5LjNjLTU5LjItMy0xMTYuMSwxNy4zLTE2MCw1Ny4xYy02MC40LDU0LjctODYsMTM3LjktNjYuOCwyMTcuMSAgICBjMS41LDYuMiw3LDEwLjMsMTMuMSwxMC4zYzEuMSwwLDIuMS0wLjEsMy4yLTAuNGM3LjItMS44LDExLjctOS4xLDkuOS0xNi4zQzM2LjY1NiwyMTguMjExLDU5LjA1NiwxNDUuMTExLDExMi4xNTYsOTcuMTExeiIgZmlsbD0iI0ZGRkZGRiIvPjxwYXRoIGQ9Ik00NjIuNDU2LDE5NS41MTFjLTEuOC03LjItOS4xLTExLjctMTYuMy05LjljLTcuMiwxLjgtMTEuNyw5LjEtOS45LDE2LjNjMTYuOSw2OS42LTUuNiwxNDIuNy01OC43LDE5MC43ICAgIGMtMzcuMywzMy43LTg0LjEsNTAuMy0xMzAuNyw1MC4zYy00NC41LDAtODguOS0xNS4xLTEyNC43LTQ0LjlsNTguOC01LjNjNy40LTAuNywxMi45LTcuMiwxMi4yLTE0LjdzLTcuMi0xMi45LTE0LjctMTIuMmwtODguOSw4ICAgIGMtNy40LDAuNy0xMi45LDcuMi0xMi4yLDE0LjdsOCw4OC45YzAuNiw3LDYuNSwxMi4zLDEzLjQsMTIuM2MwLjQsMCwwLjgsMCwxLjItMC4xYzcuNC0wLjcsMTIuOS03LjIsMTIuMi0xNC43bC00LjgtNTQuMSAgICBjMzYuMywyOS40LDgwLjgsNDYuNSwxMjguMyw0OC45YzMuOCwwLjIsNy42LDAuMywxMS4zLDAuM2M1NS4xLDAsMTA3LjUtMjAuMiwxNDguNy01Ny40ICAgIEM0NTYuMDU2LDM1Ny45MTEsNDgxLjY1NiwyNzQuODExLDQ2Mi40NTYsMTk1LjUxMXoiIGZpbGw9IiNGRkZGRkYiLz48L2c+PC9nPjxnPjwvZz48Zz48L2c+PGc+PC9nPjxnPjwvZz48Zz48L2c+PGc+PC9nPjxnPjwvZz48Zz48L2c+PGc+PC9nPjxnPjwvZz48Zz48L2c+PGc+PC9nPjxnPjwvZz48Zz48L2c+PGc+PC9nPjwvc3ZnPg==)}.copy[_ngcontent-%COMP%]{background-image:url(data:image/svg+xml;base64,PD94bWwgdmVyc2lvbj0iMS4wIiBlbmNvZGluZz0iaXNvLTg4NTktMSI/PjxzdmcgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIiB4bWxuczp4bGluaz0iaHR0cDovL3d3dy53My5vcmcvMTk5OS94bGluayIgdmVyc2lvbj0iMS4xIiBpZD0iQ2FwYV8xIiB4PSIwcHgiIHk9IjBweCIgdmlld0JveD0iMCAwIDQ4OC4zIDQ4OC4zIiBzdHlsZT0iZW5hYmxlLWJhY2tncm91bmQ6bmV3IDAgMCA0ODguMyA0ODguMzsiIHhtbDpzcGFjZT0icHJlc2VydmUiIHdpZHRoPSI1MTJweCIgaGVpZ2h0PSI1MTJweCI+PGc+PGc+PHBhdGggZD0iTTMxNC4yNSw4NS40aC0yMjdjLTIxLjMsMC0zOC42LDE3LjMtMzguNiwzOC42djMyNS43YzAsMjEuMywxNy4zLDM4LjYsMzguNiwzOC42aDIyN2MyMS4zLDAsMzguNi0xNy4zLDM4LjYtMzguNlYxMjQgICAgQzM1Mi43NSwxMDIuNywzMzUuNDUsODUuNCwzMTQuMjUsODUuNHogTTMyNS43NSw0NDkuNmMwLDYuNC01LjIsMTEuNi0xMS42LDExLjZoLTIyN2MtNi40LDAtMTEuNi01LjItMTEuNi0xMS42VjEyNCAgICBjMC02LjQsNS4yLTExLjYsMTEuNi0xMS42aDIyN2M2LjQsMCwxMS42LDUuMiwxMS42LDExLjZWNDQ5LjZ6IiBmaWxsPSIjRkZGRkZGIi8+PHBhdGggZD0iTTQwMS4wNSwwaC0yMjdjLTIxLjMsMC0zOC42LDE3LjMtMzguNiwzOC42YzAsNy41LDYsMTMuNSwxMy41LDEzLjVzMTMuNS02LDEzLjUtMTMuNWMwLTYuNCw1LjItMTEuNiwxMS42LTExLjZoMjI3ICAgIGM2LjQsMCwxMS42LDUuMiwxMS42LDExLjZ2MzI1LjdjMCw2LjQtNS4yLDExLjYtMTEuNiwxMS42Yy03LjUsMC0xMy41LDYtMTMuNSwxMy41czYsMTMuNSwxMy41LDEzLjVjMjEuMywwLDM4LjYtMTcuMywzOC42LTM4LjYgICAgVjM4LjZDNDM5LjY1LDE3LjMsNDIyLjM1LDAsNDAxLjA1LDB6IiBmaWxsPSIjRkZGRkZGIi8+PC9nPjwvZz48Zz48L2c+PGc+PC9nPjxnPjwvZz48Zz48L2c+PGc+PC9nPjxnPjwvZz48Zz48L2c+PGc+PC9nPjxnPjwvZz48Zz48L2c+PGc+PC9nPjxnPjwvZz48Zz48L2c+PGc+PC9nPjxnPjwvZz48L3N2Zz4=)}"],changeDetection:0});let r=o;return r})(),Ut=(()=>{let o=class o extends ee{constructor(e){super(),this.configService=e,this.clickPreview=new I,this.clickAction=m.CLICK,this.keyboardAction=m.KEYBOARD,this.previews=[],this.defaultPreviewSize=Ge}ngOnInit(){let e=this.configService.getConfig(this.id);if(!e)throw new Error("Internal library error - libConfig must be defined");this.accessibilityConfig=e.accessibilityConfig,this.slideConfig=e.slideConfig,this.previewConfig=e.previewConfig,this.initPreviews(this.currentImage,this.images)}isActive(e){return e?e.id===this.currentImage.id:!1}ngOnChanges(e){let i=e.currentImage?.currentValue??this.currentImage,t=e.images?.currentValue??this.images;this.previewConfig&&i&&t&&this.initPreviews(i,t)}onImageEvent(e,i,t=m.NORMAL){if(i?.stopPropagation(),!this.previewConfig||!this.previewConfig.clickable)return;let a=super.handleImageEvent(i);(a===T||a===H)&&this.clickPreview.emit(new E(this.id,t,y(e,this.images)))}onNavigationEvent(e,i,t=m.NORMAL){let a=super.handleNavigationEvent(e,i);a===T?this.next():a===H&&this.previous()}trackById(e,i){return i.id}displayLeftPreviewsArrow(){return this.previewConfig?.number!==void 0&&this.images&&this.previewConfig?.number>=this.images?.length?!1:this.previewConfig?.arrows&&this.start>0||!!this.slideConfig?.infinite}displayRightPreviewsArrow(){return this.previewConfig?.number!==void 0&&this.images&&this.previewConfig?.number>=this.images?.length?!1:this.previewConfig?.arrows&&this.images&&this.end<this.images.length||!!this.slideConfig?.infinite}initPreviews(e,i){this.setIndexesPreviews(e,i),this.previews=i.filter((t,a)=>a>=this.start&&a<this.end)}setIndexesPreviews(e,i){if(!this.previewConfig||!i||!e)throw new Error("Internal library error - previewConfig, currentImage and images must be defined");let t=this.previewConfig.number,a=y(e,i)-Math.floor(t/2);a<0&&(a=0);let s=a+t;s>i.length&&(a-=s-i.length,a<0&&(a=0),s=i.length),this.start=a,this.end=s}next(){if(!this.previewConfig)throw new Error("Internal library error - previewConfig must be defined");if(this.end>=this.images.length){if(!!this.slideConfig&&this.slideConfig.infinite===!1)return;this.start=0}else this.start++;this.end=this.start+Math.min(this.previewConfig.number,this.images.length),this.previews=this.images.filter((e,i)=>i>=this.start&&i<this.end)}previous(){if(!this.previewConfig)throw new Error("Internal library error - previewConfig must be defined");if(this.start<=0){if(!!this.slideConfig&&this.slideConfig.infinite===!1)return;this.end=this.images.length}else this.end--;this.start=this.end-Math.min(this.previewConfig.number,this.images.length),this.previews=this.images.filter((e,i)=>i>=this.start&&i<this.end)}};o.\u0275fac=function(i){return new(i||o)(C(U))},o.\u0275cmp=G({type:o,selectors:[["ks-previews"]],inputs:{id:"id",currentImage:"currentImage",images:"images",customTemplate:"customTemplate"},outputs:{clickPreview:"clickPreview"},features:[W,Z],decls:2,vars:5,consts:[["defaultTemplate",""],[1,"previews-container",3,"title"],[4,"ngIf"],["role","button",1,"nav-left",3,"click","keyup","tabIndex"],["aria-hidden","true",3,"title"],[4,"ngFor","ngForOf","ngForTrackBy"],["role","button",1,"nav-right",3,"click","keyup","tabIndex"],[3,"click","keyup"],[4,"ngTemplateOutlet","ngTemplateOutletContext"],["ksFallbackImage","","ksSize","","role","img",3,"class","loading","src","fallbackImg","sizeConfig","title","alt","tabIndex",4,"ngIf"],["ksFallbackImage","","ksSize","","role","img",3,"loading","src","fallbackImg","sizeConfig","title","alt","tabIndex"]],template:function(i,t){i&1&&(f(0,"nav",1),b(1,Wi,6,14,"ng-container",2),p()),i&2&&(Ve("mobile-visible",t.previewConfig==null?null:t.previewConfig.mobileVisible),l("title",t.accessibilityConfig==null?null:t.accessibilityConfig.previewsContainerTitle),v("aria-label",t.accessibilityConfig==null?null:t.accessibilityConfig.previewsContainerAriaLabel),c(),l("ngIf",t.previewConfig==null?null:t.previewConfig.visible))},dependencies:[Q,J,Se,ue,Me],styles:["@media only screen and (max-width: 767px),only screen and (max-device-width: 767px){.previews-container[_ngcontent-%COMP%]{display:none}.previews-container[_ngcontent-%COMP%] > .preview-image[_ngcontent-%COMP%]{display:none}.previews-container[_ngcontent-%COMP%] > .nav-left[_ngcontent-%COMP%]{display:none}.previews-container[_ngcontent-%COMP%] > .nav-right[_ngcontent-%COMP%]{display:none}.previews-container.mobile-visible[_ngcontent-%COMP%]{align-items:center;animation:_ngcontent-%COMP%_fadein-semi-visible08 .8s;display:flex;flex-direction:row;justify-content:center;margin-bottom:15px}.previews-container.mobile-visible[_ngcontent-%COMP%] > .nav-left[_ngcontent-%COMP%]{display:flex}.previews-container.mobile-visible[_ngcontent-%COMP%] > .nav-right[_ngcontent-%COMP%]{display:flex}.previews-container.mobile-visible[_ngcontent-%COMP%] > .preview-image[_ngcontent-%COMP%]{cursor:pointer;display:flex;margin-left:2px;margin-right:2px;opacity:.7;height:50px}.previews-container.mobile-visible[_ngcontent-%COMP%] > .preview-image.active[_ngcontent-%COMP%]{opacity:1}.previews-container.mobile-visible[_ngcontent-%COMP%] > .preview-image.unclickable[_ngcontent-%COMP%]{cursor:not-allowed}.previews-container.mobile-visible[_ngcontent-%COMP%] > .preview-image[_ngcontent-%COMP%]:hover{opacity:1;transition:all .5s ease;transition-property:opacity}}@media only screen and (min-device-width: 768px){.previews-container[_ngcontent-%COMP%]{align-items:center;animation:_ngcontent-%COMP%_fadein-semi-visible08 .8s;display:flex;flex-direction:row;justify-content:center;margin-bottom:15px}.previews-container[_ngcontent-%COMP%]   .preview-container[_ngcontent-%COMP%]{margin-left:2px;margin-right:2px;cursor:pointer}.previews-container[_ngcontent-%COMP%]   .preview-container.unclickable[_ngcontent-%COMP%]{cursor:not-allowed}.previews-container[_ngcontent-%COMP%]   .preview-container[_ngcontent-%COMP%]   .preview-image[_ngcontent-%COMP%]{opacity:.7;height:50px}.previews-container[_ngcontent-%COMP%]   .preview-container[_ngcontent-%COMP%]   .preview-image.active[_ngcontent-%COMP%]{opacity:1}.previews-container[_ngcontent-%COMP%]   .preview-container[_ngcontent-%COMP%]   .preview-image[_ngcontent-%COMP%]:hover{opacity:1;transition:all .5s ease;transition-property:opacity}.previews-container[_ngcontent-%COMP%]   .nav[_ngcontent-%COMP%], .previews-container[_ngcontent-%COMP%] > .nav-right[_ngcontent-%COMP%], .previews-container[_ngcontent-%COMP%] > .nav-left[_ngcontent-%COMP%]{color:#919191;cursor:pointer;transition:all .5s}.previews-container[_ngcontent-%COMP%]   .nav[_ngcontent-%COMP%]:hover, .previews-container[_ngcontent-%COMP%] > .nav-right[_ngcontent-%COMP%]:hover, .previews-container[_ngcontent-%COMP%] > .nav-left[_ngcontent-%COMP%]:hover{transform:scale(1.1)}.previews-container[_ngcontent-%COMP%] > .nav-left[_ngcontent-%COMP%]{margin-right:10px}.previews-container[_ngcontent-%COMP%] > .nav-right[_ngcontent-%COMP%]{margin-left:10px}}@keyframes _ngcontent-%COMP%_fadein-visible{0%{opacity:0}to{opacity:1}}@keyframes _ngcontent-%COMP%_fadein-semi-visible05{0%{opacity:0}to{opacity:.5}}@keyframes _ngcontent-%COMP%_fadein-semi-visible08{0%{opacity:0}to{opacity:.8}}@keyframes _ngcontent-%COMP%_fadein-semi-visible09{0%{opacity:0}to{opacity:.9}}",Qi],changeDetection:0});let r=o;return r})(),Te={ESC:ft,LEFT_ARROW:Ct,RIGHT_ARROW:pt,UP_ARROW:ht,DOWN_ARROW:wt},Rt=(()=>{let o=class o{constructor(){this.loadingStandard=B.STANDARD,this.loadingBars=B.BARS,this.loadingCircular=B.CIRCULAR,this.loadingDots=B.DOTS,this.loadingCubeFlipping=B.CUBE_FLIPPING,this.loadingCircles=B.CIRCLES,this.loadingExplosingSquares=B.EXPLOSING_SQUARES}};o.\u0275fac=function(i){return new(i||o)},o.\u0275cmp=G({type:o,selectors:[["ks-loading-spinner"]],inputs:{loadingConfig:"loadingConfig",accessibilityConfig:"accessibilityConfig"},decls:9,vars:10,consts:[[3,"title"],[3,"ngSwitch"],[4,"ngSwitchCase"],[1,"cssload-loader"],[1,"cssload-inner","cssload-one"],[1,"cssload-inner","cssload-two"],[1,"cssload-inner","cssload-three"],[1,"loader-bars"],[1,"loader-circular"],[1,"loader-dots"],[1,"cube-wrapper"],[1,"cube-folding"],[1,"leaf1"],[1,"leaf2"],[1,"leaf3"],[1,"leaf4"],["id","preloader"],["id","loader"],[1,"loader"]],template:function(i,t){i&1&&(f(0,"div",0),x(1,1),b(2,Ji,5,0,"ng-container",2)(3,Xi,2,0,"ng-container",2)(4,$i,2,0,"ng-container",2)(5,Ki,2,0,"ng-container",2)(6,qi,7,0,"ng-container",2)(7,et,3,0,"ng-container",2)(8,it,6,0,"ng-container",2),P(),p()),i&2&&(l("title",t.accessibilityConfig==null?null:t.accessibilityConfig.loadingSpinnerTitle),v("aria-label",t.accessibilityConfig==null?null:t.accessibilityConfig.loadingSpinnerAriaLabel),c(),l("ngSwitch",t.loadingConfig==null?null:t.loadingConfig.type),c(),l("ngSwitchCase",t.loadingStandard),c(),l("ngSwitchCase",t.loadingBars),c(),l("ngSwitchCase",t.loadingCircular),c(),l("ngSwitchCase",t.loadingDots),c(),l("ngSwitchCase",t.loadingCubeFlipping),c(),l("ngSwitchCase",t.loadingCircles),c(),l("ngSwitchCase",t.loadingExplosingSquares))},dependencies:[ii,ti],styles:[".cssload-loader[_ngcontent-%COMP%]{position:absolute;inset:0;margin:auto;width:64px;height:64px;border-radius:50%;-o-border-radius:50%;-ms-border-radius:50%;-webkit-border-radius:50%;-moz-border-radius:50%;perspective:800px}.cssload-inner[_ngcontent-%COMP%]{position:absolute;width:100%;height:100%;box-sizing:border-box;-o-box-sizing:border-box;-ms-box-sizing:border-box;-webkit-box-sizing:border-box;-moz-box-sizing:border-box;border-radius:50%;-o-border-radius:50%;-ms-border-radius:50%;-webkit-border-radius:50%;-moz-border-radius:50%}.cssload-inner.cssload-one[_ngcontent-%COMP%]{left:0%;top:0%;animation:_ngcontent-%COMP%_cssload-rotate-one .6s linear infinite;-o-animation:cssload-rotate-one .6s linear infinite;-ms-animation:cssload-rotate-one .6s linear infinite;-webkit-animation:_ngcontent-%COMP%_cssload-rotate-one .6s linear infinite;-moz-animation:cssload-rotate-one .6s linear infinite;border-bottom:3px solid rgba(255,255,255,.99)}.cssload-inner.cssload-two[_ngcontent-%COMP%]{right:0%;top:0%;animation:_ngcontent-%COMP%_cssload-rotate-two .6s linear infinite;-o-animation:cssload-rotate-two .6s linear infinite;-ms-animation:cssload-rotate-two .6s linear infinite;-webkit-animation:_ngcontent-%COMP%_cssload-rotate-two .6s linear infinite;-moz-animation:cssload-rotate-two .6s linear infinite;border-right:3px solid rgb(255,255,255)}.cssload-inner.cssload-three[_ngcontent-%COMP%]{right:0%;bottom:0%;animation:_ngcontent-%COMP%_cssload-rotate-three .6s linear infinite;-o-animation:cssload-rotate-three .6s linear infinite;-ms-animation:cssload-rotate-three .6s linear infinite;-webkit-animation:_ngcontent-%COMP%_cssload-rotate-three .6s linear infinite;-moz-animation:cssload-rotate-three .6s linear infinite;border-top:3px solid rgb(255,255,255)}@keyframes _ngcontent-%COMP%_cssload-rotate-one{0%{transform:rotateX(35deg) rotateY(-45deg) rotate(0)}to{transform:rotateX(35deg) rotateY(-45deg) rotate(360deg)}}@keyframes _ngcontent-%COMP%_cssload-rotate-two{0%{transform:rotateX(50deg) rotateY(10deg) rotate(0)}to{transform:rotateX(50deg) rotateY(10deg) rotate(360deg)}}@keyframes _ngcontent-%COMP%_cssload-rotate-three{0%{transform:rotateX(35deg) rotateY(55deg) rotate(0)}to{transform:rotateX(35deg) rotateY(55deg) rotate(360deg)}}",".loader-dots[_ngcontent-%COMP%]{position:absolute;inset:0;color:#fefcff;font-size:10px;margin:auto;width:1em;height:1em;border-radius:50%;text-indent:-9999em;animation:_ngcontent-%COMP%_load4 1.3s infinite linear;transform:translateZ(0)}@keyframes _ngcontent-%COMP%_load4{0%,to{box-shadow:0 -3em 0 .2em,2em -2em,3em 0 0 -1em,2em 2em 0 -1em,0 3em 0 -1em,-2em 2em 0 -1em,-3em 0 0 -1em,-2em -2em}12.5%{box-shadow:0 -3em,2em -2em 0 .2em,3em 0,2em 2em 0 -1em,0 3em 0 -1em,-2em 2em 0 -1em,-3em 0 0 -1em,-2em -2em 0 -1em}25%{box-shadow:0 -3em 0 -.5em,2em -2em,3em 0 0 .2em,2em 2em,0 3em 0 -1em,-2em 2em 0 -1em,-3em 0 0 -1em,-2em -2em 0 -1em}37.5%{box-shadow:0 -3em 0 -1em,2em -2em 0 -1em,3em 0,2em 2em 0 .2em,0 3em,-2em 2em 0 -1em,-3em 0 0 -1em,-2em -2em 0 -1em}50%{box-shadow:0 -3em 0 -1em,2em -2em 0 -1em,3em 0 0 -1em,2em 2em,0 3em 0 .2em,-2em 2em,-3em 0 0 -1em,-2em -2em 0 -1em}62.5%{box-shadow:0 -3em 0 -1em,2em -2em 0 -1em,3em 0 0 -1em,2em 2em 0 -1em,0 3em,-2em 2em 0 .2em,-3em 0,-2em -2em 0 -1em}75%{box-shadow:0 -3em 0 -1em,2em -2em 0 -1em,3em 0 0 -1em,2em 2em 0 -1em,0 3em 0 -1em,-2em 2em,-3em 0 0 .2em,-2em -2em}87.5%{box-shadow:0 -3em,2em -2em 0 -1em,3em 0 0 -1em,2em 2em 0 -1em,0 3em 0 -1em,-2em 2em,-3em 0,-2em -2em 0 .2em}}",'.loader-bars[_ngcontent-%COMP%], .loader-bars[_ngcontent-%COMP%]:before, .loader-bars[_ngcontent-%COMP%]:after{background:#fefcff;animation:_ngcontent-%COMP%_load1 1s infinite ease-in-out;width:1em;height:4em}.loader-bars[_ngcontent-%COMP%]{position:absolute;inset:0;color:#fefcff;text-indent:-9999em;margin:auto;font-size:11px;transform:translateZ(0);animation-delay:-.16s}.loader-bars[_ngcontent-%COMP%]:before, .loader-bars[_ngcontent-%COMP%]:after{position:absolute;top:0;content:""}.loader-bars[_ngcontent-%COMP%]:before{left:-1.5em;animation-delay:-.32s}.loader-bars[_ngcontent-%COMP%]:after{left:1.5em}@keyframes _ngcontent-%COMP%_load1{0%,80%,to{box-shadow:0 0;height:4em}40%{box-shadow:0 -2em;height:5em}}',".loader-circular[_ngcontent-%COMP%], .loader-circular[_ngcontent-%COMP%]:after{border-radius:50%;width:10em;height:10em}.loader-circular[_ngcontent-%COMP%]{position:absolute;inset:0;margin:auto;font-size:10px;text-indent:-9999em;border-top:1.1em solid rgba(255,255,255,.2);border-right:1.1em solid rgba(255,255,255,.2);border-bottom:1.1em solid rgba(255,255,255,.2);border-left:1.1em solid #ffffff;transform:translateZ(0);animation:_ngcontent-%COMP%_load8 1.1s infinite linear}@keyframes _ngcontent-%COMP%_load8{0%{transform:rotate(0)}to{transform:rotate(360deg)}}",'.cube-folding[_ngcontent-%COMP%]{width:50px;height:50px;display:inline-block;transform:rotate(45deg);font-size:0}.cube-folding[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{position:relative;width:25px;height:25px;transform:scale(1.1);display:inline-block}.cube-folding[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]:before{content:"";background-color:#fff;position:absolute;left:0;top:0;display:block;width:25px;height:25px;transform-origin:100% 100%;animation:_ngcontent-%COMP%_folding 2.5s infinite linear both}.cube-folding[_ngcontent-%COMP%]   .leaf2[_ngcontent-%COMP%]{transform:rotate(90deg) scale(1.1)}.cube-folding[_ngcontent-%COMP%]   .leaf2[_ngcontent-%COMP%]:before{animation-delay:.3s;background-color:#f2f2f2}.cube-folding[_ngcontent-%COMP%]   .leaf3[_ngcontent-%COMP%]{transform:rotate(270deg) scale(1.1)}.cube-folding[_ngcontent-%COMP%]   .leaf3[_ngcontent-%COMP%]:before{animation-delay:.9s;background-color:#f2f2f2}.cube-folding[_ngcontent-%COMP%]   .leaf4[_ngcontent-%COMP%]{transform:rotate(180deg) scale(1.1)}.cube-folding[_ngcontent-%COMP%]   .leaf4[_ngcontent-%COMP%]:before{animation-delay:.6s;background-color:#e6e6e6}@keyframes _ngcontent-%COMP%_folding{0%,10%{transform:perspective(140px) rotateX(-180deg);opacity:0}25%,75%{transform:perspective(140px) rotateX(0);opacity:1}90%,to{transform:perspective(140px) rotateY(180deg);opacity:0}}.cube-wrapper[_ngcontent-%COMP%]{position:fixed;left:50%;top:50%;margin-top:-50px;margin-left:-50px;width:100px;height:100px;text-align:center}@keyframes _ngcontent-%COMP%_text{to{top:35px}}@keyframes _ngcontent-%COMP%_shadow{to{bottom:-18px;width:100px}}','#preloader[_ngcontent-%COMP%]{position:fixed;top:0;left:0;width:100%;height:100%}#loader[_ngcontent-%COMP%]{display:block;position:relative;left:50%;top:50%;width:100px;height:100px;margin:-75px 0 0 -75px;border-radius:50%;border:3px solid transparent;border-top-color:#b4b4b4;animation:_ngcontent-%COMP%_spin 2s linear infinite}#loader[_ngcontent-%COMP%]:before{content:"";position:absolute;inset:5px;border-radius:50%;border:3px solid transparent;border-top-color:#d9d9d9;animation:_ngcontent-%COMP%_spin 3s linear infinite}#loader[_ngcontent-%COMP%]:after{content:"";position:absolute;inset:15px;border-radius:50%;border:3px solid transparent;border-top-color:#fff;animation:_ngcontent-%COMP%_spin 1.5s linear infinite}@keyframes _ngcontent-%COMP%_spin{0%{transform:rotate(0)}to{transform:rotate(360deg)}}',"@keyframes _ngcontent-%COMP%_loader{0%,10%,to{width:60px;height:60px}65%{width:150px;height:150px}}@keyframes _ngcontent-%COMP%_loaderBlock{0%,30%{transform:rotate(0)}55%{background-color:#b4b4b4}to{transform:rotate(90deg)}}@keyframes _ngcontent-%COMP%_loaderBlockInverse{0%,20%{transform:rotate(0)}55%{background-color:#d9d9d9}to{transform:rotate(-90deg)}}.loader[_ngcontent-%COMP%]{position:absolute;top:50%;left:50%;width:60px;height:60px;transform:translate(-50%,-50%) rotate(45deg) translateZ(0);animation:_ngcontent-%COMP%_loader 1.2s infinite ease-in-out}.loader[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{position:absolute;display:block;width:40px;height:40px;background-color:#fff;animation:_ngcontent-%COMP%_loaderBlock 1.2s infinite ease-in-out both}.loader[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]:nth-child(1){top:0;left:0}.loader[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]:nth-child(2){top:0;right:0;animation:_ngcontent-%COMP%_loaderBlockInverse 1.2s infinite ease-in-out both}.loader[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]:nth-child(3){bottom:0;left:0;animation:_ngcontent-%COMP%_loaderBlockInverse 1.2s infinite ease-in-out both}.loader[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]:nth-child(4){bottom:0;right:0}"],changeDetection:0});let r=o;return r})(),Yt=(()=>{let o=class o{constructor(){this.keyboardNavigation=new I}onKeyDown(e){this.isOpen&&this.keyboardNavigation.emit(e.code)}};o.\u0275fac=function(i){return new(i||o)},o.\u0275dir=R({type:o,selectors:[["","ksKeyboardNavigation",""]],hostBindings:function(i,t){i&1&&h("keydown",function(s){return t.onKeyDown(s)},!1,Pe)},inputs:{isOpen:"isOpen"},outputs:{keyboardNavigation:"keyboardNavigation"}});let r=o;return r})(),Ft=(()=>{let o=class o{constructor(){this.defaultTouch={x:0,y:0,time:0},this.swipeLeft=new I,this.swipeRight=new I,this.swipeUp=new I,this.swipeDown=new I}handleTouch(e){let i=e.touches[0]||e.changedTouches[0];if(e.type==="touchstart")this.defaultTouch.x=i.pageX,this.defaultTouch.y=i.pageY,this.defaultTouch.time=e.timeStamp;else if(e.type==="touchend"){let t=i.pageX-this.defaultTouch.x,a=i.pageY-this.defaultTouch.y;e.timeStamp-this.defaultTouch.time<500&&(Math.abs(t)>60&&(t>0?this.swipeRight.emit():this.swipeLeft.emit()),Math.abs(a)>60&&(a>0?this.swipeDown.emit():this.swipeUp.emit()))}}};o.\u0275fac=function(i){return new(i||o)},o.\u0275dir=R({type:o,selectors:[["","ksSwipe",""]],hostBindings:function(i,t){i&1&&h("touchstart",function(s){return t.handleTouch(s)})("touchend",function(s){return t.handleTouch(s)})("touchcancel",function(s){return t.handleTouch(s)})},outputs:{swipeLeft:"swipeLeft",swipeRight:"swipeRight",swipeUp:"swipeUp",swipeDown:"swipeDown"}});let r=o;return r})(),hi=(()=>{let o=class o extends ee{constructor(e,i,t,a){super(),this.platformId=e,this.ngZone=i,this.ref=t,this.configService=a,this.isOpen=!1,this.loadImage=new I,this.changeImage=new I,this.closeGallery=new I,this.start$=new k,this.stop$=new k,this.normalAction=m.NORMAL,this.clickAction=m.CLICK,this.keyboardAction=m.KEYBOARD,this.isFirstImage=!1,this.isLastImage=!1,this.loading=!0}onMouseEnter(){!this.slideConfig||!this.slideConfig.playConfig||this.slideConfig.playConfig.pauseOnHover&&this.stopCarousel()}onMouseLeave(){!this.slideConfig||!this.slideConfig.playConfig||!this.slideConfig.playConfig.pauseOnHover||!this.slideConfig.playConfig.autoPlay||this.playCarousel()}ngOnInit(){let e=this.configService.getConfig(this.id);if(!e||!e.buttonsConfig)throw new Error("Internal library error - libConfig and buttonsConfig must be defined");this.slideConfig=e.slideConfig,this.accessibilityConfig=e.accessibilityConfig,this.currentImageConfig=e.currentImageConfig,this.keyboardConfig=e.keyboardConfig}ngOnChanges(e){let i=this.configService.getConfig(this.id);if(!i)throw new Error("Internal library error - libConfig must be defined");let t=e.images,a=e.currentImage;a&&a.previousValue!==a.currentValue?this.updateIndexes():t&&t.previousValue!==t.currentValue&&this.updateIndexes();let s=e.slideConfig;s&&s.previousValue!==s.currentValue&&(this.slideConfig=i.slideConfig)}ngAfterContentInit(){Ce(this.platformId)&&this.ngZone.runOutsideAngular(()=>{this.start$.pipe(Ie(()=>this.slideConfig&&this.slideConfig.playConfig&&this.slideConfig.playConfig.autoPlay&&this.slideConfig.playConfig.interval),be(e=>e>0),_e(e=>ve(e).pipe(Le(this.stop$)))).subscribe(()=>this.ngZone.run(()=>{this.isLastImage||this.nextImage(m.AUTOPLAY),this.ref.markForCheck()})),this.start$.next()})}onKeyPress(e){let i=this.keyboardConfig&&this.keyboardConfig.esc?this.keyboardConfig.esc:Te.ESC,t=this.keyboardConfig&&this.keyboardConfig.right?this.keyboardConfig.right:Te.RIGHT_ARROW,a=this.keyboardConfig&&this.keyboardConfig.left?this.keyboardConfig.left:Te.LEFT_ARROW;switch(e){case i:this.closeGallery.emit(new E(this.id,m.KEYBOARD,!0));break;case t:this.nextImage(m.KEYBOARD);break;case a:this.prevImage(m.KEYBOARD);break}}getDescriptionToDisplay(e=this.currentImage){if(!this.currentImageConfig||!this.currentImageConfig.description)throw new Error("Description input must be a valid object implementing the Description interface");let i=!e.modal||!e.modal.description||e.modal.description==="";switch(this.currentImageConfig.description.strategy){case $.HIDE_IF_EMPTY:return i?"":e.modal.description+"";case $.ALWAYS_HIDDEN:return"";default:return this.buildTextDescription(e,i)}}getAltDescriptionByImage(e=this.currentImage){return e?e.modal&&e.modal.description?e.modal.description:`Image ${y(e,this.images)+1}`:""}getTitleToDisplay(e=this.currentImage){if(!this.currentImageConfig||!this.currentImageConfig.description)throw new Error("Description input must be a valid object implementing the Description interface");let i=!e.modal||!e.modal.description||e.modal.description==="";return this.buildTextDescription(e,i)}getLeftPreviewImage(){if(!this.slideConfig)throw new Error("Internal library error - slideConfig must be defined");let e=y(this.currentImage,this.images);return e===0&&this.slideConfig.infinite?this.images[this.images.length-1]:(this.handleBoundaries(e),this.images[Math.max(e-1,0)])}getRightPreviewImage(){if(!this.slideConfig)throw new Error("Internal library error - slideConfig must be defined");let e=y(this.currentImage,this.images);return e===this.images.length-1&&this.slideConfig.infinite?this.images[0]:(this.handleBoundaries(e),this.images[Math.min(e+1,this.images.length-1)])}onImageEvent(e,i=m.NORMAL){if(!this.currentImageConfig)throw new Error("Internal library error - currentImageConfig must be defined");if(i===m.CLICK&&!this.currentImageConfig.navigateOnClick)return;super.handleImageEvent(e)===T&&this.nextImage(i)}onNavigationEvent(e,i,t=m.NORMAL,a=!1){if(a)return;let s=super.handleNavigationEvent(e,i);s===T?this.nextImage(t):s===H&&this.prevImage(t)}prevImage(e=m.NORMAL){if(this.isPreventSliding(0))return;let i=this.getPrevImage();this.loading=!i.previouslyLoaded,this.changeImage.emit(new E(this.id,e,y(i,this.images))),this.start$.next()}nextImage(e=m.NORMAL){if(this.isPreventSliding(this.images.length-1))return;let i=this.getNextImage();this.loading=!i.previouslyLoaded,this.changeImage.emit(new E(this.id,e,y(i,this.images))),this.start$.next()}onImageLoad(e){let i={status:!0,index:y(this.currentImage,this.images),id:this.currentImage.id};this.loadImage.emit(i),this.loading=!1}swipe(e="swiperight"){if(!this.currentImageConfig)throw new Error("Internal library error - currentImageConfig must be defined");switch(e){case"swiperight":this.currentImageConfig.invertSwipe?this.prevImage(m.SWIPE):this.nextImage(m.SWIPE);break;case"swipeleft":this.currentImageConfig.invertSwipe?this.nextImage(m.SWIPE):this.prevImage(m.SWIPE);break}}getIndexToDelete(e=this.currentImage){return y(e,this.images)}playCarousel(){this.start$.next()}stopCarousel(){this.stop$.next()}ngOnDestroy(){this.stopCarousel()}handleBoundaries(e){if(this.images.length===1){this.isFirstImage=!0,this.isLastImage=!0,this.ref.markForCheck();return}if(!this.slideConfig||this.slideConfig.infinite===!0)this.isFirstImage=!1,this.isLastImage=!1,this.ref.markForCheck();else switch(e){case 0:this.isFirstImage=!0,this.isLastImage=!1,this.ref.markForCheck();break;case this.images.length-1:this.isFirstImage=!1,this.isLastImage=!0,this.ref.markForCheck();break;default:this.isFirstImage=!1,this.isLastImage=!1,this.ref.markForCheck();break}}isPreventSliding(e){return!!this.slideConfig&&this.slideConfig.infinite===!1&&y(this.currentImage,this.images)===e}getNextImage(){let e=y(this.currentImage,this.images),i=0;return e>=0&&e<this.images.length-1?i=e+1:i=0,this.images[i]}getPrevImage(){let e=y(this.currentImage,this.images),i=0;return e>0&&e<=this.images.length-1?i=e-1:i=this.images.length-1,this.images[i]}buildTextDescription(e,i){if(!this.currentImageConfig||!this.currentImageConfig.description)throw new Error("Description input must be a valid object implementing the Description interface");if(this.currentImageConfig.description.customFullDescription&&this.currentImageConfig.description.customFullDescription!=="")return this.currentImageConfig.description.customFullDescription;let t=y(e,this.images),a=this.currentImageConfig.description.imageText?this.currentImageConfig.description.imageText:"",s=this.currentImageConfig.description.numberSeparator?this.currentImageConfig.description.numberSeparator:"",d=t+1+s+this.images.length;if(i)return a+d;let L=e.modal&&e.modal.description?e.modal.description:"",j=this.currentImageConfig.description.beforeTextDescription+L;return a+d+j}updateIndexes(){try{if(this.isOpen){let e=y(this.currentImage,this.images);this.handleBoundaries(e)}}catch(e){throw console.error("Cannot get the current image index in current-image"),e}}};o.\u0275fac=function(i){return new(i||o)(C(fe),C(De),C(ce),C(U))},o.\u0275cmp=G({type:o,selectors:[["ks-current-image"]],hostBindings:function(i,t){i&1&&h("mouseenter",function(){return t.onMouseEnter()})("mouseleave",function(){return t.onMouseLeave()})},inputs:{id:"id",currentImage:"currentImage",images:"images",isOpen:"isOpen"},outputs:{loadImage:"loadImage",changeImage:"changeImage",closeGallery:"closeGallery"},features:[W,Z],decls:15,vars:38,consts:[["firstImage",""],["lastImage",""],["ksKeyboardNavigation","",1,"main-image-container",3,"keyboardNavigation","isOpen","title"],[1,"left-sub-container"],["role","button",3,"click","keyup","tabIndex"],["aria-hidden","true",3,"title"],[4,"ngIf"],["id","current-figure"],[1,"current-image"],[4,"ngFor","ngForOf"],["ksFallbackImage","","role","img","ksSwipe","",1,"inside",3,"load","click","keyup","swipeLeft","swipeRight","id","loading","ngClass","src","fallbackImg","title","alt","tabIndex"],["class","inside description","ksDescription","",3,"description","innerHTML",4,"ngIf"],[1,"right-sub-container"],["class","inside current-image-previous","ksFallbackImage","","ksSize","","role","img",3,"loading","src","fallbackImg","hidden","sizeConfig","title","alt","tabIndex","click","keyup",4,"ngIf","ngIfElse"],["ksFallbackImage","","ksSize","","role","img",1,"inside","current-image-previous",3,"click","keyup","loading","src","fallbackImg","hidden","sizeConfig","title","alt","tabIndex"],["ksSize","",1,"current-image-previous","hidden",3,"sizeConfig"],[3,"media","srcset"],["ksDescription","",1,"inside","description",3,"description","innerHTML"],["class","inside current-image-next","ksFallbackImage","","ksSize","","role","img",3,"loading","src","fallbackImg","hidden","sizeConfig","title","alt","tabIndex","click","keyup",4,"ngIf","ngIfElse"],["ksFallbackImage","","ksSize","","role","img",1,"inside","current-image-next",3,"click","keyup","loading","src","fallbackImg","hidden","sizeConfig","title","alt","tabIndex"],["ksSize","",1,"current-image-next","hidden",3,"sizeConfig"],[3,"loadingConfig","accessibilityConfig"]],template:function(i,t){i&1&&(f(0,"main",2),h("keyboardNavigation",function(s){return t.onKeyPress(s)}),f(1,"div",3)(2,"a",4),h("click",function(s){return t.onNavigationEvent("left",s)})("keyup",function(s){return t.onNavigationEvent("left",s)}),_(3,"div",5),p(),b(4,ot,2,1,"ng-container",6),p(),f(5,"figure",7)(6,"picture",8),b(7,at,2,2,"ng-container",9),f(8,"img",10),h("load",function(s){return t.onImageLoad(s)})("click",function(s){return t.onImageEvent(s,t.clickAction)})("keyup",function(s){return t.onImageEvent(s,t.keyboardAction)})("swipeLeft",function(){return t.swipe("swipeleft")})("swipeRight",function(){return t.swipe("swiperight")}),p()(),b(9,st,1,2,"figcaption",11),p(),f(10,"div",12),b(11,ut,2,1,"ng-container",6)(12,dt,2,2,"ng-container",6),f(13,"a",4),h("click",function(s){return t.onNavigationEvent("right",s)})("keyup",function(s){return t.onNavigationEvent("right",s)}),_(14,"div",5),p()()()),i&2&&(l("isOpen",t.isOpen)("title",t.accessibilityConfig==null?null:t.accessibilityConfig.mainContainerTitle),v("aria-label",t.accessibilityConfig==null?null:t.accessibilityConfig.mainContainerAriaLabel),c(2),S("nav-left ",t.isFirstImage?"no-pointer":"",""),l("tabIndex",t.isFirstImage?-1:0),v("aria-label",t.accessibilityConfig==null?null:t.accessibilityConfig.mainPrevImageAriaLabel),c(),S("inside ",t.isFirstImage?"empty-arrow-image":"left-arrow-image",""),l("title",t.isFirstImage?"":t.accessibilityConfig==null?null:t.accessibilityConfig.mainPrevImageTitle),c(),l("ngIf",t.slideConfig==null||t.slideConfig.sidePreviews==null?null:t.slideConfig.sidePreviews.show),c(),pe("opacity",t.loading?"0":"1"),c(2),l("ngForOf",t.currentImage.modal==null?null:t.currentImage.modal.sources),c(),Y("alt",t.currentImage.modal.alt?t.currentImage.modal.alt:t.getAltDescriptionByImage()),l("id",t.currentImage.id)("loading",t.currentImage.loading)("ngClass",t.currentImageConfig!=null&&t.currentImageConfig.navigateOnClick?"":"unclickable")("src",t.currentImage.modal.img,V)("fallbackImg",t.currentImage.modal.fallbackImg)("title",t.currentImage.modal.title||t.currentImage.modal.title===""?t.currentImage.modal.title:t.getTitleToDisplay())("tabIndex",0),v("fetchpriority",t.currentImage.fetchpriority)("aria-label",t.currentImage.modal.ariaLabel),c(),l("ngIf",t.getDescriptionToDisplay()!==""),c(2),l("ngIf",t.slideConfig==null||t.slideConfig.sidePreviews==null?null:t.slideConfig.sidePreviews.show),c(),l("ngIf",t.loading&&(t.currentImageConfig==null||t.currentImageConfig.loadingConfig==null?null:t.currentImageConfig.loadingConfig.enable)),c(),S("nav-right ",t.isFirstImage?"no-pointer":"",""),l("tabIndex",t.isLastImage?-1:0),v("aria-label",t.accessibilityConfig==null?null:t.accessibilityConfig.mainNextImageAriaLabel),c(),S("inside ",t.isLastImage?"empty-arrow-image":"right-arrow-image",""),l("title",t.isLastImage?"":t.accessibilityConfig==null?null:t.accessibilityConfig.mainNextImageTitle))},dependencies:[je,Q,J,Rt,ue,Yt,Ii,Me,Ft],styles:["[_nghost-%COMP%]{display:flex;flex-direction:column;justify-content:center}.main-image-container[_ngcontent-%COMP%]{display:flex;flex-direction:row;align-items:center;justify-content:space-between}.main-image-container[_ngcontent-%COMP%]   .nav[_ngcontent-%COMP%], .main-image-container[_ngcontent-%COMP%] > .right-sub-container[_ngcontent-%COMP%] > .nav-right[_ngcontent-%COMP%], .main-image-container[_ngcontent-%COMP%] > .left-sub-container[_ngcontent-%COMP%] > .nav-left[_ngcontent-%COMP%]{animation:animatezoom 1s;cursor:pointer;transition:all .5s}.main-image-container[_ngcontent-%COMP%]   .nav[_ngcontent-%COMP%]:hover, .main-image-container[_ngcontent-%COMP%] > .right-sub-container[_ngcontent-%COMP%] > .nav-right[_ngcontent-%COMP%]:hover, .main-image-container[_ngcontent-%COMP%] > .left-sub-container[_ngcontent-%COMP%] > .nav-left[_ngcontent-%COMP%]:hover{transform:scale(1.1)}.main-image-container[_ngcontent-%COMP%] > .left-sub-container[_ngcontent-%COMP%]{display:flex;flex-direction:row;justify-content:space-around;align-items:center}.main-image-container[_ngcontent-%COMP%] > .left-sub-container[_ngcontent-%COMP%] > .nav-left[_ngcontent-%COMP%]{margin-right:5px;margin-left:15px}.main-image-container[_ngcontent-%COMP%] > .left-sub-container[_ngcontent-%COMP%] > .nav-left.no-pointer[_ngcontent-%COMP%]{cursor:default!important}.main-image-container[_ngcontent-%COMP%] > .right-sub-container[_ngcontent-%COMP%]{display:flex;flex-direction:row;justify-content:space-around;align-items:center}.main-image-container[_ngcontent-%COMP%] > .right-sub-container[_ngcontent-%COMP%] > .nav-right[_ngcontent-%COMP%]{margin-right:15px;margin-left:5px}.main-image-container[_ngcontent-%COMP%] > .right-sub-container[_ngcontent-%COMP%] > .nav-right.no-pointer[_ngcontent-%COMP%]{cursor:default!important}.main-image-container[_ngcontent-%COMP%]   #current-figure[_ngcontent-%COMP%]{animation:_ngcontent-%COMP%_fadein-visible .8s;text-align:center;margin:0;position:relative}.main-image-container[_ngcontent-%COMP%]   #current-figure[_ngcontent-%COMP%] > .current-image[_ngcontent-%COMP%]{display:block}.main-image-container[_ngcontent-%COMP%]   #current-figure[_ngcontent-%COMP%] > .current-image[_ngcontent-%COMP%] > img[_ngcontent-%COMP%]{max-width:100%;height:auto;display:block}.main-image-container[_ngcontent-%COMP%]   #current-figure[_ngcontent-%COMP%] > .current-image[_ngcontent-%COMP%] > img.unclickable[_ngcontent-%COMP%]{cursor:not-allowed}.main-image-container[_ngcontent-%COMP%]   #current-figure[_ngcontent-%COMP%]   figcaption[_ngcontent-%COMP%]{padding:10px;position:absolute;bottom:0;left:0;right:0}.main-image-container[_ngcontent-%COMP%]   #current-figure[_ngcontent-%COMP%]   figcaption[_ngcontent-%COMP%]   .description[_ngcontent-%COMP%]{font-weight:700;text-align:center}.current-image[_ngcontent-%COMP%] > img[_ngcontent-%COMP%]{height:auto;max-width:80vw;max-height:60vh;cursor:pointer}@media screen and (min-width: 70vw){.current-image[_ngcontent-%COMP%] > img[_ngcontent-%COMP%]{max-width:70vw}}@keyframes _ngcontent-%COMP%_fadein-visible{0%{opacity:0}to{opacity:1}}@keyframes _ngcontent-%COMP%_fadein-semi-visible05{0%{opacity:0}to{opacity:.5}}@keyframes _ngcontent-%COMP%_fadein-semi-visible08{0%{opacity:0}to{opacity:.8}}@keyframes _ngcontent-%COMP%_fadein-semi-visible09{0%{opacity:0}to{opacity:.9}}",mt,"@media only screen and (max-width: 1024px),only screen and (max-device-width: 1024px){.current-image-previous[_ngcontent-%COMP%], .current-image-next[_ngcontent-%COMP%]{display:none}}@media only screen and (min-device-width: 1025px){.current-image-preview[_ngcontent-%COMP%], .current-image-next[_ngcontent-%COMP%], .current-image-previous[_ngcontent-%COMP%]{height:auto;cursor:pointer;opacity:.5;animation:_ngcontent-%COMP%_fadein-semi-visible05 .8s;filter:alpha(opacity=50)}.current-image-preview[_ngcontent-%COMP%]:hover, .current-image-next[_ngcontent-%COMP%]:hover, .current-image-previous[_ngcontent-%COMP%]:hover{opacity:1;transition-property:opacity;transition:all .5s ease}.current-image-previous[_ngcontent-%COMP%]{margin-left:10px;margin-right:5px}.current-image-next[_ngcontent-%COMP%]{margin-right:10px;margin-left:5px}}@keyframes _ngcontent-%COMP%_fadein-semi-visible05{0%{opacity:0}to{opacity:.5}}"],changeDetection:0});let r=o;return r})();var vi=new Ye("DIALOG_DATA"),Ht=(()=>{let o=class o{constructor(){this.ids=new Map}checkAndAdd(e){if(e===void 0||!Number.isInteger(e)||e<0)throw new Error('You must provide a valid [id]="unique integer > 0 here" to the gallery/carousel in your template');if(this.ids.get(e))throw new Error(`Cannot create gallery with id=${e} because already used in your application. This must be a unique integer >= 0`);return this.ids.set(e,e),!0}remove(e){if(e===void 0||!Number.isInteger(e)||e<0)throw new Error('You must provide a valid [id]="unique integer > 0 here" to the gallery/carousel in your template');return this.ids.delete(e),!0}};o.\u0275fac=function(i){return new(i||o)},o.\u0275prov=te({token:o,factory:o.\u0275fac,providedIn:"root"});let r=o;return r})(),Vt=(()=>{let o=class o{constructor(){this.clickOutside=new I}onClick(e){e.stopPropagation();let i=e.target;if(!this.clickOutsideEnable||!i)return;let t=!1,a=!1;typeof i.className!="string"?t=!0:(t=i.className&&i.className.includes("inside"),a=i.className.includes("hidden")),(!t||a)&&this.clickOutside.emit(!0)}};o.\u0275fac=function(i){return new(i||o)},o.\u0275dir=R({type:o,selectors:[["","ksClickOutside",""]],hostBindings:function(i,t){i&1&&h("click",function(s){return t.onClick(s)})},inputs:{clickOutsideEnable:"clickOutsideEnable"},outputs:{clickOutside:"clickOutside"}});let r=o;return r})(),Wt=(()=>{let o=class o{onPopState(){this.closeGallery()}onSaveListener(e){e.preventDefault(),this.downloadImage()}constructor(e,i,t,a,s,d,L){this.dialogContent=e,this.modalGalleryService=i,this.platformId=t,this.changeDetectorRef=a,this.idValidatorService=s,this.configService=d,this.sanitizer=L,this.enableCloseOutside=!0,this.accessibilityConfig=wi,this.showGallery=!1,this.id=this.dialogContent.id,this.images=this.dialogContent.images,this.currentImage=this.dialogContent.currentImage,this.libConfig=this.dialogContent.libConfig,this.customPreviewsTemplate=this.dialogContent.previewsTemplate,this.configService.setConfig(this.id,this.libConfig),this.updateImagesSubscription=this.modalGalleryService.updateImages$.subscribe(j=>{this.images=j.map(D=>Object.assign({},D,{previouslyLoaded:!1})),this.initImages(),this.images.forEach(D=>{D.id===this.currentImage.id&&(this.currentImage=D)}),this.changeDetectorRef.markForCheck()})}ngOnInit(){if(this.idValidatorService.checkAndAdd(this.id),!this.id&&this.id!==0||this.id<0)throw new Error(`'[id]="a number >= 0"' is a mandatory input in angular-modal-gallery.If you are using multiple instances of this library, please be sure to use different ids`);let e=this.configService.getConfig(this.id);if(!e||!e.dotsConfig)throw new Error("Internal library error - libConfig and dotsConfig must be defined");this.dotsConfig=e.dotsConfig,setTimeout(()=>{this.initImages()},0)}onCustomEmit(e){let i=this.getButtonEventToEmit(e);this.modalGalleryService.emitButtonBeforeHook(i),this.modalGalleryService.emitButtonAfterHook(i)}onFullScreen(e){let i=this.getButtonEventToEmit(e);this.modalGalleryService.emitButtonBeforeHook(i);let t=document,a=document.documentElement;!t.fullscreenElement&&!t.webkitFullscreenElement?a.requestFullscreen?a.requestFullscreen().then(()=>{}).catch(()=>{console.error("Cannot request full screen")}):a.webkitRequestFullscreen&&a.webkitRequestFullscreen():t.exitFullscreen?t.exitFullscreen().then(()=>{}).catch(()=>{console.error("Cannot request exit full screen")}):t.webkitExitFullscreen&&t.webkitExitFullscreen(),this.modalGalleryService.emitButtonAfterHook(i)}onDelete(e){let i=this.getButtonEventToEmit(e);if(this.modalGalleryService.emitButtonBeforeHook(i),this.images.length===1&&this.closeGallery(),!this.currentImageComponent)throw new Error("currentImageComponent must be defined");this.currentImageComponent.getIndexToDelete(e.image)===this.images.length-1?this.currentImageComponent.prevImage():this.currentImageComponent.nextImage(),this.modalGalleryService.emitButtonAfterHook(i)}onNavigate(e){let i=this.getButtonEventToEmit(e);if(this.modalGalleryService.emitButtonBeforeHook(i),Ce(this.platformId)&&i.image&&i.image.modal.extUrl)if(i.button&&i.button.extUrlInNewTab){let t=window.open(i.image.modal.extUrl,"noopener,noreferrer,");t&&(t.opener=null,this.modalGalleryService.emitButtonAfterHook(i))}else this.updateLocationHref(i.image.modal.extUrl),this.modalGalleryService.emitButtonAfterHook(i)}updateLocationHref(e){window.location.href=e}onDownload(e){let i=this.getButtonEventToEmit(e);this.modalGalleryService.emitButtonBeforeHook(i),this.downloadImage(),this.modalGalleryService.emitButtonAfterHook(i)}onCloseGalleryButton(e,i=m.NORMAL){let t=this.getButtonEventToEmit(e);this.modalGalleryService.emitButtonBeforeHook(t),this.closeGallery(i,!1)}onCloseGallery(e,i=m.NORMAL){let t={button:{type:O.CLOSE},image:null,action:e.action,galleryId:e.galleryId};this.modalGalleryService.emitButtonBeforeHook(t),this.closeGallery(i,!1)}closeGallery(e=m.NORMAL,i=!1){if(!this.configService.getConfig(this.id))throw new Error("Internal library error - libConfig must be defined");this.modalGalleryService.emitClose(new E(this.id,e,!0)),this.modalGalleryService.close(this.id,i)}onChangeCurrentImage(e){let i=e.result;i<0||i>=this.images.length||(this.currentImage=this.images[i],this.modalGalleryService.emitShow(new E(this.id,e.action,i+1)),this.emitBoundaryEvent(e.action,i))}onClickOutside(e){e&&this.enableCloseOutside&&this.closeGallery(m.CLICK,!0)}onImageLoad(e){this.images=this.images.map(i=>i&&i.id===e.id?Object.assign({},i,{previouslyLoaded:e.status}):i)}onClickDot(e){this.currentImage=this.images[e]}onClickPreview(e){this.onChangeCurrentImage(e)}ngOnDestroy(){this.updateImagesSubscription&&this.updateImagesSubscription.unsubscribe(),this.idValidatorService.remove(this.id)}downloadImage(){if(this.id===null||this.id===void 0)throw new Error("Internal library error - id must be defined");let e=this.configService.getConfig(this.id);if(!e)throw new Error("Internal library error - libConfig must be defined");let i=e.currentImageConfig;i&&!i.downloadable||this.downloadImageAllBrowsers()}base64toBlob(e,i=""){let a=atob(e),s=a.length,d=Math.ceil(s/1024),L=new Array(d);for(let j=0;j<d;++j){let D=j*1024,ie=Math.min(D+1024,s),Be=new Array(ie-D);for(let ye=D,Ue=0;ye<ie;++Ue,++ye)Be[Ue]=a[ye].charCodeAt(0);L[j]=new Uint8Array(Be)}return new Blob(L,{type:i})}downloadImageAllBrowsers(){let e=document.createElement("a"),i=!1,t;if(typeof this.currentImage.modal.img=="string"?t=this.currentImage.modal.img:t=this.sanitizer.sanitize(He.RESOURCE_URL,this.currentImage.modal.img),t.includes("data:image/")||t.includes(";base64,")){let a=t.replace("data:image/","").split(";base64,")[0],s=t.split(";base64,")[1],d=this.base64toBlob(s,"image/"+a);e.href=URL.createObjectURL(d),i=!0,e.setAttribute("download",this.getFileName(this.currentImage,i,a))}else e.href=t,e.setAttribute("download",this.getFileName(this.currentImage,i));document.body.appendChild(e),e.click(),document.body.removeChild(e)}getButtonEventToEmit(e){return Object.assign(e,{image:this.currentImage})}getFileName(e,i=!1,t=""){return!e.modal.downloadFileName||e.modal.downloadFileName.length===0?i?`Image-${e.id}.${t!==""?t:"png"}`:e.modal.img.replace(/^.*[\\\/]/,""):e.modal.downloadFileName}initImages(){this.modalGalleryService.emitHasData(new E(this.id,m.LOAD,!0));let e=this.images.indexOf(this.currentImage);this.modalGalleryService.emitShow(new E(this.id,m.LOAD,e+1)),this.emitBoundaryEvent(m.NORMAL,e),this.showGallery=this.images.length>0}emitBoundaryEvent(e,i){switch(i){case 0:this.modalGalleryService.emitFirstImage(new E(this.id,e,!0));break;case this.images.length-1:this.modalGalleryService.emitLastImage(new E(this.id,e,!0));break}}};o.\u0275fac=function(i){return new(i||o)(C(vi),C(Ze),C(fe),C(ce),C(Ht),C(U),C(ke))},o.\u0275cmp=G({type:o,selectors:[["ks-modal-gallery"]],viewQuery:function(i,t){if(i&1&&Xe(hi,7),i&2){let a;$e(a=Ke())&&(t.currentImageComponent=a.first)}},hostBindings:function(i,t){i&1&&h("popstate",function(){return t.onPopState()},!1,Pe)("keydown.code.control.keyS",function(s){return t.onSaveListener(s)},!1,Oe)("keydown.code.meta.keyS",function(s){return t.onSaveListener(s)},!1,Oe)},decls:8,vars:17,consts:[["id","modal-gallery-wrapper","ksClickOutside","",3,"clickOutside","title","clickOutsideEnable"],["id","flex-min-height-ie-fix"],["id","modal-gallery-container"],[3,"delete","navigate","download","closeButton","fullscreen","customEmit","id","currentImage"],[3,"loadImage","changeImage","closeGallery","id","images","currentImage","isOpen"],[3,"clickDot","id","images","currentImage","dotsConfig"],[3,"clickPreview","id","images","currentImage","customTemplate"]],template:function(i,t){i&1&&(f(0,"div",0),h("clickOutside",function(s){return t.onClickOutside(s)}),f(1,"div",1)(2,"div",2)(3,"ks-upper-buttons",3),h("delete",function(s){return t.onDelete(s)})("navigate",function(s){return t.onNavigate(s)})("download",function(s){return t.onDownload(s)})("closeButton",function(s){return t.onCloseGalleryButton(s)})("fullscreen",function(s){return t.onFullScreen(s)})("customEmit",function(s){return t.onCustomEmit(s)}),p(),f(4,"ks-current-image",4),h("loadImage",function(s){return t.onImageLoad(s)})("changeImage",function(s){return t.onChangeCurrentImage(s)})("closeGallery",function(s){return t.onCloseGallery(s)}),p(),f(5,"div")(6,"ks-dots",5),h("clickDot",function(s){return t.onClickDot(s)}),p(),f(7,"ks-previews",6),h("clickPreview",function(s){return t.onClickPreview(s)}),p()()()()()),i&2&&(l("title",t.accessibilityConfig.modalGalleryContentTitle)("clickOutsideEnable",t.enableCloseOutside),v("aria-label",t.accessibilityConfig.modalGalleryContentAriaLabel),c(3),l("id",t.id)("currentImage",t.currentImage),c(),l("id",t.id)("images",t.images)("currentImage",t.currentImage)("isOpen",!0),c(2),l("id",t.id)("images",t.images)("currentImage",t.currentImage)("dotsConfig",t.dotsConfig),c(),l("id",t.id)("images",t.images)("currentImage",t.currentImage)("customTemplate",t.customPreviewsTemplate))},dependencies:[Bt,yi,Ut,hi,Vt],styles:["#flex-min-height-ie-fix[_ngcontent-%COMP%]{display:flex;flex-direction:column;justify-content:center}#modal-gallery-container[_ngcontent-%COMP%]{display:flex;flex-direction:column;justify-content:space-between;min-width:100vw;min-height:100vh}"],changeDetection:0});let r=o;return r})();var Qt=(()=>{let o=class o{constructor(e,i){this.injector=e,this.modalGalleryService=i}initialize(){this.modalGalleryService.triggerAttachToOverlay.subscribe(e=>this.attachToOverlay(e))}attachToOverlay(e){let i=me.create({parent:this.injector,providers:[{provide:we,useValue:e.dialogRef},{provide:vi,useValue:e.config}]}),t=new ai(Wt,null,i);e.overlayRef.attach(t)}};o.\u0275fac=function(i){return new(i||o)(ne(me),ne(Ze))},o.\u0275prov=te({token:o,factory:o.\u0275fac,providedIn:"root"});let r=o;return r})(),In=(()=>{let o=class o{};o.\u0275fac=function(i){return new(i||o)},o.\u0275mod=Fe({type:o}),o.\u0275inj=Re({providers:[{provide:ei,multi:!0,deps:[Qt],useFactory:e=>()=>e.initialize()}],imports:[ri,ci]});let r=o;return r})();export{pi as a,yn as b,In as c};
